<?xml version="1.0" encoding="windows-1251"?>
<root><query id="LastDate1">
    <![CDATA[select
  non empty
    (
        {
            --[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Квартал].Members
                    [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].members
            --[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].   : [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].[%EndPeriod%]
        }
    ) on rows,
    NON EMPTY
    {
        [Мониторинг__Заказчики].[Мониторинг__Заказчики].MEMBERS
    }on columns
from [ЭО_Мониторинг_Контракты по продукции]
where
    (
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
        },
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции],
        [Measures].[Стоимость]
    )]]>
  </query>
<query id="LastDate">
    <![CDATA[select
  non empty
    (
        {
[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Квартал].Members
            --[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].   : [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].[%EndPeriod%]
        }
    ) on rows,
    NON EMPTY
    {
        [Мониторинг__Заказчики].[Мониторинг__Заказчики].MEMBERS
    }on columns
from [ЭО_Мониторинг_Контракты по продукции]
where
    (
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
        },
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции],
        [Measures].[Стоимость]
    )]]>
  </query>
  <query id="region">
    <![CDATA[
    select
    {
        CROSSJOIN
        (
            {
                [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 1]
               :[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 1].lag(4)
            },
            {
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Товары],
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Услуги],
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Работы]
            }
        )
    }on columns,
    NON EMPTY
    {
[Мониторинг__Территории].[Мониторинг__Территории].children
    } on rows
from [ЭО_Мониторинг_Контракты по продукции]
where
    (
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
        },
        [Measures].[Стоимость]
    )
    ]]>
  </query>
<query id="Grid">
    <![CDATA[
    --grid
    with 
    member [Measures].[Стоимость_] as '([Measures].[Стоимость]/1000)'
    member [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear2%>].[Полугодие <%SelectHalf%>].[ <%SelectQard%>]
	as '[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear2%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>]'
    select
    {
        CROSSJOIN  
        (
         
            {
                        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear2%>].[Полугодие <%SelectHalf%>].[ <%SelectQard%>], --  [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear2%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>],
            filter(
            {                       
                [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>]
               :[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>].lag(3)}
               ,
                not isempty([Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Товары])or
                not isempty([Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Услуги])or
                not isempty([Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Работы]))
               
               
            },
            {
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Товары],
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Услуги],
                [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Работы]   
            }   
        ) 
    }on columns,
    NON EMPTY   
    {
        --        [Мониторинг__Заказчики].[Мониторинг__Заказчики].MEMBERS
        [ГРБС__Сопоставимый].[ГРБС__Сопоставимый].memBERS  
    } on rows  
from [ЭО_Мониторинг_Контракты по продукции]   
where   
    (
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]  
        },
        [Мониторинг__Территории].[Мониторинг__Территории].[Все территории].[<%Region%>],
        [Measures].[Стоимость_]		
    )   ]]>
  </query>  
  <query id="C1">
    <![CDATA[
    with 
    member [Measures].[Стоимость_] as '([Measures].[Стоимость]/1000)+0'
    --C1
    select
    {[Measures].[Стоимость_]} on columns,
    {   [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Товары],
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Услуги],
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Работы]
    }
    on rows
from [ЭО_Мониторинг_Контракты по продукции]
where ({[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
}
,[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>]

)]]>
  </query> 
  <query id="C2">
    <![CDATA[
    with 
    member [Measures].[Стоимость_] as '([Measures].[Стоимость]/1000)+0'
    --C2    
    select
    {
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>]
       :[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>].lag(3)
    } on columns,
    {   [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Товары],
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Услуги],
        [Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Все виды продукции].[Работы]
    }
    on rows
from [ЭО_Мониторинг_Контракты по продукции]
where ({[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]},
[Measures].[Стоимость_]<%GRBS%>)

]]>
  </query>  
   <query id="C3">
    <![CDATA[
    with 
    member [Measures].[Стоимость_] as '([Measures].[Стоимость]/1000)'
    --c3
    select
	{
                [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>]
               :[Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[(All)].[Данные всех периодов].[<%SelectYear%>].[Полугодие <%SelectHalf%>].[<%SelectQard%>].lag(3)
	}on rows
	,
	NON EMPTY {[Мониторинг__ОКДП].[Мониторинг__ОКДП].[Уровень 2].MEMBERS}  on columns
	from [ЭО_Мониторинг_Контракты по продукции]
	where
	(
		[Measures].[Стоимость_],
		{
			[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
			[Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
		},
		[Вид продукции__Сопоставимый].[Вид продукции__Сопоставимый].[Вид продукции].[<%TypeProduct%>]<%GRBS%>
	)
]]>
  </query>  
</root>