<?xml version="1.0" encoding="windows-1251"?>
<root>
  <query id = "ld">
    <![CDATA[
select
    {
        [Measures].[Стоимость контракта]

    }on columns,
    NON EMPTY  
    {
       [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].members
    } on rows  
from [ЭО_Мониторинг_Контракты]
where  
    (
--        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].[2009],
        [ГРБС__Сопоставимый].[ГРБС__Сопоставимый].[ГРБС].[Департамент труда и социальной защиты населения Ханты-Мансийского автономного округа - Югры],
        [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие],
        [Мониторинг__Состояния сведений об ИспПрДействия].[Мониторинг__Состояния сведений об ИспПрДействия].[Состояние].[Подписан],
        [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Расторгнут]  
    )
 
 ]]>

  </query>
    <query id = "xm">
    <![CDATA[select
    {
        [Measures].[Стоимость контракта]

    }on columns,
    non empty{
        filter 
        (
            [ГРБС__Сопоставимый].members,
            Right 
            (
                                    [ГРБС__Сопоставимый].[ГРБС__Сопоставимый].Currentmember.UniqueName,
                10 
            ) <> "DATAMEMBER"  
        )  
    } on rows  
from [ЭО_Мониторинг_Контракты]
where  
    (
--        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].[2009],
     --   [ГРБС__Сопоставимый].[ГРБС__Сопоставимый].[ГРБС].[Департамент труда и социальной защиты населения Ханты-Мансийского автономного округа - Югры],
        [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие],
        [Мониторинг__Состояния сведений об ИспПрДействия].[Мониторинг__Состояния сведений об ИспПрДействия].[Состояние].[Подписан],
        [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Расторгнут]  
    )  
 ]]>

  </query>
      <query id = "FatherGrid">
    <![CDATA[select
    {
        [Measures].[Количество контрактов]
    }on columns,
    NON EMPTY
    {
        Order
        (
            [Мониторинг__Поставщики].[Мониторинг__Поставщики].[(All)].[Все поставщики].children,
            [Measures].[Количество контрактов],
            DESC
        )
        /*  Sum
        (
            [Мониторинг__Поставщики].[Мониторинг__Поставщики].[(All)].[Все поставщики].children,
            [Measures].[Количество контрактов]
        )*/
    } on rows
from [ЭО_Мониторинг_Контракты]
where
    (
        [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие],
        --[ГРБС__Сопоставимый].[ГРБС__Сопоставимый].[ГРБС].[Департамент труда и социальной защиты населения Ханты-Мансийского автономного округа - Югры],
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].[<%Year%>],
        <%GRBS%>,
        [Мониторинг__Состояния сведений об ИспПрДействия].[Мониторинг__Состояния сведений об ИспПрДействия].[Состояние].[Подписан]  /**/,
--        {
           -- [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Подписан],
           -- [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Исполнен],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Расторгнут]
  --      }
    )


 
 ]]>

  </query>
<query id = "ChildrenGrid">
    <![CDATA[/*with
    member [Measures].[Причина прекращения действия]  
    as '[Мониторинг__Контракты].[Мониторинг__Контракты].Currentmember.Properties("Причина прекращения действия")'  */ 
select
    {
        [Measures].[Стоимость контракта],
        [Measures].[Фактически оплачено]    
    }on columns,
    NON EMPTY   
    {
         crossjoin 
        (
            [Мониторинг__Контракты].[Мониторинг__Контракты].[Контракт].members,
            crossjoin   
            (
            <%WhippingAndGingerbread%>,--    [Мониторинг__Поставщики].[Мониторинг__Поставщики].[(All)].[Все поставщики].[ООО "РОСТорг"]  ,
                crossjoin(
                [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Способ закупки].members,
                [Мониторинг__Дата ИспПрДействия].[Мониторинг__Дата ИспПрДействия].[Дата])
            )   
        )   
    } on rows   
from [ЭО_Мониторинг_Контракты]   
where   
    (
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].[<%Year%>],
        --[ГРБС__Сопоставимый].[ГРБС__Сопоставимый].[ГРБС].[Департамент труда и социальной защиты населения Ханты-Мансийского автономного округа - Югры],
        <%GRBS%>,
        [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие],
        [Мониторинг__Состояния сведений об ИспПрДействия].[Мониторинг__Состояния сведений об ИспПрДействия].[Состояние].[Подписан],
        [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Расторгнут]    
    )]]>
  </query>
  <query id = "C_">
    <![CDATA[
    select
    {
        [Measures].[Количество контрактов]
    }on columns,
    NON EMPTY
    {
        [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Исполнен],
                [Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие]
    } on rows
from [ЭО_Мониторинг_Контракты]
where
    (
        --[Мониторинг__Тип сведения об ИспПрДействия].[Мониторинг__Тип сведения об ИспПрДействия].[Тип].[Прекращено действие],
        --[ГРБС__Сопоставимый].[ГРБС__Сопоставимый].[ГРБС].[Департамент труда и социальной защиты населения Ханты-Мансийского автономного округа - Югры],
        <%GRBS%>,
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].[<%Year%>],
        [Мониторинг__Состояния сведений об ИспПрДействия].[Мониторинг__Состояния сведений об ИспПрДействия].[Состояние].[Подписан]  /**/,
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Исполнен],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Состояние контракта].[Расторгнут]
        }
    )]]>
  </query>
</root>