<?xml version="1.0" encoding="Windows-1251"?>
<root>
--FNS_0004_0002_Date
<query id="FO_0003_0001_Date">
    <![CDATA[
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Факт]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_МесОтч_Доходы]
  ]]>
  </query>

--FNS_0004_0002_Grid
  <query id="FO_0003_0001_Grid">
   <![CDATA[
WITH       
    MEMBER [КД].[Сопоставимый].[Slicer]       
    AS ' Aggregate       
        (
            {
                {
                    [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности]       
                } ,
                {
                    [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]       
                }       
            }       
        )'        
    set [Месяцы]       
    as 'Filter      
        (
            descendants       
            (
                [Период].[Период].[Данные всех периодов].[<%selectedYear%>],
                [Период].[Период].[Месяц],
                Self       
            ),
                [Период].[Период].CurrentMember.Name <> "Данные квартала" 
            and [Период].[Период].CurrentMember.Name <> "Данные года"
            and [Период].[Период].CurrentMember.Name <> "Данные полугодия" 
            and [Период].[Период].CurrentMember.Name <> "Остатки на начало года" 
                
        )'        
    member [Measures].[Доходы]      
    as '      
        (
            [КД].[Сопоставимый].[Slicer],
            <%param%>    
        )'        
    member [Measures].[Поступления]      
    as '     
        (
            [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ] ,
           <%param%>     
        )'       
    Member [Measures].[Дотации]      
    as '     
        (
            [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности] ,
            <%param%>    
        )'       
     Member [Measures].[Расходы]                
    as 'LookupCube                   
        (
            "[ФО_МесОтч_СпрРасходыДоп]",
            "  
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            ) - 
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[расходы по содержанию органов государственной власти субъекта Российской Федерации, направленные на выполнение полномочий Российской Федерации],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            )
           " 
        ) '  
    member [Measures].[Доля расходов] 
    as 'IIF
        (
             IsEmpty ([Measures].[Расходы]) or ([Measures].[Расходы])= 0,
             null,
             [Measures].[Расходы]/[Measures].[Доходы]*100
        )' 
    member [Measures].[Норматив расходов]
    as '(
           4.50
        )'
    
    member [Measures].[Доля расходов_Норматив]
    as 'IIF(
             IsEmpty ([Measures].[Доля расходов])
             or ( [Measures].[Доля расходов])= 0,
             null,
             [Measures].[Доля расходов]/[Measures].[Норматив расходов]/100
         )'
   member [Measures].[Сумма норматива]
   as '(
          [Measures].[Доходы] * [Measures].[Норматив расходов]/100
        )'

   member [Measures].[Отклонение от норматива]
   as '(
           [Measures].[Сумма норматива]- [Measures].[Расходы]
        )'
   
SELECT
    {
        [Measures].[Доходы],
        [Measures].[Поступления],
        [Measures].[Дотации],
        [Measures].[Расходы],
        [Measures].[Доля расходов],
        [Measures].[Норматив расходов],
        [Measures].[Доля расходов_Норматив],
        [Measures].[Сумма норматива],
        [Measures].[Отклонение от норматива]
    } ON ROWS,
    { [Месяцы] }ON COLUMNS      
FROM [ФО_МесОтч_Доходы]       
WHERE       
    (
        [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов] ,
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]      
    )       

   ]]>
 </query>
 
 --FO_0003_0001_Chart1
  <query id="FO_0003_0001_Chart1">
    <![CDATA[
    WITH
    MEMBER [КД].[Сопоставимый].[Slicer]
    AS ' Aggregate
        (
            {
                {
                    [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности]
                } ,
                {
                    [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]
                }
            }
        )'
    set [Месяцы]
    as 'Filter
        (
            descendants
            (
                [Период].[Период].[Данные всех периодов].[<%selectedYear%>],
                [Период].[Период].[Месяц],
                Self
            ),
              [Период].[Период].CurrentMember.Name <> "Данные квартала"
             and [Период].[Период].CurrentMember.Name <> "Данные года" 
             and [Период].[Период].CurrentMember.Name <> "Данные полугодия"
             and [Период].[Период].CurrentMember.Name <> "Остатки на начало года" 
             
        )'
    member [Measures].[Доходы]
    as '
        (
            [КД].[Сопоставимый].[Slicer],
          <%param%> 
        )'
    member [Measures].[Поступления]
    as '
        (
            [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ] ,
            <%param%> 
        )'
    Member [Measures].[Дотации]
    as '
        (
            [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности] ,
          <%param%> 
        )'

    Member [Measures].[Расходы на содержание органов государственной власти субъекта РФ]
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрРасходыДоп]",
            "
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            ) -
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[расходы по содержанию органов государственной власти субъекта Российской Федерации, направленные на выполнение полномочий Российской Федерации],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            )"
        ) '
    member [Measures].[Доля расходов]
    as 'IIF
        (
             IsEmpty ([Measures].[Расходы на содержание органов государственной власти субъекта РФ]) or ([Measures].[Расходы на содержание органов государственной власти субъекта РФ])= 0,
             null,
             [Measures].[Расходы на содержание органов государственной власти субъекта РФ]/[Measures].[Доходы]
        )'
    member [Measures].[Норматив расходов]
    as '(
           4.50
        )'

    member [Measures].[Доля расходов_Норматив]
    as 'IIF(
             IsEmpty ([Measures].[Доля расходов])
             or ( [Measures].[Доля расходов])= 0,
             null,
             [Measures].[Доля расходов]/[Measures].[Норматив расходов]
         )'
   member [Measures].[Сумма норматива]
   as '(
          [Measures].[Доходы] * [Measures].[Норматив расходов]/100
        )'

   member [Measures].[Резерв средств по установленной сумме норматива]  
    as 'IIF 
        (
            (
                [Measures].[Сумма норматива]- [Measures].[Расходы на содержание органов государственной власти субъекта РФ] 
            )<0,
            null,
            (
                [Measures].[Сумма норматива]- [Measures].[Расходы на содержание органов государственной власти субъекта РФ]  
            )  
        )'    
    member [Measures].[Перерасход средств установленной суммы норматива]  
    as 'IIF 
        (
            (
                [Measures].[Сумма норматива]- [Measures].[Расходы на содержание органов государственной власти субъекта РФ] 
            )>0 or 
            (
                [Measures].[Сумма норматива]- [Measures].[Расходы на содержание органов государственной власти субъекта РФ] 
            )=0 ,
            null,
            (
                [Measures].[Сумма норматива]- [Measures].[Расходы на содержание органов государственной власти субъекта РФ] 
            ) 
        )' 

SELECT
    {
        [Measures].[Расходы на содержание органов государственной власти субъекта РФ],
        [Measures].[Резерв средств по установленной сумме норматива],
        [Measures].[Перерасход средств установленной суммы норматива] 
    } ON ROWS,
    { [Месяцы] }ON COLUMNS
FROM [ФО_МесОтч_Доходы]
WHERE
    (
        [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов] ,
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
    )      
 
   ]]>
 </query>
 
  --FO_0003_0001_Chart2
  <query id="FO_0003_0001_Chart2">
    <![CDATA[
    WITH       
    MEMBER [КД].[Сопоставимый].[Slicer]       
    AS ' Aggregate       
        (
            {
                {
                    [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности]       
                } ,
                {
                    [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]       
                }       
            }       
        )'        
    set [Месяцы]
    as 'Filter
        (
            descendants
            (
                [Период].[Период].[Данные всех периодов].[<%selectedYear%>],
                [Период].[Период].[Месяц],
                Self
            ),
              [Период].[Период].CurrentMember.Name <> "Данные квартала"
             and [Период].[Период].CurrentMember.Name <> "Данные года" 
             and [Период].[Период].CurrentMember.Name <> "Данные полугодия"
             and [Период].[Период].CurrentMember.Name <> "Остатки на начало года" 
             
        )'    
    member [Measures].[Доходы]      
    as '      
        (
            [КД].[Сопоставимый].[Slicer],
            <%param%>     
        )'        
    member [Measures].[Поступления]      
    as '     
        (
            [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ] ,
            <%param%>   
        )'       
    Member [Measures].[Дотации]      
    as '     
        (
            [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований].[Дотации на выравнивание бюджетной обеспеченности] ,
            <%param%>     
        )'       
     Member [Measures].[Расходы]                
    as 'LookupCube                   
        (
            "[ФО_МесОтч_СпрРасходыДоп]",
            "  
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            ) - 
            (
                <%param%>,
                [Показатели].[СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[расходы по содержанию органов государственной власти субъекта Российской Федерации, направленные на выполнение полномочий Российской Федерации],
                [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                " + MemberToStr
                (
                  [Период].[Период].CurrentMember
                ) + "
            )" 
        ) '   
    member [Measures].[Доля расходов при соблюдении / превышении  установленного норматива ]  
    as 'IIF  
        (
            IsEmpty ([Measures].[Доходы]) or ([Measures].[Доходы])= 0,
            null,
            [Measures].[Расходы]/[Measures].[Доходы] 
            *100  
        )'  
    member [Measures].[Доля расходов при соблюдении / превышении  установленного норматива]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Measures].[Доля расходов при соблюдении / превышении  установленного норматива ] 
            ),
            0,
            [Measures].[Доля расходов при соблюдении / превышении  установленного норматива ]
        )'  
    
   
SELECT
    {
        [Measures].[Доля расходов при соблюдении / превышении  установленного норматива]
    } ON ROWS,
    { [Месяцы] }ON COLUMNS      
FROM [ФО_МесОтч_Доходы]       
WHERE       
    (
        [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов] ,
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]      
    )       
    
   ]]>
 </query>
</root>

