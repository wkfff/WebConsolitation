<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0046_0001_grid">
    <![CDATA[
-- FO_0046_0001_grid
with 
    member Measures.[Номер строки] 
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Номер строки") + "_"' 
    member Measures.[Порядковый номер]
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")'
    member Measures.[Наименование] 
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Name' 
    member Measures.[Единица измерения]
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("ЕдИзмерения")'    
    set [Показатели] 
    as 'Order 
        (
            Filter 
            (
                [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].[Все показатели].Children - 
                {
                    [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].[Все показатели].[Несопоставленные данные] 
                },
                (
                    StrToValue
                    (
                        [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")
                    ) >= (<%form_number%> - 1) * 100 and
                    StrToValue
                    (
                        [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")
                    ) < <%form_number%> * 100
                )
            ),
            [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Номер строки"),
            BASC 
        )'
        
    set [Все территории] 
    as ' 
        {
            [Типы территорий].[Типы территорий].[Все типы территорий].[Неуказанный тип территории],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГО],
            [Типы территорий].[Типы территорий].[Все типы территорий].[МР],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[СП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ВТГФЗ] 
        }' 
    set [Послеления] 
    as ' 
        {
            [Типы территорий].[Типы территорий].[Все типы территорий].[Неуказанный тип территории],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[СП]
        }' 
    set [Местные бюджеты] 
    as ' 
        {
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГО],
            [Типы территорий].[Типы территорий].[Все типы территорий].[МР],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[СП]
        }'        
        
    set [мера Факт] 
    as ' 
        {
           [Measures].[Факт]
        }' 
        
    set [мера План и факт] 
    as ' 
        {
           [Measures].[План],
           [Measures].[Факт]
        }'       
        

select
    {
        {
            {
                [Типы территорий].[Типы территорий].[Все типы территорий] 
            } 
            * 
            {
                Measures.[Номер строки],
                Measures.[Наименование] 
            } 
        } + 
        {
            {
                <%budget_set%>
            } 
            *
            {
                <%measure_set%>
            } 
        }     
    } on columns,
    [Показатели] on rows 
from [ФО_Мониторинг местных бюджетов_Показатели] 
where 
    (
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Консолидированный бюджет Саратовской области],
        <%selected_period%>
    )       
  ]]>
  </query>

  <query id="FO_0046_0001_grid_regionSplit">
    <![CDATA[
-- FO_0046_0001_grid_regionSplit
with 
    member Measures.[Номер строки] 
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Номер строки") + "_"' 
    member Measures.[Порядковый номер]
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")'
    member Measures.[Наименование] 
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Name' 
    member Measures.[Единица измерения]
    as '[Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("ЕдИзмерения")'    
    set [Показатели] 
    as 'Order 
        (
            Filter 
            (
                [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].[Все показатели].Children - 
                {
                    [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].[Все показатели].[Несопоставленные данные] 
                },
                (
                    StrToValue
                    (
                        [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")
                    ) >= (<%form_number%> - 1) * 100 and
                    StrToValue
                    (
                        [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Порядковый номер")
                    ) < <%form_number%> * 100
                )
            ),
            [Показатели__Мониторинг местных бюджетов_Сопост].[Показатели__Мониторинг местных бюджетов_Сопост].CurrentMember.Properties("Номер строки"),
            BASC 
        )'
        
    set [Все территории для выравнивания] 
    as ' 
        {
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГО],
            [Типы территорий].[Типы территорий].[Все типы территорий].[МР],
            [Типы территорий].[Типы территорий].[Все типы территорий].[ГП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[СП],
            [Типы территорий].[Типы территорий].[Все типы территорий].[Неуказанный тип территории] 
        }'       
        
    set [меры До выравниваия и После выравнивания] 
    as ' 
        {
            [Measures].[До выравнивания],
            [Measures].[После выравнивания]
        } ' 

select
    {
        {
            {
                Measures.[Номер строки],
                Measures.[Наименование] 
            } *
            {
                [Типы территорий].[Типы территорий].[Все типы территорий] 
            }
        } + 
        {
            {
                <%measure_set%>
            } 
            *
            {
                <%budget_set%>
            } 
        }     
    } on columns,
    [Показатели] on rows 
from [ФО_Мониторинг местных бюджетов_Показатели] 
where 
    (
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Консолидированный бюджет Саратовской области],
        <%selected_period%>
    )       
  ]]>
  </query>

  <query id="FO_0046_0001_formDigest">
    <![CDATA[
-- FO_0046_0001_formDigest
with       
    member Measures.[Имя]       
    as '[Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember.Name'       
    member Measures.[Тип]       
    as 'IIF     
        (
            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Количество местных бюджетов],
            1,
            IIF    
            (
                [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Установление органами государственной власти субъек-тов Российской Федерации нормативов отчислений от федеральных и региональных налогов и сборов в местные бюджеты],
                11,
                IIF    
                (
                    [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Установление органами местного самоуправления муниципальных районов нормативов отчислений от федеральных, региональных и местных налогов и сборов в бюджеты поселений],
                    12,
                    IIF    
                    (
                        [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Установление местных налогов и применение самообложения граждан],
                        10,
                        IIF    
                        (
                            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Расходы местных бюджетов],
                            2,
                            IIF    
                            (
                                [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Осуществление муниципальными образованиями отдельных государственных полномочий],
                                3,
                                IIF    
                                (
                                    [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Межбюджетные трансферты и бюджетные кредиты, предоставляемые из бюджета субъекта Российской Федерации местным бюджетам],
                                    4,
                                    IIF    
                                    (
                                        [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Межбюджетные трансферты и бюджетные кредиты из местных бюджетов],
                                        5,
                                        IIF    
                                        (
                                            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Группировка местных бюджетов в зависимости от доли межбюджетных трансфертов (за исключением субвенций) и налоговых доходов, переданных по дополнительным нормативам отчислений, в объеме собственных доходов],
                                            6,
                                            IIF   
                                            (
                                                [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Соблюдение органами местного самоуправления основных условий предоставления межбюджетных трансфертов, установленных статьей 136 Бюджетного кодекса Российской Федерации],
                                                7,
                                                IIF  
                                                (
                                                    [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Показатели бюджетной обеспеченности муниципальных образований],
                                                    8,
                                                    IIF  
                                                    (
                                                        [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember is [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Показатели сбалансированности местных бюджетов],
                                                        9,
                                                        0 
                                                    )  
                                                )  
                                            )  
                                        )    
                                    )    
                                )    
                            )    
                        )    
                    )    
                )    
            )     
        )'      
    member Measures.[Уникальное имя]       
    as '[Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].CurrentMember.Properties("Номер формы")'       
    set [Формы]       
    as '[Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].Children -       
        {
            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Значение не указано],
            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Группировка бюджетов городских и сельских поселений в зависимости от доли межбюджетных трансфертов в объеме собственных доходов],
            [Формы__Мониторинг местных бюджетов].[Формы__Мониторинг местных бюджетов].[Все формы].[Показатели среднедушевого дохода по городским и сельским поселениям] 
        }'       
    member Measures.[Уровень]       
    as '0'  

    member Measures.[Полное имя]       
    as '0' 
    member Measures.[Краткое имя]       
    as '0'     
select
    {
        Measures.[Имя],
        Measures.[Уникальное имя],
        Measures.[Тип],
        Measures.[Уровень]       
    } on columns,
    [Формы] on rows       
from [ФО_Мониторинг местных бюджетов_Показатели]       
  ]]>
  </query>

  <query id="FO_0046_0001_periodDigest">
    <![CDATA[
-- FO_0046_0001_periodDigest
with 
    set [Непустые периоды] 
    as 'Generate 
        (
            Filter 
            (
                NonEmptyCrossjoin 
                (
                    OpeningPeriod 
                    (
                        [Период__Период].[Период__Период].[Полугодие],
                        [Период__Период].[Период__Период].[Данные всех периодов].[2010] 
                    ) : ClosingPeriod 
                    (
                        [Период__Период].[Период__Период].[Полугодие],
                        [Период__Период].[Период__Период].[Данные всех периодов].[2014] 
                    ) 
                ),
                StrToValue 
                (
                    [Период__Период].[Период__Период].CurrentMember.Properties("MEMBER_KEY") 
                ) > 0 
            ),
            {
                [Период__Период].[Период__Период].CurrentMember.Parent
            } + 
            {
                [Период__Период].[Период__Период].CurrentMember 
            } 
        ) ' 
    member [Measures].[Имя] 
    as 'IIF 
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Полугодие],
            IIF
            (
                [Период__Период].[Период__Период].CurrentMember.Name = "Полугодие 1",
                "по итогам 1го полугодия" + " " + [Период__Период].[Период__Период].CurrentMember.Parent.Name + " года",
                "по итогам" + " " + [Период__Период].[Период__Период].CurrentMember.Parent.Name + " года"
            ),
            [Период__Период].[Период__Период].CurrentMember.Name + " год" 
        ) ' 
    member [Measures].[Уникальное имя] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    member [Measures].[Уровень] 
    as 'IIF 
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Полугодие],
            1,
            0 
        )' 
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    } on columns,
    { [Непустые периоды] } on rows 
from [ФО_Мониторинг местных бюджетов_Показатели]
  ]]>
  </query>

</root>