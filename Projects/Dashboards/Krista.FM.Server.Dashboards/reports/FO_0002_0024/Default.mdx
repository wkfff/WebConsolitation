<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0024_date">
    <![CDATA[
-- FO_0002_0024_date 
with
    member Measures.[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        Filter
        (
            OpeningPeriod
            (
                [Период__Период].[Период__Период].[Квартал],
                [Период__Период].[Период__Период].[Данные всех периодов].[2008]
            ) : ClosingPeriod
            (
                [Период__Период].[Период__Период].[Квартал],
                [Период__Период].[Период__Период].[Данные всех периодов].[2011]
            ),
            not IsEmpty( [Measures].[Фактически за период] ) and
            [Период__Период].[Период__Период].CurrentMember.Name <> "Квартал 1"
        )
    ) on rows
from [ФО_Форма14_Расходы]
]]>
  </query>

  <query id="FO_0002_0024_grid">
    <![CDATA[
-- FO_0002_0024_grid
with
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]
    as ' Aggregate( {[Города]} ) '
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]
    as ' Aggregate( {[Районы]} )'
    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
    as '[Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Все].[ВСЕГО расходов  на содержание  органа местного самоуправления, избирательной комиссии  муниципального образования (сумма строк 050+060+070)] / 1000'
    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
    as 'LookupCube
        (
            "[ФО_Форма14_Должности]",
            "
            (
                [Должности__Сопоставимый].[Должности__Сопоставимый].[Все].[Общая численность работников  органа местного самоуправления, избирательной комиссии муниципального образования  (сумма строк 200+210+270+280)],
                [Measures].[Среднесписочная численность за период],
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + "
            )"
        )'
    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Прирост расходов к прошлому году]
    as 'IIF
        (
            IsEmpty
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
                )
            ) or
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
                )
            ) = 0 or
            IsEmpty
            (
                (
                    [Период__Период].[Период__Период].CurrentMember,
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
                )
            ) or 
            (
                [Период__Период].[Период__Период].CurrentMember,
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
            ) = 0,
            null,
            100 *
            (
                (
                    [Период__Период].[Период__Период].CurrentMember,
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
                )
            )/
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.]
                )
            ) - 100
        )   '
    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Прирост численности к прошлому году]
    as 'IIF
        (
            IsEmpty
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
                )
            ) or
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
                )
            ) = 0 or
            IsEmpty
            (
                (
                    [Период__Период].[Период__Период].CurrentMember,
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
                )
            ) or 
            (
                [Период__Период].[Период__Период].CurrentMember,
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
            ) = 0,
            null,
            100 *
            (
                (
                    [Период__Период].[Период__Период].CurrentMember,
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
                )
            )/
            (
                (
                    ParallelPeriod            
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember           
                    ),
                    [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
                )
            ) - 100
        )   '
select
    {
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember.PrevMember.PrevMember
            }
            *
            {
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.] ,
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.]
            }
        }  +
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember.PrevMember,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
            }
            *
            {
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы, тыс.руб.],
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность, чел.],
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Прирост расходов к прошлому году],
                [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Прирост численности к прошлому году]
            }
        }
    } on columns,
    non empty
    { [Города] + [Районы] } on rows
from [ФО_Форма14_Расходы]
where
    (
        [Measures].[Фактически за период]
    )                
  ]]>
</query>

  <query id="FO_0002_0024_chart1">
    <![CDATA[
-- FO_0002_0024_chart1
with
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы]
    as '[Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Все].[ВСЕГО расходов  на содержание  органа местного самоуправления, избирательной комиссии  муниципального образования (сумма строк 050+060+070)] / 1000'
select
    {
        [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Расходы]
    } on columns,
    non empty
    { [Города] + [Районы] } on rows
from [ФО_Форма14_Расходы]
where
    (
        [Measures].[Фактически за период],
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
    )                
  ]]>
      </query>

      <query id="FO_0002_0024_chart2">
        <![CDATA[
-- FO_0002_0024_chart2
with
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'

    member [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность]
    as 'LookupCube
        (
            "[ФО_Форма14_Должности]",
            "
            (
                [Должности__Сопоставимый].[Должности__Сопоставимый].[Все].[Общая численность работников  органа местного самоуправления, избирательной комиссии муниципального образования  (сумма строк 200+210+270+280)],
                [Measures].[Среднесписочная численность за период],
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + "
            )"
        )'

select
    {
        [Расходы__Сопоставимый_Форма14].[Расходы__Сопоставимый_Форма14].[Среднесписочная численность]
    } on columns,
    non empty
    { [Города] + [Районы] } on rows
from [ФО_Форма14_Расходы]
where
    (
        [Measures].[Фактически за период],
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
    )                
  ]]>
  </query>
</root>