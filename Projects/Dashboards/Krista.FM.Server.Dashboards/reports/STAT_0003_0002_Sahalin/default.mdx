<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="STAT_0003_0002_list_of_dates">
    <![CDATA[ -- name: STAT_0003_0002_list_of_dates
select
    {[Measures].[Значение]} on columns,
    {
        filter
        (
            [Период__Период].[Период__Период].[День].members,
            (
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
                ) > 0
            )
        )
    } on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область]--,        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
        
    )*/
    ]]>
  </query>

  <query id ="STAT_0003_0002_list_of_regions">
    <![CDATA[ -- STAT_0003_0002_list_of_regions
select
    {[Measures].[Значение]} on columns,
    filter
    (
        except
        (
            {
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].Children
            },
            {
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].DataMember
            }
        ),
        (
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
                ) > 0
        )
    ) on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
    )*/
    ]]>
  </query>

  <query id = "STAT_0003_0002_text">
    <![CDATA[
with
    member [Measures].[За текущий год]
    as '
        (
            [Measures].[За период],
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember
        ) '
    member [Measures].[За последний год]
    as '
        (
            [Measures].[За период],
            Tail
            (
                filter
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год].AllMembers,
                    (
                        [Measures].[За период],
                        [Население__Численность и состав].[Население__Численность и состав].[Все показатели].[Численность населения на начало года]
                    ) > 0
                ) ,
                1
            ).Item(0)
        ) '
    member [Measures].[Численность населения]
    as ' iif
        (
            IsEmpty([Measures].[За текущий год]) or [Measures].[За текущий год] = 0,
            [Measures].[За последний год],
            [Measures].[За текущий год]
        ) '
select
    [Measures].[Численность населения] on columns
from [СТАТ_Население_Численность и состав]
where
    (
        [Группировки__Население_Численность и состав].[Группировки__Население_Численность и состав].[Все группировки].[По городам и районам],
        [Население__Численность и состав].[Население__Численность и состав].[Все показатели].[Численность населения на начало года],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%last_year%>],
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]
    )    
    ]]>
  </query>
  
  <query id = "STAT_0003_0002_grid">
    <![CDATA[ -- STAT_0003_0002_grid
with
    member [Measures].[к началу года]
    as '(head
        (
            filter
            (
                descendants
                (
                    [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Parent,
                    [Период__Период].[Период__Период].[День]
                ),
                [Measures].[Значение] > 0
            ),
            1
        ).Item(0), [Measures].[Значение])'
    member [Measures].[к предыдущей дате]
    as '(Tail
        (
            Filter
            (
                {
                    [Период__Период].[Период__Период].[Данные всех периодов].[1998].[Полугодие 1].[Квартал 1].[Январь].[1]:[Период__Период].[Период__Период].CurrentMember
                } -
                {
                    [Период__Период].[Период__Период].CurrentMember
                },
                [Measures].[Значение] > 0
            ),
            1
        ).Item(0), [Measures].[Значение])'
    member [Measures].[Текущая дата]
    as '([Период__Период].[Период__Период].CurrentMember, [Measures].[Значение])'
    set [Территории для ранга]
    as 'except
        (
            {
                 [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children
            },
            {
                --[Территории__РФ].[Территории__РФ].[(All)].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].datamember
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].datamember,
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.],
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].datamember
            }
        )'
    member [Measures].[Численность экономически активного населения_Значение]
    as
        (
            [Measures].[Текущая дата],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
        )
    member [Measures].[Численность экономически активного населения_Значение для сравнения]
    as
        (
            [Measures].[<%compare_mode%>],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
        )
    member [Measures].[Численность экономически активного населения_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность экономически активного населения_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность экономически активного населения_Значение для сравнения]
            ),
            null,
            [Measures].[Численность экономически активного населения_Значение] - [Measures].[Численность экономически активного населения_Значение для сравнения]
        )'
    member [Measures].[Численность экономически активного населения_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность экономически активного населения_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность экономически активного населения_Значение для сравнения]
            ) or [Measures].[Численность экономически активного населения_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Численность экономически активного населения_Значение] / [Measures].[Численность экономически активного населения_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Численность безработных граждан_Значение]
    as
        (
            [Measures].[Текущая дата],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
        )
    member [Measures].[Численность безработных граждан_Значение для сравнения]
    as
        (
            [Measures].[<%compare_mode%>],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
        )
    member [Measures].[Численность безработных граждан_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность безработных граждан_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность безработных граждан_Значение для сравнения]
            ),
            null,
            [Measures].[Численность безработных граждан_Значение] - [Measures].[Численность безработных граждан_Значение для сравнения]
        )'
    member [Measures].[Численность безработных граждан_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность безработных граждан_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность безработных граждан_Значение для сравнения]
            ) or [Measures].[Численность безработных граждан_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Численность безработных граждан_Значение] / [Measures].[Численность безработных граждан_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Уровень зарегистрированной безработицы, процент_Значение]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность безработных граждан_Значение]
                ) or IsEmpty
                (
                    [Measures].[Численность экономически активного населения_Значение]
                ) or [Measures].[Численность экономически активного населения_Значение] = 0,
                null,
                [Measures].[Численность безработных граждан_Значение] / [Measures].[Численность экономически активного населения_Значение]
                * 100
            )
        )
    member [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность безработных граждан_Значение для сравнения]
                ) or IsEmpty
                (
                    [Measures].[Численность экономически активного населения_Значение для сравнения] or [Measures].[Численность экономически активного населения_Значение для сравнения] = 0
                ),
                null,
                [Measures].[Численность безработных граждан_Значение для сравнения] / [Measures].[Численность экономически активного населения_Значение для сравнения]
                * 100
            )
        )
    member [Measures].[Уровень зарегистрированной безработицы, процент_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение]
            ) or IsEmpty
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения]
            ) or [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение] / [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения] - 1
            )
        )'
        member [Measures].[Уровень зарегистрированной безработицы, процент_прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение]
            ) or IsEmpty
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения]
            ) or [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение] - [Measures].[Уровень зарегистрированной безработицы, процент_Значение для сравнения]
            )
        )'
    member [Measures].[Уровень зарегистрированной безработицы, процент_Ранг]
    as '      1+ [Территории для ранга].count - Rank
            (
                [Территории__РФ].[Территории__РФ].CurrentMember,
                Order
                (
                    [Территории для ранга],
                    [Measures].[Уровень зарегистрированной безработицы, процент_Значение],
                    BASC
                ),
                [Measures].[Уровень зарегистрированной безработицы, процент_Значение]
            )'
    member [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение]
    as
        (
            [Measures].[Текущая дата],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
        )
    member [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
    as
        (
            [Measures].[<%compare_mode%>],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
        )
    member [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
            ),
            null,
            [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение] - [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
        )'
    member [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
            ) or [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение] / [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Численность вакансий_Значение]
    as
        (
            [Measures].[Текущая дата],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
        )
    member [Measures].[Численность вакансий_Значение для сравнения]
    as
        (
            [Measures].[<%compare_mode%>],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
        )
    member [Measures].[Численность вакансий_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность вакансий_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность вакансий_Значение для сравнения]
            ),
            null,
            [Measures].[Численность вакансий_Значение] - [Measures].[Численность вакансий_Значение для сравнения]
        )'
    member [Measures].[Численность вакансий_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Численность вакансий_Значение]
            ) or IsEmpty
            (
                [Measures].[Численность вакансий_Значение для сравнения]
            ) or [Measures].[Численность вакансий_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Численность вакансий_Значение] / [Measures].[Численность вакансий_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Коэффициент напряженности на рынке труда_Значение]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность безработных граждан_Значение]
                ) or IsEmpty
                (
                    [Measures].[Численность вакансий_Значение]
                ) or [Measures].[Численность вакансий_Значение] = 0,
                null,
                [Measures].[Численность безработных граждан_Значение] / [Measures].[Численность вакансий_Значение]
            )
        )
    member [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность безработных граждан_Значение для сравнения]
                ) or IsEmpty
                (
                    [Measures].[Численность вакансий_Значение для сравнения]
                ) or [Measures].[Численность вакансий_Значение для сравнения] = 0,
                null,
                [Measures].[Численность безработных граждан_Значение для сравнения] / [Measures].[Численность вакансий_Значение для сравнения]
            )
        )
        member [Measures].[Коэффициент напряженности на рынке труда_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение]
            ) or IsEmpty
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения]
            ) or [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения] = 0 ,
            null,
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение] - [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения]
            )
        )'
    member [Measures].[Коэффициент напряженности на рынке труда_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение]
            ) or IsEmpty
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения]
            ) or [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения] = 0 ,
            null,
            (
                [Measures].[Коэффициент напряженности на рынке труда_Значение] / [Measures].[Коэффициент напряженности на рынке труда_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Коэффициент напряженности на рынке труда_Ранг]
    as '
    1+  [Территории для ранга].count - Rank
            (
                [Территории__РФ].[Территории__РФ].CurrentMember,
                Order
                (
                    [Территории для ранга],
                    [Measures].[Коэффициент напряженности на рынке труда_Значение],
                    BASC
                ),
                [Measures].[Коэффициент напряженности на рынке труда_Значение]
            )
        '
    member [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение]
                ) or IsEmpty
                (
                    [Measures].[Численность вакансий_Значение]
                ),
                null,
                [Measures].[Численность вакансий_Значение] - [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение]
            )
        )
    member [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения]
    as
        (
            iif
            (
                IsEmpty
                (
                    [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
                ) or IsEmpty
                (
                    [Measures].[Численность вакансий_Значение для сравнения]
                ),
                null,
                [Measures].[Численность вакансий_Значение для сравнения] - [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение для сравнения]
            )
        )
    member [Measures].[Дефицит (-), профицит (+) рабочих мест_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение]
            ) or IsEmpty
            (
                [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения]
            ),
            null,
            [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение] - [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения]
        )'
    member [Measures].[Дефицит (-), профицит (+) рабочих мест_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение]
            ) or IsEmpty
            (
                [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения]
            ) or [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение] / [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение для сравнения] - 1
            )
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест]
    as 'null'
    set [Показатели]
    as '
        {
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест]
        }'
    member [Measures].[Значение показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек],
       [Measures].[Численность экономически активного населения_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек],
       [Measures].[Численность безработных граждан_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент],
       [Measures].[Уровень зарегистрированной безработицы, процент_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек],
       [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица],
       [Measures].[Численность вакансий_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию],
       [Measures].[Коэффициент напряженности на рынке труда_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест],
       [Measures].[Дефицит (-), профицит (+) рабочих мест_Значение],
       null
       )))))))'
    member [Measures].[Темп прироста показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек],
       [Measures].[Численность экономически активного населения_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек],
       [Measures].[Численность безработных граждан_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент],
       [Measures].[Уровень зарегистрированной безработицы, процент_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек],
       [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица],
       [Measures].[Численность вакансий_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию],
       [Measures].[Коэффициент напряженности на рынке труда_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест],
       null,
       null
       )))))))'
    member [Measures].[Прирост показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек],
       [Measures].[Численность экономически активного населения_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек],
       [Measures].[Численность безработных граждан_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент],
       [Measures].[Уровень зарегистрированной безработицы, процент_прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек],
       [Measures].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица],
       [Measures].[Численность вакансий_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию],
       [Measures].[Коэффициент напряженности на рынке труда_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест],
       [Measures].[Дефицит (-), профицит (+) рабочих мест_Прирост],
       null
       )))))))'
    member [Measures].[Ранг]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения, человек],
       null,
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан, зарегистрированных в органах службы занятости, человек],
       null,
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень зарегистрированной безработицы, процент],
       [Measures].[Уровень зарегистрированной безработицы, процент_Ранг],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения, человек],
       null,
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число вакансий, единица],
       null,
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность зарегистрированных безработных в расчете на 1 вакансию],
       [Measures].[Коэффициент напряженности на рынке труда_Ранг],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Дефицит (-), профицит (+) рабочих мест],
       null,
       null
       )))))))'
select
    [Показатели] on columns,
    {{{<%selected_date%>} *
    {{[Measures].[Значение показателя]} + {[Measures].[Темп прироста показателя]} + {[Measures].[Прирост показателя]} + {[Measures].[Ранг]}}}} *
    {[Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]} on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
    )*/
    
    
    ]]>
  </query>

  <query id = "STAT_0003_0002_grid_description">
    <![CDATA[ -- STAT_0003_0002_grid_description
with
    member [Measures].[к началу года]
    as 'head
        (
            filter
            (
                descendants
                (
                    [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Parent,
                    [Период__Период].[Период__Период].[День]
                ),
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
                ) > 0
            ),
            1
        ).Item(0).Uniquename'
    member [Measures].[к предыдущей дате]
    as 'Tail
        (
            Filter
            (
                {
                    [Период__Период].[Период__Период].[Данные всех периодов].[1998].[Полугодие 1].[Квартал 1].[Январь].[1]:[Период__Период].[Период__Период].CurrentMember
                } -
                {
                    [Период__Период].[Период__Период].CurrentMember
                },
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность незанятых граждан, состоящих на учёте в органах службы занятости населения]
                ) > 0 or
                ([Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
                ) > 0
            ),
            1
        ).Item(0).Uniquename'
    member [Measures].[Текущая дата]
    as '([Период__Период].[Период__Период].CurrentMember.UniqueName)'
select
    {[Measures].[Текущая дата], [Measures].[<%compare_mode%>]} on columns,
    {<%selected_date%>} on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
    )*/
    ]]>
  </query>
  
  <query id = "STAT_0003_0002_chart1">
    <![CDATA[ -- STAT_0003_0002_chart1
with
    member [Measures].[Численность безработных граждан <%selected_region%>]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]
        ) '
    member [Measures].[Численность экономически активного населения <%selected_region%>]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]
        ) '
    member [Measures].[Уровень безработицы, <%selected_region%>]
    as ' iif
        (
            IsEmpty
            (
                [Measures].[Численность безработных граждан <%selected_region%>]
            )     or IsEmpty
            (
                [Measures].[Численность экономически активного населения <%selected_region%>]
            ) or [Measures].[Численность экономически активного населения <%selected_region%>] = 0,
            null,
            [Measures].[Численность безработных граждан <%selected_region%>] / [Measures].[Численность экономически активного населения <%selected_region%>] * 100
        ) '
    member [Measures].[Численность безработных граждан Сахалинской области]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.]
        ) '
    member [Measures].[Численность экономически активного населения Сахалинской области]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность экономически активного населения],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.]
        ) '
    member [Measures].[Уровень безработицы в целом по Сахалинской области]
    as ' iif
        ( 
            IsEmpty
            (
                [Measures].[Численность безработных граждан Сахалинской области]
            )     or IsEmpty
            (
                [Measures].[Численность экономически активного населения Сахалинской области]
            ) or [Measures].[Численность экономически активного населения Сахалинской области] = 0,
            null,
            [Measures].[Численность безработных граждан Сахалинской области] / [Measures].[Численность экономически активного населения Сахалинской области] * 100
        ) '
    member [Measures].[Дата]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {
        [Measures].[Дата],
        [Measures].[Уровень безработицы в целом по Сахалинской области],
        [Measures].[Уровень безработицы, <%selected_region%>]
        
    } on columns,
    {
        <%selected_date%>
    } on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
    )*/
    ]]>
  </query>

  <query id = "STAT_0003_0002_chart2">
    <![CDATA[ -- STAT_0003_0002_chart2
with
    member [Measures].[Численность безработных граждан <%selected_region%>]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]
        ) '
    member [Measures].[Численность вакансий <%selected_region%>]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[<%selected_region%>]
        ) '
    member [Measures].[Численность зарегистрированных безработных в расчете на 1 вакансию, <%selected_region%>]
    as ' iif
        (
            IsEmpty
            (
                [Measures].[Численность безработных граждан <%selected_region%>]
            )     or IsEmpty
            (
                [Measures].[Численность вакансий <%selected_region%>]
            ) or [Measures].[Численность вакансий <%selected_region%>] = 0,
            null,
            [Measures].[Численность безработных граждан <%selected_region%>] / [Measures].[Численность вакансий <%selected_region%>]
        ) '
    member [Measures].[Численность безработных граждан Сахалинской области]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область]
        ) '
    member [Measures].[Численность вакансий Сахалинской области]
    as '
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий],
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область]
        ) '
    member [Measures].[Численность зарегистрированных безработных в расчете на 1 вакансию в целом по Сахалинской области]
    as ' iif
        (
            IsEmpty
            (
                [Measures].[Численность безработных граждан Сахалинской области]
            )     or IsEmpty
            (
                [Measures].[Численность вакансий Сахалинской области]
            ) or [Measures].[Численность вакансий Сахалинской области] = 0,
            null,
            [Measures].[Численность безработных граждан Сахалинской области] / [Measures].[Численность вакансий Сахалинской области]
        ) '
    member [Measures].[Дата]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {
        [Measures].[Дата],
        [Measures].[Численность зарегистрированных безработных в расчете на 1 вакансию, <%selected_region%>],
        [Measures].[Численность зарегистрированных безработных в расчете на 1 вакансию в целом по Сахалинской области]
    } on columns,
    {
        <%selected_date%>
    } on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
/*where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность – Агентство по труду]
    )*/
    ]]>
  </query>

</root>