<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0023_date">
    <![CDATA[
-- FO_0002_0023_date
with
    member Measures.[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        Filter
        (
            OpeningPeriod
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2008]
            ) : ClosingPeriod
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2011]
            ),
            not IsEmpty([Measures].[Факт])
        )
    ) on rows
from [ФО_МесОтч_Доходы]
  ]]>
  </query>

  <query id="FO_0002_0023_grid">
    <![CDATA[
-- FO_0002_0023_grid
with    
    set [Районы]   
    as 'Filter   
        (
            Descendants   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF   
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"   
            ) and not   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember   
            )   
        )'   
    set [Города]   
    as 'Filter   
        (
            Descendants   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF   
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"   
            ) and not   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember   
            )   
        )'   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
    as ' Aggregate( {[Города]} ) '   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
    as ' Aggregate( {[Районы]} )'    
    member Measures.[Брать данные из годовой отчетности]         
    as '         
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember.PrevMember         
        ) or         
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч]         
    as 'IIF         
        (
            [Measures].CurrentMember is [Measures].[Факт],
            "[Measures].[Исполнено]",
            IIF         
            (
                [Measures].CurrentMember is [Measures].[Годовые назначения],
                "[Measures].[Назначено]",
                IIF         
                (
                    [Measures].CurrentMember is [Measures].[% выполнения годовых назначений],
                    "[Measures].[Процент выполнения назначений]",
                    " "         
                )         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]          
    as 'IIF  
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Месяц],
            LookupCube   
            (
                "[ФО_Показатели для планирования]",
                "            
                (
                    [Measures].[Факт],
                    [Показатели__Показатели для планирования Сопост].[Показатели__Показатели для планирования Сопост].[Все показатели].[Данные по численности населения].[Численность постоянного населения МР(ГО)],
                    " + MemberToStr            
                    (
                        [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.PrevMember  
                    ) + ",
                    " + MemberToStr            
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember            
                    ) + "            
                )"            
            ),
            LookupCube   
            (
                "[ФО_Показатели для планирования]",
                "   
                (
                    [Measures].[Факт],
                    [Показатели__Показатели для планирования Сопост].[Показатели__Показатели для планирования Сопост].[Все показатели].[Данные по численности населения].[Численность постоянного населения МР(ГО)],
                    " + MemberToStr   
                    (
                        [Период__Период].[Период__Период].CurrentMember.PrevMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember   
                    ) + "   
                )"   
            )  
        ) '
    member [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Субвенции бюджетам субъектов РФ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Доходы (без учета субвенций) ]         
    as '         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ]         
        ) -         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].[Субвенции бюджетам субъектов РФ ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Безвозмездные поступления ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Бюджетная обеспеченность ]      
    as 'IIF       
        (
            IsEmpty       
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]       
            ) or        
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]       
            ) = 0,
            null,
            [КД__Сопоставимый].[КД__Сопоставимый].[Безвозмездные поступления ] / [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]      
        ) '        
    member [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Расходы]",
                "         
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            LookupCube         
            (
                "[ФО_МесОтч_Расходы]",
                "         
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Расходы на содержание МСУ ]      
    as ' LookupCube         
        (
            "[ФО_МесОтч_СпрРасходыДоп]",
            " 
            (
                [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember 
                ) + " 
            )" 
        )' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Коэффициент масштаба]   
    as 'IIF 
        (
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО] 
            ) or 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР] 
            ),
            0.7 + 0.005,
            IIF 
            (
                IsEmpty   
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]   
                ) or [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения] = 0,
                null,
                0.7 + 0.05 
                * [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения Итого] / 10 / [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]   
            )
        )  ' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения Итого]   
    as 'IIF   
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
            )   
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
    as 'IIF   
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
            )   
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
    as 'IIF  
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО],
            Sum  
            (
                [Города],
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
            ),
            IIF  
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР],
                Sum  
                (
                    [Районы],
                    [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
                ),
                LookupCube  
                (
                    "[ФО_МесОтч_СпрРасходыДоп]",
                    "  
                    (
                        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего],
                        " + MemberToStr  
                        (
                            [Measures].CurrentMember
                        ) + ",
                        " + MemberToStr  
                        (
                            [Период__Период].[Период__Период].CurrentMember  
                        ) + ",
                        " + MemberToStr  
                        (
                            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember  
                        ) + "  
                    )"  
                )  
            )  
        )'  
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете Итого]  
    as 'IIF  
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]  
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]  
            )  
        )'  
    member [КД__Сопоставимый].[КД__Сопоставимый].[Неэффективные расходы (по Постановлению Правительства №322) ]   
    as ' IIF   
        (
            IsEmpty   
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
            ) or   
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
            ) = 0,
            null,
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
            ) -  
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете Итого]  
                * [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ]  
                * [КД__Сопоставимый].[КД__Сопоставимый].[Коэффициент масштаба]  
            ) /  
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]  
            )  
        ) '           
    member [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Дефицит Профицит]",
                "         
                (
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            LookupCube         
            (
                "[ФО_МесОтч_Дефицит Профицит]",
                "         
                (
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер дефицита в % от суммы налоговых и неналоговых доходов]         
    as 'IIF         
        (
            not
            (
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ] > 0         
                ) or IsEmpty         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]         
                ) or         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]        
                ) = 0
            ),
            1000 * 100 * 
            (
                -[КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
            ) /         
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]        
            ),
            null         
        )'         
    member [КД].[Сопоставимый].[ИСТОЧНИКИ ФИНАНСИРОВАНИЯ ДЕФИЦИТА ]                    
    as 'IIF   
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube   
            (
                "[ФО_ГодОтч_Источники финансирования]",
                "   
                (
                    [КИФ].[Сопоставимый].[Все источники финансирования].[Источники финансирования дефицита бюджета - всего],
                    " + [КД].[Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr   
                    (
                        [Период].[Период].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Районы].[Сопоставимый].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [ТипДокумента].[СКИФ].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember   
                    ) + "   
                )"   
            ),
            LookupCube   
            (
                "[ФО_МесОтч_ИсточникВнутрФинансирования]",
                "                    
                (
                    [КИФ].[Сопоставимый].[Все источники финансирования].[Источники финансирования дефицита бюджета - всего],
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr                    
                    (
                        [Период].[Период].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [Районы].[Сопоставимый].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [ТипДокумента].[СКИФ].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember                    
                    ) + "                    
                )"                    
            )  
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Муниципальный долг ] 
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрВнутрДолг]",
            " 
            (
                [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[МУНИЦИПАЛЬНЫЙ ДОЛГ, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember 
                ) + " 
            )" 
        ) ' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Кредиторская задолженность (в том числе просроченная) ]
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрЗадолженность]",
            "
            (
                [Показатели__СопМесОСпЗадо].[Показатели__СопМесОСпЗадо].[Все показатели].[ПРОСРОЧЕННАЯ КРЕДИТОРСКАЯ  ЗАДОЛЖЕННОСТЬ, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember
                ) + "
            )"
        ) '
    member [КД__Сопоставимый].[КД__Сопоставимый].[Остатки (собственные и целевые) ]
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрОстатки]",
            "
            (
                [Показатели__СопМесОтСпОст].[Показатели__СопМесОтСпОст].[Все показатели].[ОСТАТКИ СРЕДСТВ БЮДЖЕТОВ НА ОТЧЕТНУЮ ДАТУ:].[остатки целевых средств бюджетов],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember
                ) + "
            )"
        ) '
    member [Measures].[Прирост к прошлому году]                    
    as 'IIF                    
        (
            [Период].[Период].CurrentMember.Level is [Период].[Период].[Месяц],
            IIF                    
            (
                IsEmpty                    
                (
                    (
                        [Measures].[Факт ],
                        [Период].[Период].CurrentMember.Parent.Parent.Parent.PrevMember                    
                    )                    
                ) or                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember.Parent.Parent.Parent.PrevMember                    
                ) <= 0 or
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember                 
                ) < 0 or [Measures].[Не рассчитывается % исполнения и темп роста],
                null,
                100                    
                *                    
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember                
                )/                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember.Parent.Parent.Parent.PrevMember                    
                )                    
            ),
            IIF                    
            (
                IsEmpty                    
                (
                    (
                        [Measures].[Факт ],
                        [Период].[Период].CurrentMember.PrevMember                    
                    )                    
                ) or                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember.PrevMember                    
                ) <= 0 or 
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember                    
                ) < 0 or [Measures].[Не рассчитывается % исполнения и темп роста],
                null,
                100                    
                *                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember                    
                )/                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember.PrevMember                    
                )                    
            )                    
        ) '      
    member [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ]         
    as 'IIF         
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР",
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района],
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа]         
        )'         
    member [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета района / городского округа]         
    as 'IIF         
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР",
            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа]         
        )'         
    member [Measures].[Годовые назначения ]             
    as '[Measures].[Годовые назначения] / 1000'       
    member [Measures].[Факт ]         
    as '[Measures].[Факт] / 1000 '         
    member [Measures].[% выполнения годовых назначений ]                    
    as 'IIF                    
        (
            [Период].[Период].CurrentMember.Level is [Период].[Период].[Месяц],
            IIF                    
            (
                IsEmpty                    
                (
                    (
                        [Measures].[Годовые назначения ],
                        [Период].[Период].CurrentMember              
                    )                    
                ) or                    
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember                   
                ) = 0 or [Measures].[Не рассчитывается % исполнения и темп роста] or [Measures].[Не рассчитывается только % исполнения],
                null,
                100                    
                *                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember                    
                )/                    
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember          
                )                    
            ),
            IIF                    
            (
                IsEmpty                    
                (
                    (
                        [Measures].[Годовые назначения ],
                        [Период].[Период].CurrentMember                    
                    )                    
                ) or                    
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember                    
                ) = 0 or [Measures].[Не рассчитывается % исполнения и темп роста] or [Measures].[Не рассчитывается только % исполнения],
                null,
                100                    
                *                    
                (
                    [Measures].[Факт ],
                    [Период].[Период].CurrentMember                    
                )/                    
                (
                    [Measures].[Годовые назначения ],
                    [Период].[Период].CurrentMember                    
                )                    
            )                    
        )'          
    member [Measures].[Уровень]         
    as 'IIF         
        (
            (
                [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ]         
            ) or         
            (
                [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ]         
            ) or         
            (
                [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[ИСТОЧНИКИ ФИНАНСИРОВАНИЯ ДЕФИЦИТА ]         
            ),
            0,
            IIF         
            (
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ ]         
                ) or         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[БЕЗВОЗМЕЗНЫЕ ПОСТУПЛЕНИЯ ]         
                ),
                1,
                IIF         
                (
                    (
                        [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[Доходы (без учета субвенций) ]      
                    ) or         
                    (
                        [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
                    ),
                    2,
                    3      
                )         
            )         
        )'         
    member [Measures].[Не рассчитывается % исполнения и темп роста]         
    as '         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
        ) or         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[Размер дефицита в % от суммы налоговых и неналоговых доходов]         
        ) or         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[ИСТОЧНИКИ ФИНАНСИРОВАНИЯ ДЕФИЦИТА ]         
        ) or         
        (
            [Measures].[Годовые назначения] < 0         
        ) or ([Measures].[Факт] < 0)'  
    member [Measures].[Не рассчитывается только % исполнения]         
    as '         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].[Неэффективные расходы (по Постановлению Правительства №322) ]         
        ) '   
        
    member [Measures].[UniqName]             
    as '[КД__Сопоставимый].[КД__Сопоставимый].CurrentMember.UniqueName'        
select
    {
        {
          {
              {
                  [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember.PrevMember         
              }         
              *         
              {
                  [Measures].[Годовые назначения ],
                  [Measures].[Факт ],
                  [Measures].[% выполнения годовых назначений ]         
              }         
          } +         
          {
              {
                  [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember         
              }         
              *         
              {
                  [Measures].[Годовые назначения ],
                  [Measures].[Факт ],
                  [Measures].[% выполнения годовых назначений ],
                  [Measures].[Прирост к прошлому году]         
              }         
          } +         
          {
              {
                  [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]     
              }         
              *         
              {
                  [Measures].[Годовые назначения ],
                  [Measures].[Факт ],
                  [Measures].[% выполнения годовых назначений ],
                  [Measures].[Прирост к прошлому году],
                  [Measures].[Уровень],
                  [Measures].[UniqName]
              }         
          } 
        } * {<%selected_region%>}
    } on columns,
    non empty      
    {
            [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Доходы (без учета субвенций) ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Безвозмездные поступления ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Бюджетная обеспеченность ],
            [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Расходы на содержание МСУ ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Неэффективные расходы (по Постановлению Правительства №322) ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Размер дефицита в % от суммы налоговых и неналоговых доходов],
            [КД__Сопоставимый].[КД__Сопоставимый].[ИСТОЧНИКИ ФИНАНСИРОВАНИЯ ДЕФИЦИТА ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Муниципальный долг ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Кредиторская задолженность (в том числе просроченная) ],
            [КД__Сопоставимый].[КД__Сопоставимый].[Остатки (собственные и целевые) ]
    } on rows         
from [ФО_МесОтч_Доходы]         
where                      
    (
        [ТипДокумента].[СКИФ].[Тип документа ],
        [Уровни бюджета].[СКИФ].[<%selected_skif_level%>]
    )                             
  ]]>
</query>

  <query id="FO_0002_0023_chart">
    <![CDATA[
-- FO_0002_0023_chart
with
    set [Районы]   
    as 'Filter   
        (
            Descendants   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF   
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"   
            ) and not   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember   
            )   
        )'   
    set [Города]   
    as 'Filter   
        (
            Descendants   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF   
            ),
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"   
            ) and not   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember   
            )   
        )'   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
    as ' Aggregate( {[Города]} ) '   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
    as ' Aggregate( {[Районы]} )'    
    member Measures.[Брать данные из годовой отчетности]         
    as '         
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember.PrevMember         
        ) or         
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч]         
    as 'IIF         
        (
            [Measures].CurrentMember is [Measures].[Факт],
            "[Measures].[Исполнено]",
            IIF         
            (
                [Measures].CurrentMember is [Measures].[Годовые назначения],
                "[Measures].[Назначено]",
                IIF         
                (
                    [Measures].CurrentMember is [Measures].[% выполнения годовых назначений],
                    "[Measures].[Процент выполнения назначений]",
                    " "         
                )         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]          
    as 'IIF  
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Месяц],
            LookupCube   
            (
                "[ФО_Показатели для планирования]",
                "            
                (
                    [Measures].[Факт],
                    [Показатели__Показатели для планирования Сопост].[Показатели__Показатели для планирования Сопост].[Все показатели].[Данные по численности населения].[Численность постоянного населения МР(ГО)],
                    " + MemberToStr            
                    (
                        [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.PrevMember  
                    ) + ",
                    " + MemberToStr            
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember            
                    ) + "            
                )"            
            ),
            LookupCube   
            (
                "[ФО_Показатели для планирования]",
                "   
                (
                    [Measures].[Факт],
                    [Показатели__Показатели для планирования Сопост].[Показатели__Показатели для планирования Сопост].[Все показатели].[Данные по численности населения].[Численность постоянного населения МР(ГО)],
                    " + MemberToStr   
                    (
                        [Период__Период].[Период__Период].CurrentMember.PrevMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember   
                    ) + "   
                )"   
            )  
        ) '
    member [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Субвенции бюджетам субъектов РФ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ДРУГИХ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Доходы (без учета субвенций) ]         
    as '         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].[ДОХОДЫ ]         
        ) -         
        (
            [КД__Сопоставимый].[КД__Сопоставимый].[Субвенции бюджетам субъектов РФ ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Безвозмездные поступления ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Доходы]",
                "         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ]         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Бюджетная обеспеченность ]      
    as 'IIF       
        (
            IsEmpty       
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]       
            ) or        
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]       
            ) = 0,
            null,
            [КД__Сопоставимый].[КД__Сопоставимый].[Безвозмездные поступления ] / [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]      
        ) '        
    member [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Расходы]",
                "         
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            LookupCube         
            (
                "[ФО_МесОтч_Расходы]",
                "         
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Расходы на содержание МСУ ]      
    as ' LookupCube         
        (
            "[ФО_МесОтч_СпрРасходыДоп]",
            " 
            (
                [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember 
                ) + " 
            )" 
        )' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Коэффициент масштаба]   
    as 'IIF 
        (
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО] 
            ) or 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР] 
            ),
            0.7 + 0.005,
            IIF 
            (
                IsEmpty   
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]   
                ) or [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения] = 0,
                null,
                0.7 + 0.05 
                * [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения Итого] / 10 / [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения]   
            )
        )  ' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения Итого]   
    as 'IIF   
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Численность постоянного населения],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
            )   
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
    as 'IIF   
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]   
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]   
            )   
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
    as 'IIF  
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО],
            Sum  
            (
                [Города],
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
            ),
            IIF  
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР],
                Sum  
                (
                    [Районы],
                    [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
                ),
                LookupCube  
                (
                    "[ФО_МесОтч_СпрРасходыДоп]",
                    "  
                    (
                        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего],
                        " + MemberToStr  
                        (
                            [Measures].CurrentMember
                        ) + ",
                        " + MemberToStr  
                        (
                            [Период__Период].[Период__Период].CurrentMember  
                        ) + ",
                        " + MemberToStr  
                        (
                            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember  
                        ) + "  
                    )"  
                )  
            )  
        )'  
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете Итого]  
    as 'IIF  
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО",
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по ГО]  
            ),
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого по МР]  
            )  
        )'  
    member [КД__Сопоставимый].[КД__Сопоставимый].[Неэффективные расходы (по Постановлению Правительства №322) ]   
    as ' IIF   
        (
            IsEmpty   
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
            ) or   
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]   
            ) = 0,
            null,
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете]  
            ) -  
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Размер расходов на содержание органов местного самоуправления в консолидированном бюджете Итого]  
                * [КД__Сопоставимый].[КД__Сопоставимый].[РАСХОДЫ ]  
                * [КД__Сопоставимый].[КД__Сопоставимый].[Коэффициент масштаба]  
            ) /  
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Общий размер расходов консолидированного бюджета Итого]  
            )  
        ) '           
    member [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
    as 'IIF         
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube         
            (
                "[ФО_ГодОтч_Дефицит Профицит]",
                "         
                (
                    " + [КД__Сопоставимый].[КД__Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            ),
            LookupCube         
            (
                "[ФО_МесОтч_Дефицит Профицит]",
                "         
                (
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr         
                    (
                        [Период__Период].[Период__Период].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember         
                    ) + ",
                    " + MemberToStr         
                    (
                        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember         
                    ) + "         
                )"         
            )         
        )'         
    member [КД__Сопоставимый].[КД__Сопоставимый].[Размер дефицита в % от суммы налоговых и неналоговых доходов]         
    as 'IIF         
        (
            not
            (
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ] > 0         
                ) or IsEmpty         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]         
                ) or         
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]        
                ) = 0
            ),
            1000 * 100 * 
            (
                -[КД__Сопоставимый].[КД__Сопоставимый].[Профицит (+)/дефицит (-) ]         
            ) /         
            (
                [КД__Сопоставимый].[КД__Сопоставимый].[Налоговые и неналоговые доходы ]        
            ),
            null         
        )'         
    member [КД].[Сопоставимый].[ИСТОЧНИКИ ФИНАНСИРОВАНИЯ ДЕФИЦИТА ]                    
    as 'IIF   
        (
            Measures.[Брать данные из годовой отчетности],
            LookupCube   
            (
                "[ФО_ГодОтч_Источники финансирования]",
                "   
                (
                    [КИФ].[Сопоставимый].[Все источники финансирования].[Источники финансирования дефицита бюджета - всего],
                    " + [КД].[Сопоставимый].[Мера для ГодОтч] + ",
                    " + MemberToStr   
                    (
                        [Период].[Период].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Районы].[Сопоставимый].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [ТипДокумента].[СКИФ].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember   
                    ) + "   
                )"   
            ),
            LookupCube   
            (
                "[ФО_МесОтч_ИсточникВнутрФинансирования]",
                "                    
                (
                    [КИФ].[Сопоставимый].[Все источники финансирования].[Источники финансирования дефицита бюджета - всего],
                    " + MemberToStr ( [Measures].CurrentMember ) + ",
                    " + MemberToStr                    
                    (
                        [Период].[Период].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [Районы].[Сопоставимый].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [ТипДокумента].[СКИФ].CurrentMember                    
                    ) + ",
                    " + MemberToStr                    
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember                    
                    ) + "                    
                )"                    
            )  
        )'   
    member [КД__Сопоставимый].[КД__Сопоставимый].[Муниципальный долг ] 
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрВнутрДолг]",
            " 
            (
                [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[МУНИЦИПАЛЬНЫЙ ДОЛГ, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember 
                ) + " 
            )" 
        ) ' 
    member [КД__Сопоставимый].[КД__Сопоставимый].[Кредиторская задолженность (в том числе просроченная) ]
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрЗадолженность]",
            "
            (
                [Показатели__СопМесОСпЗадо].[Показатели__СопМесОСпЗадо].[Все показатели].[ПРОСРОЧЕННАЯ КРЕДИТОРСКАЯ  ЗАДОЛЖЕННОСТЬ, всего],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember
                ) + "
            )"
        ) '
    member [КД__Сопоставимый].[КД__Сопоставимый].[Остатки (собственные и целевые) ]
    as 'LookupCube
        (
            "[ФО_МесОтч_СпрОстатки]",
            "
            (
                [Показатели__СопМесОтСпОст].[Показатели__СопМесОтСпОст].[Все показатели].[ОСТАТКИ СРЕДСТВ БЮДЖЕТОВ НА ОТЧЕТНУЮ ДАТУ:].[остатки целевых средств бюджетов],
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember
                ) + "
            )"
        ) '
    member [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ]         
    as 'IIF         
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР",
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района],
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа]         
        )'         
    member [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета района / городского округа]         
    as 'IIF         
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР",
            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа]         
        )'         
    member [Measures].[Годовые назначения ]             
    as '[Measures].[Годовые назначения] / 1000'       
    member [Measures].[Факт ]         
    as '[Measures].[Факт] / 1000 '   
select
    {
        [Measures].[Факт ]
    } on columns,
    non empty
    {
       [Города] + [Районы]
    } on rows
from [ФО_МесОтч_Доходы]
where
    (
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>],
        <%selected_indicator%>,
        [ТипДокумента].[СКИФ].[Тип документа ],
        [Уровни бюджета].[СКИФ].[<%selected_skif_level%>]
    )
  ]]>
  </query>
</root>