<?xml version="1.0" encoding="Windows-1251"?>
<root>
<query id="FO_0002_0031_date">
    <![CDATA[
-- FO_0002_0031_detail_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                [Период__Период].[Период__Период].Members,
                not IsEmpty([Measures].[Факт]) 
            ) 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from [ФО_МесОтч_Расходы] 
  ]]>
  </query>

  <query id="FO_0002_0031_grid">
    <![CDATA[
-- FO_0002_0031_grid
with    
    member <%incomes_kd_dimension%>.[Доходы бюджета всего ]    
    as '<%incomes_total%>'    
    member <%incomes_kd_dimension%>.[Налоговые, в том числе ]    
    as 'Aggregate    
        (
            {
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ И ВЗНОСЫ НА СОЦИАЛЬНЫЕ НУЖДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ, ВВОЗИМЫЕ НА ТЕРРИТОРИЮ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ГОСУДАРСТВЕННАЯ ПОШЛИНА],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ЗАДОЛЖЕННОСТЬ И ПЕРЕРАСЧЕТЫ ПО ОТМЕНЕННЫМ НАЛОГАМ, СБОРАМ И ИНЫМ ОБЯЗАТЕЛЬНЫМ ПЛАТЕЖАМ]    
            }    
        )'    
    member <%incomes_kd_dimension%>.[Налог на прибыль ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на прибыль организаций]'    
    member <%incomes_kd_dimension%>.[НДФЛ ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц]'    
    member <%incomes_kd_dimension%>.[Налог на имущество организаций ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Налог на имущество организаций]'    
    member <%incomes_kd_dimension%>.[Налоги на совокупный доход ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД]'    
    member <%incomes_kd_dimension%>.[Транспортный налог ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Транспортный налог]'    
    member <%incomes_kd_dimension%>.[Земельный налог ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Земельный налог]'    
    member <%incomes_kd_dimension%>.[Налог на имущество физических лиц ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Налог на имущество физических лиц]'  

    member <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
    as 'IIF
        (
          "<%kd_list%>" = "[Список КД для конс.бюджета]",
          <%incomes_kd_dimension%>.[Налоговые, в том числе ] -
          <%incomes_kd_dimension%>.[Налог на прибыль ] -
          <%incomes_kd_dimension%>.[НДФЛ ] -
          <%incomes_kd_dimension%>.[Налог на имущество организаций ],
          <%incomes_kd_dimension%>.[Налоговые, в том числе ] -
          <%incomes_kd_dimension%>.[НДФЛ ] -
          <%incomes_kd_dimension%>.[Налоги на совокупный доход ] -
          <%incomes_kd_dimension%>.[Транспортный налог ] -
          <%incomes_kd_dimension%>.[Земельный налог ] -
          <%incomes_kd_dimension%>.[Налог на имущество физических лиц ]
        )   '    
    set [Список КД для конс.бюджета]    
    as '    
        {
            <%incomes_kd_dimension%>.[Доходы бюджета всего ],
            <%incomes_kd_dimension%>.[Налоговые, в том числе ],
            <%incomes_kd_dimension%>.[Налог на прибыль ],
            <%incomes_kd_dimension%>.[НДФЛ ],
            <%incomes_kd_dimension%>.[Налог на имущество организаций ],
            <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
        }'    
    set [Список КД для МО]    
    as '    
        {
            <%incomes_kd_dimension%>.[Доходы бюджета всего ],
            <%incomes_kd_dimension%>.[Налоговые, в том числе ],
            <%incomes_kd_dimension%>.[НДФЛ ],
            <%incomes_kd_dimension%>.[Налоги на совокупный доход ],
            <%incomes_kd_dimension%>.[Транспортный налог ],
            <%incomes_kd_dimension%>.[Земельный налог ],
            <%incomes_kd_dimension%>.[Налог на имущество физических лиц ],
            <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
        }'
    member [Measures].[Выводим пустоту]
    as '[Период__Период].[Период__Период].CurrentMember.Properties("PKID") > [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>].Properties("PKID")'
    member [Measures].[План на год (уточненный) ]    
    as 'IIF 
        (
            [Measures].[Выводим пустоту],
            null,
            [Measures].[Годовые назначения] / 1000
        )' 
    member [Measures].[Факт за период ]    
    as 'IIF 
        (
            [Measures].[Выводим пустоту],
            null,
            [Measures].[Факт_за период] / 1000 
        )'  
    member [Measures].[Доля, % ]    
    as 'IIF    
        (
            IsEmpty    
            (
                (
                    <%incomes_kd_dimension%>.[Доходы бюджета всего ],
                    [Measures].[<%selected_measure%>]    
                )    
            ) or    
            (
                <%incomes_kd_dimension%>.[Доходы бюджета всего ],
                [Measures].[<%selected_measure%>]    
            ) = 0,
            null,
            (
                <%incomes_kd_dimension%>.CurrentMember,
                [Measures].[<%selected_measure%>]    
            ) /    
            (
                <%incomes_kd_dimension%>.[Доходы бюджета всего ],
                [Measures].[<%selected_measure%>]    
            )    
        )'    
    member [Measures].[Исполнено\назначено за прошлый месяц ]    
    as '    
        (
            [Measures].[<%selected_measure%>],
            Tail  
            (
                Filter  
                (
                    {
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь] : [Период__Период].[Период__Период].CurrentMember.PrevMember  
                    },
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"    
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"    
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"    
                    ) and              
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"    
                    ) and              
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"    
                    ) and    
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"    
                    )
                )  
            ).Item(0) 
        )'    
    member [Measures].[Отклонение от предыдущего месяца ]    
    as 'IIF    
        (
            IsEmpty    
            (
                (
                    [Measures].[<%selected_measure%>],
                    [Период__Период].[Период__Период].CurrentMember    
                )    
            ),
            null,
            (
                [Measures].[<%selected_measure%>],
                [Период__Период].[Период__Период].CurrentMember    
            ) - [Measures].[Исполнено\назначено за прошлый месяц ]    
        ) '    
    member [Measures].[Отклонение от января ]    
    as 'IIF    
        (
            IsEmpty    
            (
                (
                    [Measures].[<%selected_measure%>],
                    [Период__Период].[Период__Период].CurrentMember    
                )    
            ),
            null,
            (
                [Measures].[<%selected_measure%>],
                [Период__Период].[Период__Период].CurrentMember    
            ) -    
            (
                [Measures].[<%selected_measure%>],
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]    
            )    
        ) '    
    set [Месяцы текущего года без января]    
    as 'Filter    
        (
            Descendants    
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF    
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Январь"    
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"    
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"    
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"    
            ) and              
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"    
            ) and              
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"    
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"    
            ) and not    
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember    
            )    
        )'    

    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )'      
        
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            )
        )'
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            )
        )'
        
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Муниципальные районы ]
    as 'Aggregate({[Районы]})'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Городские округа ]
    as 'Aggregate({[Города]})'        
select
    {
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]    
            }    
            *    
            {
                [Measures].[<%selected_measure%>],
                [Measures].[Доля, % ]    
            }    
        }   +    
        {
            Filter    
            (
                {
                    {
                        [Месяцы текущего года без января]    
                    }    
                    *     
                    {
                        [Measures].[<%selected_measure%>],
                        [Measures].[Доля, % ],
                        [Measures].[Отклонение от предыдущего месяца ],
                        [Measures].[Отклонение от января ]    
                    }   
                },
                IIF    
                (
                    (
                        [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>] 
                    ) and not   
                    (
                        [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]   
                    ),
                    true,
                    not    
                    (
                        [Measures].CurrentMember is [Measures].[Отклонение от января ]   
                    )    
                )    
            )    
        }    
    } on columns,
    { <%kd_list%> } on rows    
from [ФО_МесОтч_Доходы]  
where
(
        <%selected_region%>,
        [ТипДокумента].[СКИФ].[Тип документа ],
        [Уровни бюджета].[СКИФ].[Уровень бюджета ]
)
  ]]>
  </query>

  <query id="FO_0002_0031_stackColumnChart">
    <![CDATA[
-- FO_0002_0031_stackColumnChart
with 
    member <%incomes_kd_dimension%>.[Доходы бюджета всего ]    
    as '<%incomes_total%>'    
    member <%incomes_kd_dimension%>.[Налоговые, в том числе ]    
    as 'Aggregate    
        (
            {
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ И ВЗНОСЫ НА СОЦИАЛЬНЫЕ НУЖДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ, ВВОЗИМЫЕ НА ТЕРРИТОРИЮ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ГОСУДАРСТВЕННАЯ ПОШЛИНА],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ЗАДОЛЖЕННОСТЬ И ПЕРЕРАСЧЕТЫ ПО ОТМЕНЕННЫМ НАЛОГАМ, СБОРАМ И ИНЫМ ОБЯЗАТЕЛЬНЫМ ПЛАТЕЖАМ]    
            }    
        )'    
    member <%incomes_kd_dimension%>.[Налог на прибыль ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на прибыль организаций]'    
    member <%incomes_kd_dimension%>.[НДФЛ ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц]'    
    member <%incomes_kd_dimension%>.[Налог на имущество организаций ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Налог на имущество организаций]'    
    member <%incomes_kd_dimension%>.[Налоги на совокупный доход ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД]'    
    member <%incomes_kd_dimension%>.[Транспортный налог ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Транспортный налог]'    
    member <%incomes_kd_dimension%>.[Земельный налог ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Земельный налог]'    
    member <%incomes_kd_dimension%>.[Налог на имущество физических лиц ]    
    as '<%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Налог на имущество физических лиц]'  
    
    member <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
    as 'IIF
        (
          "<%kd_list%>" = "[Список КД для конс.бюджета]",
          <%incomes_kd_dimension%>.[Налоговые, в том числе ] -
          <%incomes_kd_dimension%>.[Налог на прибыль ] -
          <%incomes_kd_dimension%>.[НДФЛ ] -
          <%incomes_kd_dimension%>.[Налог на имущество организаций ],
          <%incomes_kd_dimension%>.[Налоговые, в том числе ] -
          <%incomes_kd_dimension%>.[НДФЛ ] -
          <%incomes_kd_dimension%>.[Налоги на совокупный доход ] -
          <%incomes_kd_dimension%>.[Транспортный налог ] -
          <%incomes_kd_dimension%>.[Земельный налог ] - 
          <%incomes_kd_dimension%>.[Налог на имущество физических лиц ] 
        )   '    
    set [Список КД для конс.бюджета]    
    as '    
        {
            <%incomes_kd_dimension%>.[Налог на прибыль ],
            <%incomes_kd_dimension%>.[НДФЛ ],
            <%incomes_kd_dimension%>.[Налог на имущество организаций ],
            <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
        }'    
    set [Список КД для МО]    
    as '    
        {
            <%incomes_kd_dimension%>.[НДФЛ ],
            <%incomes_kd_dimension%>.[Налоги на совокупный доход ],
            <%incomes_kd_dimension%>.[Транспортный налог ],
            <%incomes_kd_dimension%>.[Земельный налог ],
            <%incomes_kd_dimension%>.[Налог на имущество физических лиц ],
            <%incomes_kd_dimension%>.[Прочие налоговые доходы]    
        }'

    member [Measures].[План на год (уточненный) ] 
    as ' [Measures].[Годовые назначения] / <%rub_multiplier%> ' 
    member [Measures].[Факт за период ] 
    as ' [Measures].[Факт_за период] / <%rub_multiplier%> '   

    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )' 

    set [Месяцы текущего года]
    as 'Filter
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF
            ),
           (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"
            ) and not
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            )
        )'
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            )
        )'
        
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Муниципальные районы ]
    as 'Aggregate({[Районы]})'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Городские округа ]
    as 'Aggregate({[Города]})'        
select
    non Empty
    {
       [Месяцы текущего года]
    } on columns,
    non Empty { <%kd_list%> } on rows 
from [ФО_МесОтч_Доходы] 
where 
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        [Measures].[<%selected_measure%>]
    ) 
  ]]>
  </query>

  <query id="FO_0002_0031_stackLineChart">
    <![CDATA[
-- FO_0002_0031_stackLineChart
with 
    member <%incomes_kd_dimension%>.[Доходы нарастающим итогом ]
    as 'Aggregate
        (
            {
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ И ВЗНОСЫ НА СОЦИАЛЬНЫЕ НУЖДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ, ВВОЗИМЫЕ НА ТЕРРИТОРИЮ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ГОСУДАРСТВЕННАЯ ПОШЛИНА],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ЗАДОЛЖЕННОСТЬ И ПЕРЕРАСЧЕТЫ ПО ОТМЕНЕННЫМ НАЛОГАМ, СБОРАМ И ИНЫМ ОБЯЗАТЕЛЬНЫМ ПЛАТЕЖАМ]    
            }
        )'

    member [Measures].[План на год (уточненный) ]
    as ' null '

    member [Measures].[Факт за период ]
    as ' [Measures].[Факт] / <%rub_multiplier%> '
 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )' 

    set [Месяцы текущего года]
    as 'Filter
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"
            ) and not
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            )
        )'
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            )
        )'
        
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Муниципальные районы ]
    as 'Aggregate({[Районы]})'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Городские округа ]
    as 'Aggregate({[Города]})'        
select
    non Empty
    {
       <%incomes_kd_dimension%>.[Доходы нарастающим итогом ]
    } on columns,
    non Empty 
    {  [Месяцы текущего года] } on rows
from [ФО_МесОтч_Доходы] 
where 
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        [Measures].[<%selected_measure%>]
    ) 
  ]]>
  </query>

  <query id="FO_0002_0031_lineChart">
    <![CDATA[
-- FO_0002_0031_lineChart
with 
    member <%incomes_kd_dimension%>.[Всего налоговых доходов в месяц ]
    as 'Aggregate
        (
            {
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ И ВЗНОСЫ НА СОЦИАЛЬНЫЕ НУЖДЫ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ, ВВОЗИМЫЕ НА ТЕРРИТОРИЮ РОССИЙСКОЙ ФЕДЕРАЦИИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ГОСУДАРСТВЕННАЯ ПОШЛИНА],
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ЗАДОЛЖЕННОСТЬ И ПЕРЕРАСЧЕТЫ ПО ОТМЕНЕННЫМ НАЛОГАМ, СБОРАМ И ИНЫМ ОБЯЗАТЕЛЬНЫМ ПЛАТЕЖАМ]    
            }
        )'

    member [Measures].[План на год (уточненный) ]    
    as ' [Measures].[Годовые назначения] / <%rub_multiplier%>' 

    member [Measures].[Факт за период ]
    as ' [Measures].[Факт_за период] / <%rub_multiplier%> '

    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )' 

    set [Месяцы текущего года]
    as 'Filter
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"
            ) and not
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember
            )
        )'
    set [Города]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            )
        )'
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                <%regions_level%>,
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР"
            )
        )'
        
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Муниципальные районы ]
    as 'Aggregate({[Районы]})'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Городские округа ]
    as 'Aggregate({[Города]})'        
select
    non Empty
    {
       <%incomes_kd_dimension%>.[Всего налоговых доходов в месяц ]
    } on columns,
    non Empty 
    {  [Месяцы текущего года] } on rows
from [ФО_МесОтч_Доходы] 
where 
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        [Measures].[<%selected_measure%>]
    ) 
  ]]>
  </query>
</root>