<?xml version="1.0" encoding="windows-1251"?>
<root>
  <query id="last_date">
    <![CDATA[    SELECT
    { [Measures].[За период]  } on columns,
    {
        Tail
        (
            Filter
            (
                [Период].[Год Квартал Месяц].[Год].Members,
                [Measures].[За период] > 0
            )
        ).Item(0)
    } DIMENSION PROPERTIES MEMBER_UNIQUE_NAME on rows
FROM [СТАТ_Торговля_Основные показатели]
where
        (
        [Источники данных].[Источник].[<%2%>],
        [Группировки].[Торговля_Основные показатели].[По видам торговли, по городам и районам],
        [Торговля].[Основные показатели].[Оборот торговых организаций],
        [Территории].[РФ Карта].<%1%>
    )]]>
  </query>
  <query id="TG">
    <![CDATA[select
    non empty  
    {
        [Территории].[РФ Карта].<%1%>. children      
    }on rows    ,
    non empty    
    {
        Crossjoin   
        (
            {
                [Период].[Год Квартал Месяц].[Год].[<%3%>]     
            },
            {
                [Виды торговли].[Уровень 1].members     
            }   
        )    
    }  on columns   
FROM   [СТАТ_Торговля_Основные показатели]      
where       
    (
        [Measures].[За период] ,
        [Источники данных].[Источник].[<%2%>],
        [Группировки].[Торговля_Основные показатели].[По видам торговли, по городам и районам],
        [Торговля].[Основные показатели].[Оборот торговых организаций]    
    )  ]]>
  </query>
  
  <query id="TC">
    <![CDATA[select
    non empty
    {  [Виды торговли].[Уровень 1].members

    }on rows    ,
    non empty
{
  [Период].[Год Квартал Месяц].[Год].[<%firstdate%>]:[Период].[Год Квартал Месяц].[Год].[<%lastdate%>]

       
    }  on columns
FROM   [СТАТ_Торговля_Основные показатели]
where
    (
        [Measures].[За период] ,
        [Источники данных].[Источник].[СТАТ Отчетность - Облстат],
        [Группировки].[Торговля_Основные показатели].[По видам торговли, по городам и районам],
        [Торговля].[Основные показатели].[Оборот торговых организаций],
        [Территории].[РФ Карта].&[1000000840].[<%pokaz%>]
    ) ]]>
  </query>
  <query id="CC">
    <![CDATA[
    select non empty
    {
        [Территории].[РФ Карта].[<%pokaz%>]         
    } on rows   ,
    non empty               
    {

-- надоб разобраться как это нармально написать!!
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 1].[Январь],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 1].[Февраль],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 1].[Март],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 2].[Апрель],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 2].[Май],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 1].[Квартал 2].[Июнь],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 3].[Июль],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 3].[Август],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 3].[Сентябрь],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 4].[Октябрь],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 4].[Ноябрь],
                    [Период].[Год Квартал Месяц].[Год].[<%3%>].[Полугодие 2].[Квартал 4].[Декабрь]
  
    }  on columns              
FROM   [СТАТ_Торговля_Основные показатели]              
where              
    (
        [Measures].[Нарастающий итог] ,
        [Источники данных].[Источник].[<%2%>],
        [Группировки].[Торговля_Основные показатели].[По видам товаров и услуг, по городам и районам],
        [Торговля].[Основные показатели].[Оборот торговых организаций],
        [ОК].[Товары и платные услуги].[Платные услуги]      
    )  ]]>
  </query>  
<query id="BG">
    <![CDATA[
    select
    non empty     
    {

[Торговля].[Основные показатели].[Оборот розничной торговли], 

[Торговля].[Основные показатели].[Оборот розничной продажи продовольственных товаров], 

[Торговля].[Основные показатели].[Оборот розничной продажи непродовольственных товаров]
}on rows    ,
    non empty                    
    {
                [Период].[Год Квартал Месяц].[Год].[<%3%>]
    }  on columns                   
FROM   [СТАТ_Торговля_Основные показатели]                   
where                   
    (
        [Measures].[За период] ,
        [Источники данных].[Источник].[<%2%>],
        [Группировки].[Торговля_Основные показатели].[По видам торговли],
        [Виды торговли].[Все виды торговли].[Розничная торговля],
        [Территории].[РФ Карта].[Субъект РФ].[Саратовская обл.]
    ) ]]>
  </query><query id="BC">
    <![CDATA[
    select
    non empty     
    {
        [Торговля].[Основные показатели].[<%pokaz%>]
 }on rows    ,
    non empty                    
    {
                [Период].[Год Квартал Месяц].[Год].[<%firstdate%>]:[Период].[Год Квартал Месяц].[Год].[<%lastdate%>]
    }  on columns                   
FROM   [СТАТ_Торговля_Основные показатели]                   
where                   
    (
        [Measures].[Темп роста цепной],
        [Источники данных].[Источник].[<%2%>],
        [Группировки].[Торговля_Основные показатели].[По видам торговли],
        [Виды торговли].[Все виды торговли].[Розничная торговля],
        [Территории].[РФ Карта].[Субъект РФ].[Саратовская обл.]
    ) ]]>
  </query>
</root>