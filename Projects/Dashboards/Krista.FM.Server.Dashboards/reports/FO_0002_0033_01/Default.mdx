<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0033_01_date">
    <![CDATA[
-- FO_0002_0033_01_detail_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период__Период].[Период__Период].[День].Members,
                not IsEmpty ([Measures].[Расход с возвратом])
                and [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
                and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"
                and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"
                and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
                and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_АС Бюджет_КазнИсп_Факт расхода]
  ]]>
  </query>

  <query id="FO_0002_0033_01_grid">
    <![CDATA[
-- FO_0002_0033_01_grid
with 
    set [Список расходов]
    as 'Filter
        (
            
                <%selected_rzpr_value%>
            - [Расходы__Базовый].[Расходы__Базовый].[Все],
            not
            (
                [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Parent.DataMember
            )
			and
            (
               [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name <> "Несопоставленные данные"
            )
        )'
	  	
    set [Список КОСГУ] 
    as 'Filter 
        (
            Descendants 
            (
                <%selected_kosgu_value%>,
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Статья],
                SELF_AND_AFTER
            ),
            not 
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
			 and
            (
                 [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Несопоставленные данные"
            )
            and
            (
                 [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Неуказанная экономическая статья"
            )
        )' 
    member [Measures].[РзПр] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("ФКР")' 
    member [Measures].[ЦСР] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("КЦСР")' 
    member [Measures].[ВР] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("КВР")' 
    member [Measures].[КОСГУ] 
    as '  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("Код")' 
	member [Measures].[Тип средств]
    as '[Тип средств__Сопоставимый].CurrentMember.Properties("Код")'
     member [Measures].[План, утвержденный законодательно ] 
    as ' 
        (
            [Measures].[Ассигнования],
            [Роспись Уведомления].[Уточненный план].[Утвержденный план],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уведомления по текущий квартал ] 
    as ' 
        (
            [Measures].[Ассигнования нараст итог],
            [Роспись Уведомления].[Уточненный план].[Уведомления],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>],
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уточненный план на год ] 
    as '[Measures].[План, утвержденный законодательно ] + [Measures].[Уведомления по текущий квартал ]' 
	
    member [Measures].[Уточненный план на квартал ] 
    as ' 
        (
            [Measures].[Ассигнования нараст итог по текущий период],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] ,
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>]
        )/1000' 
		
   member [Measures].[Кассовое исполнение на дату ]  
    as ' LookupCube  
        (
            "[ФО_АС Бюджет_КазнИсп_Факт расхода]",
            "  
            (
                [Measures].[Расход с возвратом нараст итог],
                " + MemberToStr  
                (
                    [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember  
                ) + ",
                " + MemberToStr  
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember  
                ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember  
                ) + " ,
                " + MemberToStr 
                (
                  	[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember
                ) + "   
            )"  
        )/1000 '  
    member [Measures].[Остаток ассигнований ] 
    as ' <%measures%> -  [Measures].[Кассовое исполнение на дату ]' 
	
    member [Measures].[% исполнения ] 
    as 'IIF 
        (
            IsEmpty 
            (
               <%measures%>
            ) or <%measures%> = 0,
            null,
            [Measures].[Кассовое исполнение на дату ] / <%measures%> 
        )' 
    member [Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ] 
    as ' 
        (
            [Measures].[Ассигнования],
            [Роспись Уведомления].[Уточненный план].[Утвержденный план],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уточненный план на предыдущий год ] 
    as '[Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ] + 
        ((
            [Measures].[Ассигнования нараст итог],
            [Роспись Уведомления].[Уточненный план].[Уведомления],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000)' 
		
    member [Measures].[Уточненный план на аналогичный квартал предыдущего года ] 
    as '(
            [Measures].[Ассигнования нараст итог по текущий период],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>]  ,
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>]
        )/1000' 
		
      member [Measures].[Кассовое исполнение на аналогичную дату предыдущего года ] 
    as ' 
        (
            [Measures].[Кассовое исполнение на дату ],
            ParallelPeriod 
            (
                [Период__Период].[Период__Период].[Год],
                1 ,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] 
            ) 
        )' 
    member [Measures].[Темп роста кассового исполнения ] 
    as 'IIF 
        (
            IsEmpty 
            (
                <%temp_zn%>
            ) or 
			(
			  <%temp_zn%>
			) = 0,
            null,
            <%temp_ch%> / <%temp_zn%>
        )' 
      member [Measures].[Имя]
     as '(
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Parent.Parent.Parent.Parent.Name
         )'	
	 member [Measures].[Уровень] 
     as 'IIF
        (
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("Level_Number") = "2",
            1,
            0
        )' 	
			
select
    {
        [Measures].[РзПр],
        [Measures].[ЦСР],
        [Measures].[ВР],
        [Measures].[КОСГУ],
		[Measures].[Тип средств],
        [Measures].[План, утвержденный законодательно ],
        [Measures].[Уточненный план на год ],
        [Measures].[Уточненный план на квартал ],
        [Measures].[Кассовое исполнение на дату ],
        [Measures].[Остаток ассигнований ],
        [Measures].[% исполнения ],
        [Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ],
        [Measures].[Уточненный план на предыдущий год ],
		[Measures].[Уточненный план на аналогичный квартал предыдущего года ] ,
        [Measures].[Кассовое исполнение на аналогичную дату предыдущего года ],
        [Measures].[Темп роста кассового исполнения ] ,
		[Measures].[Имя],
		[Measures].[Уровень]
    } on columns,
     Filter	 	   
    (
        { 	      [Список расходов] 	   } 	     
        * { 	     [Список КОСГУ] 	   } 	     
        * 	     
        {
            	       
            {
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Все типы средств].[Бюджетные средства]  
            } 	     
        },
   	 not

            IsEmpty 	    
            (
                [Measures].[План, утвержденный законодательно ]	  
            )  or 	 not  IsEmpty
            (
                [Measures].[Уточненный план на год ] 
            ) or  not IsEmpty
            (
                [Measures].[Уточненный план на квартал ] 
            )  or not IsEmpty
            (
              [Measures].[Кассовое исполнение на дату ]
            )  or  not IsEmpty
            (
                [Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ]
            ) or  not IsEmpty
            (
                  [Measures].[Уточненный план на предыдущий год ]
            ) or  not IsEmpty
            (
              		[Measures].[Уточненный план на аналогичный квартал предыдущего года ]
            ) or not IsEmpty
            (
              	 [Measures].[Кассовое исполнение на аналогичную дату предыдущего года ]
            )
        	
    ) on rows 
from [ФО_АС Бюджет_План расходов] 
where 
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>],
        [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]	
    ) 
  ]]>
  </query>

<query id="FO_0002_0033_01_grid_total">
		<![CDATA[
-- FO_0002_0033_01_grid
with 
    set [Список расходов]
    as 'Filter
        (
            
                <%selected_rzpr_value%>
            - [Расходы__Базовый].[Расходы__Базовый].[Все],
            not
            (
                [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Parent.DataMember
            )
			and
            (
               [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name <> "Несопоставленные данные"
            )
        )'
	  	
    set [Список КОСГУ] 
    as 'Filter 
        (
            Descendants 
            (
                <%selected_kosgu_value%>,
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Статья],
                SELF_AND_AFTER
            ),
            not 
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
			 and
            (
                 [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Несопоставленные данные"
            )
            and
            (
                 [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Неуказанная экономическая статья"
            )
        )' 
    member [Measures].[РзПр] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("ФКР")' 
    member [Measures].[ЦСР] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("КЦСР")' 
    member [Measures].[ВР] 
    as '[Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("КВР")' 
    member [Measures].[КОСГУ] 
    as '  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("Код")' 
	member [Measures].[Тип средств]
    as 'null'
     member [Measures].[План, утвержденный законодательно ] 
    as ' 
        (
            [Measures].[Ассигнования],
            [Роспись Уведомления].[Уточненный план].[Утвержденный план],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уведомления по текущий квартал ] 
    as ' 
        (
            [Measures].[Ассигнования нараст итог],
            [Роспись Уведомления].[Уточненный план].[Уведомления],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>],
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уточненный план на год ] 
    as '[Measures].[План, утвержденный законодательно ] + [Measures].[Уведомления по текущий квартал ]' 
    member [Measures].[Уточненный план на квартал ] 
    as ' 
        (
            [Measures].[Ассигнования нараст итог по текущий период],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] ,
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>]
        )/1000' 
		
   member [Measures].[Кассовое исполнение на дату ]  
    as ' LookupCube  
        (
            "[ФО_АС Бюджет_КазнИсп_Факт расхода]",
            "  
            (
                [Measures].[Расход с возвратом нараст итог],
                " + MemberToStr  
                (
                    [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember  
                ) + ",
                " + MemberToStr  
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember  
                ) + ",
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember  
                ) + " ,
                " + MemberToStr 
                (
                  	[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember
                ) + "   
            )"  
        )/1000 '  
    member [Measures].[Остаток ассигнований ] 
    as ' <%measures%> -  [Measures].[Кассовое исполнение на дату ]' 
	
    member [Measures].[% исполнения ] 
    as 'IIF 
        (
            IsEmpty 
            (
               <%measures%>
            ) or <%measures%> = 0,
            null,
            [Measures].[Кассовое исполнение на дату ] / <%measures%> 
        )' 
    member [Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ] 
    as ' 
        (
            [Measures].[Ассигнования],
            [Роспись Уведомления].[Уточненный план].[Утвержденный план],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000' 
    member [Measures].[Уточненный план на предыдущий год ] 
    as '[Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ] + 
        ((
            [Measures].[Ассигнования нараст итог],
            [Роспись Уведомления].[Уточненный план].[Уведомления],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Роспись],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>],
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>] ,
			[Фиксированный__БА_ЛБО].[Фиксированный__БА_ЛБО].[Все].[Бюджетные ассигнования, лимиты бюджетных обязательств]
        )/1000)' 
    member [Measures].[Уточненный план на аналогичный квартал предыдущего года ] 
    as '(
            [Measures].[Ассигнования нараст итог по текущий период],
            [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>]  ,
            [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_last_year%>]
        )/1000' 
      member [Measures].[Кассовое исполнение на аналогичную дату предыдущего года ] 
    as ' 
        (
            [Measures].[Кассовое исполнение на дату ],
            ParallelPeriod 
            (
                [Период__Период].[Период__Период].[Год],
                1 ,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] 
            ) 
        )' 
    member [Measures].[Темп роста кассового исполнения ] 
    as 'IIF 
        (
            IsEmpty 
            (
                <%temp_zn%>
            ) or 
			(
			  <%temp_zn%>
			) = 0,
            null,
            <%temp_ch%> / <%temp_zn%>
        )' 
      member [Measures].[Имя]
     as '(
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Parent.Parent.Parent.Parent.Name
         )'	
	 member [Measures].[Уровень] 
     as 'IIF
        (
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("Level_Number") = "2",
            1,
            0
        )' 	 
	
     member  [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Типы средств] 	  
    as 'Aggregate 	     
        (
            		   
            {
              <%selected_mean_value%> 
            } 		
        )' 
select
    {
        [Measures].[РзПр],
        [Measures].[ЦСР],
        [Measures].[ВР],
        [Measures].[КОСГУ],
		[Measures].[Тип средств],
        [Measures].[План, утвержденный законодательно ],
        [Measures].[Уточненный план на год ],
        [Measures].[Уточненный план на квартал ],
        [Measures].[Кассовое исполнение на дату ],
        [Measures].[Остаток ассигнований ],
        [Measures].[% исполнения ],
        [Measures].[План, утвержденный законодательно на аналогичный период предыдущего года ],
        [Measures].[Уточненный план на предыдущий год ],
		[Measures].[Уточненный план на аналогичный квартал предыдущего года ] ,
        [Measures].[Кассовое исполнение на аналогичную дату предыдущего года ],
        [Measures].[Темп роста кассового исполнения ] ,
		[Measures].[Имя],
		[Measures].[Уровень]
    } on columns,
    {	  
	   [Расходы__Базовый].[Расходы__Базовый].[Все]
	} on rows 
from [ФО_АС Бюджет_План расходов] 
where 
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>],
        [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>],
		[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Типы средств] 	  
    ) 
  ]]>
	</query>

  <query id="FO_0002_0033_01_KOSGU_Digest">
    <![CDATA[
-- FO_0002_0033_01_KOSGU_Digest
with     
    set [Список расходов]     
    as ' Filter     
        (
            Generate     
            (
                Descendants     
                (
                    [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР],
                    [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Подстатья],
                    SELF_AND_BEFORE     
                ),
                {
                    [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember     
                }     
            ),
            not     
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Parent.DataMember     
            ) 			 and     
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Несопоставленные данные"     
            ) and     
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name <> "Неуказанная экономическая статья"     
            )     
        )'     
    member [Measures].[Имя]     
    as 'IIF     
        (
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР],
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name,
            "   
            (" + [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("Код") + ")" + [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Name    
        )'     
    member [Measures].[Уникальное имя]     
    as '[КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.UniqueName'     
    member [Measures].[Уровень]     
    as 'IIF   
        (
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР],
            0,
            [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Properties("LEVEL_NUMBER")-1
        )' 
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]     
    } on columns,
    {[Список расходов]} on rows     
from [ФО_АС Бюджет_План расходов]     
  ]]>
  </query>

  <query id="FO_0002_0033_01_Means_Digest">
    <![CDATA[
-- FO_0002_0033_01_Means_Digest
with 
    set [Список расходов] 
    as ' Filter 
        (
            Descendants 
            (
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Все типы средств],
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Тип средств уровень 3],
                SELF_and_before
            )
            - [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].[Все типы средств]
            ,
            not 
            (
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember is [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Parent.DataMember 
            ) and 
            (
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Name <> "Несопоставленные данные" 
            ) and 
            (
                [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Name <> "Неуказаный тип средств" 
            ) 
        )' 
    member [Measures].[Имя] 
    as '"("+ [Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Properties("Код") + ") " +[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Name'
    member [Measures].[Уникальное имя] 
    as '[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.UniqueName' 
    member [Measures].[Уровень] 
    as '[Тип средств__Сопоставимый].[Тип средств__Сопоставимый].CurrentMember.Properties("LEVEL_NUMBER")-1'
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    } on columns,
    {[Список расходов]} on rows 
from [ФО_АС Бюджет_План расходов]  
  ]]>
  </query>

<query id="FO_0002_0033_02_AllRzPr">
 <![CDATA[
-- FO_0002_0033_02_AllRzPr
with
    set [Список расходов]
    as 'Filter
        (
            Descendants
            (
                [Расходы__Базовый].[Расходы__Базовый].[Все],
                [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 6],
                SELF_and_before
            )-[Расходы__Базовый].[Расходы__Базовый].[Все],
            not
            (
                [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Parent.DataMember
            ) 			and
            (
                [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name <> "Несопоставленные данные"
            )
        )'
    member [Measures].[Имя]
    as 'IIF
        (
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все КБК],
            [Measures].[Имя ] ,
            IIF
            (
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Level is [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 1]
                ) or
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Level is [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 2]
                ),
                "(" + [Расходы__Базовый].[Расходы__Базовый].Properties("ФКР") + ") " + [Measures].[Имя ] ,
                IIF
                (
                    (
                        [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Level is [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 3]
                    ) or
                    (
                        [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Level is [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 4]
                    )or
                    (
                        [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Level is [Расходы__Базовый].[Расходы__Базовый].[Расходы уровень 5]
                    ),
                    "(" + [Расходы__Базовый].[Расходы__Базовый].Properties("КЦСР") + ") " + [Measures].[Имя ] ,
                    "(" + [Расходы__Базовый].[Расходы__Базовый].Properties("КВР") + ") " + [Measures].[Имя ]
                )
            )
        )' 	
       	  
    member [Measures].[Имя ]  
    as 'IIF  
        (
            ( [Measures].[Это код] = "0") or ([Measures].[Это код] = "1")or ([Measures].[Это код] = "2") or ([Measures].[Это код] = "3")or ([Measures].[Это код] = "4") or ([Measures].[Это код] = "5") or ([Measures].[Это код] = "6") or ([Measures].[Это код] = "7") or ([Measures].[Это код] = "8") or ([Measures].[Это код] = "9"),
            IIF  
            (
                (
                  [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все].[19830146383Межбюджетные трансферты]
                ) or
                (
                  [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все].[19830146383Межбюджетные трансферты].[19855446437Иные межбюджетные трансферты]
                )  or
                (
                  [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все].[19830146383Межбюджетные трансферты].[19855446437Иные межбюджетные трансферты].[19855548187Резервные фонды]
                ),
                Mid 
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name,
                    12
                ),
                Mid  
                (
                    [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name,
                    7  
                )
            ),
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name   
        )'  
    member [Measures].[Это код]
    as ' Mid
        (
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Name,
            0,
            1
        )    ' 	
    member [Measures].[Уникальное имя]
    as 'IIF
        (
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все КБК],
            [Расходы__Базовый].[Расходы__Базовый].[Все],
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.UniqueName
        )' 			
    member [Measures].[Уровень]
    as 'IIF
        (
            (
                [Расходы__Базовый].[Расходы__Базовый].CurrentMember is [Расходы__Базовый].[Расходы__Базовый].[Все КБК] 	
            ),
            0,
            [Расходы__Базовый].[Расходы__Базовый].CurrentMember.Properties("LEVEL_NUMBER")-1
        )'
    member  [Расходы__Базовый].[Расходы__Базовый].[Все КБК]
    as '[Расходы__Базовый].[Расходы__Базовый].[Все]'	 		
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    {
     {[Список расходов]} 	
    } on rows
from [ФО_АС Бюджет_План расходов]     
 ]]>
	</query>

</root>