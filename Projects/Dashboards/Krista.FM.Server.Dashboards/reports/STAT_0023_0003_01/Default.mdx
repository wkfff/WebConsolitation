<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="STAT_0023_0003_01_lastDate">
    <![CDATA[
-- STAT_0023_0003_01_lastDate  
with
    member Measures.[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    member [Организации__Реестр организаций].[Организации__Реестр организаций].[Организации]  
    as 'Aggregate
       ({Filter 
        (
            [Организации__Реестр организаций].[Организации__Реестр организаций].[Все организации].Children,
            [Организации__Реестр организаций].[Организации__Реестр организаций].CurrentMember.Properties("Тип организации") = "Государственные предприятия" 
        )})'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        
        Filter
        (
           {[Период__Период].[Период__Период].[Данные всех периодов].[2009] : [Период__Период].[Период__Период].[Данные всех периодов].[2020]},
           not IsEmpty(([Организации__Реестр организаций].[Организации__Реестр организаций].[Организации], Measures.[Значение] ))
        )
    ) on rows
From [ОРГАНИЗАЦИИ_Характеристика деятельности]
where 
    (
[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ]
    ) 
	]]>
  </query>

  <query id="STAT_0023_0003_01_grid">
    <![CDATA[
-- STAT_0023_0003_01_grid
with        
    set [Показатели]        
    as 'Descendants        
        (
            [Организации__Показатели работы].[Организации__Показатели работы].[Все показатели],
            [Организации__Показатели работы].[Организации__Показатели работы].[Уровень 1],
            SELF        
        )'        
    set [Периоды]        
    as 'Tail        
        (
            [Период__Период].[Период__Период].[Данные всех периодов].[1998] : [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            5        
        ) '        
    member [Период__Период].[Период__Период].[Показатель]        
    as ' [Организации__Показатели работы].[Организации__Показатели работы].CurrentMember.Name'       
    
    member [Период__Период].[Период__Период].[Показатель с единицой измерения]        
    as ' [Организации__Показатели работы].[Организации__Показатели работы].CurrentMember.Name + ", " + 
         LCase([Организации__Показатели работы].[Организации__Показатели работы].CurrentMember.Properties("Единица измерения"))'
    
    member [Период__Период].[Период__Период].[Единица измерения]    
    as '[Организации__Показатели работы].[Организации__Показатели работы].CurrentMember.Properties("Единица измерения")'
         
    member [Период__Период].[Период__Период].[Тип строки]        
    as 'IIF        
        (
            [Measures].CurrentMember is [Measures].[Значение],
            "0",
            IIF        
            (
                [Measures].CurrentMember is [Measures].[Прирост ],
                "1",
                "2"        
            )        
        )'        
    member [Measures].[За период прошлый год]        
    as '        
        (
            [Measures].[Значение],
            [Период__Период].[Период__Период].CurrentMember.PrevMember       
        )'        
    member [Measures].[Прирост ]        
    as 'IIF   
        (
            [Measures].[Расчетные показатели],
            IIF  
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Тип строки],
                "1",
                [Measures].[Значение]   
            ) ,
            IIF  
            (
                IsEmpty  
                (
                    [Measures].[За период прошлый год]  
                ),
                null,
                [Measures].[Значение] - [Measures].[За период прошлый год]  
            )  
        )   '    
    member [Measures].[Темп прироста ]        
    as 'IIF   
        (
            [Measures].[Расчетные показатели],
            IIF 
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Тип строки],
                "2",
                [Measures].[Значение] 
            ) ,
            IIF    
            (
                IsEmpty        
                (
                    [Measures].[За период прошлый год]        
                ) or        
                (
                    [Measures].[За период прошлый год]        
                ) = 0,
                null,
                [Measures].[Значение] / [Measures].[За период прошлый год] - 1  
            )   
        )    '    
    member [Measures].[Расчетные показатели]        
    as '        
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Показатель]        
        ) or        
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Тип строки]        
        ) or        
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Единица измерения]       
        ) or        
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Показатель с единицой измерения]       
        )'

    member [Период__Период].[Период__Период].[Аггрегированные периоды]
    as 'Aggregate({[Периоды]})'
select
    {
        {
            [Период__Период].[Период__Период].[Показатель с единицой измерения]  
        } + Filter([Периоды], not IsEmpty([Measures].[Значение])) +        
        {
            [Период__Период].[Период__Период].[Показатель],
            [Период__Период].[Период__Период].[Единица измерения],
            [Период__Период].[Период__Период].[Тип строки]
        }        
    } on columns,
    Filter        
    (
        [Показатели] ,
        not      
        (
            IsEmpty      
            (
                (
                    [Measures].[Значение],
                    [Период__Период].[Период__Период].[Аггрегированные периоды]
                )      
            )      
        )      
    )      
    *        
    {
        [Measures].[Значение],
        [Measures].[Прирост ],
        [Measures].[Темп прироста ]        
    } on rows        
From [ОРГАНИЗАЦИИ_Характеристика деятельности]        
where        
    (
        [Организации__Реестр организаций].[Организации__Реестр организаций].[Все организации].[<%selected_org%>],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ]        
    )                   
  ]]>
  </query>

  <query id="STAT_0023_0003_01_chart">
    <![CDATA[
-- STAT_0023_0003_01_chart
with           
    set [Периоды]          
    as 'Tail          
        (
            [Период__Период].[Период__Период].[Данные всех периодов].[1998] : [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
            5          
        ) '          
    member [Организации__Показатели работы].[Организации__Показатели работы].[Период] 
    as ' [Период__Период].[Период__Период].CurrentMember.UniqueName '
    member [Организации__Показатели работы].[Организации__Показатели работы].[Период ] 
    as ' [Период__Период].[Период__Период].CurrentMember.UniqueName '    
select
    {
        [Организации__Показатели работы].[Организации__Показатели работы].[Период],
        [Организации__Показатели работы].[Организации__Показатели работы].[Период ],
        [Организации__Показатели работы].[Организации__Показатели работы].[Все показатели].[<%selected_grid_indicator%>] 
    } on columns,
    { Filter([Периоды], not IsEmpty([Measures].[Значение])) } on rows  
From [ОРГАНИЗАЦИИ_Характеристика деятельности]          
where          
    (
        [Организации__Реестр организаций].[Организации__Реестр организаций].[Все организации].[<%selected_org%>],
        [Measures].[Значение],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ]  
    )              
  ]]>
  </query>

  <query id="STAT_0023_0003_01_orgDigest">
    <![CDATA[
-- STAT_0023_0003_01_orgDigest
with  
    set [Организации]  
    as 'Filter 
        (
            [Организации__Реестр организаций].[Организации__Реестр организаций].[Все организации].Children,
            [Организации__Реестр организаций].[Организации__Реестр организаций].CurrentMember.Properties("Тип организации") = "Государственные предприятия" 
        )'  
    member [Measures].[Имя]  
    as ' [Организации__Реестр организаций].[Организации__Реестр организаций].CurrentMember.Properties("Краткое наименование организации") '  
    member [Measures].[Уникальное имя]  
    as '[Организации__Реестр организаций].[Организации__Реестр организаций].CurrentMember.Name '  
    member [Measures].[Уровень]  
    as '0'  
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]  
    } on columns,
    { [Организации] }  on rows  
from [ОРГАНИЗАЦИИ_Характеристика деятельности]   
]]>
  </query>

</root>