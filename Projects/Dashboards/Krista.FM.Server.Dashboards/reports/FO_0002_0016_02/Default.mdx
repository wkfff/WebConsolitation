<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0016_02_date">
    <![CDATA[
-- FO_0002_0016_02_date
-- <#[ФО_АС Бюджет_КазнИсп_Факт расхода]#>
select
    {
         [Расходы].[Сопоставимый].[Все].[Департамент финансов  Костромской области].[Межбюджетные трансферты]
    } on columns,
    {
        Tail
        ( 
        Filter 
        (
            Descendants 
            (
                [Период].[Период].[Данные всех периодов],
                [Период].[Период].[День],
                SELF  
            ),
            [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
            [Период].[Период].CurrentMember.Name <> "Данные квартала" and
            [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
            [Период].[Период].CurrentMember.Name <> "Данные года" and
            [Период].[Период].CurrentMember.Name <> "Данные месяца" and
            not IsEmpty([Расходы].[Сопоставимый].[Все].[Департамент финансов  Костромской области].[Межбюджетные трансферты])
        )
        )
    } on rows   
from [ФО_АС Бюджет_КазнИсп_Факт расхода]   
where   
    (
        [Районы].[Сопоставимый].[Все районы],
        [Measures].[Факт расходов] 
    )  
  ]]>
  </query>
  
  <query id="FO_0002_0016_02_grid1_fact">
    <![CDATA[
-- FO_0002_0016_02_grid1_fact
-- <#[ФО_АС Бюджет_КазнИсп_Факт расхода]#>
with       
    set [Муниципальные образования]       
    as 'Filter       
        (
            Descendants       
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Поселения],
                SELF       
            ),
            not       
            (
                [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember       
            ) and       
            (
                [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"       
            )       
        )'
    member [Расходы].[Базовый].[Дотации ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований]'
    member [Расходы].[Базовый].[Субсидии ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)]'
    member [Расходы].[Базовый].[Субвенции ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]'
    member [Расходы].[Базовый].[Иные межбюджетные трансферты ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]'
    set [Расходы]       
    as '            
        {
            [Расходы].[Базовый].[Дотации ],
            [Расходы].[Базовый].[Субвенции ],
            [Расходы].[Базовый].[Субсидии ],
            [Расходы].[Базовый].[Иные межбюджетные трансферты ]
        } '     
    member [Расходы].[Базовый].[ВСЕГО ]
    as 'Aggregate
        (
            {
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты] 
            }
        ) ' 
    member [Measures].[Утверждено на год]       
    as '0'       
    member [Measures].[Профинансировано]       
    as '[Measures].[Факт расходов нараст итог] / 1000'       
    member [Measures].[Остаток финансирования от плана на год]       
    as '[Measures].[Утверждено на год] - [Measures].[Профинансировано]'       
    member [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer]  
    as 'Aggregate  
        (
            {
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Иные межбюджетные трансферты]  
            }  
        )' 
    member [Районы].[Сопоставимый].[Итого] 
    as 'Sum   
        (
            [Муниципальные образования],
            [Measures].CurrentMember  
        )'          
select
    {
        {
            { [Расходы].[Базовый].[ВСЕГО ] } + [Расходы]
        }   
        *       
        {
            [Measures].[Утверждено на год],
            [Measures].[Профинансировано],
            [Measures].[Остаток финансирования от плана на год]       
        }       
    } on columns,
    Filter       
    (
        {[Районы].[Сопоставимый].[Итого]} + [Муниципальные образования],
        not       
        (
            IsEmpty([Measures].[Утверждено на год]) and IsEmpty([Measures].[Профинансировано])      
        )       
    ) on rows       
from [ФО_АС Бюджет_КазнИсп_Факт расхода]       
where       
    (
        [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer],
        <%period_current_date%>
    )       
  ]]>
  </query>

  <query id="FO_0002_0016_02_grid1_plan">
    <![CDATA[
-- FO_0002_0016_02_grid1_plan
-- <#[ФО_АС Бюджет_План расходов]#>
with       
    set [Муниципальные образования]       
    as 'Filter       
        (
            Descendants       
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Поселения],
                SELF       
            ),
            not       
            (
                [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember       
            ) and       
            (
                [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"       
            )       
        )'
    member [Расходы].[Базовый].[Дотации ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований]'
    member [Расходы].[Базовый].[Субсидии ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)]'
    member [Расходы].[Базовый].[Субвенции ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]'
    member [Расходы].[Базовый].[Иные межбюджетные трансферты ]
    as '[Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]'
    set [Расходы]       
    as '            
        {
            [Расходы].[Базовый].[Дотации ],
            [Расходы].[Базовый].[Субвенции ],
            [Расходы].[Базовый].[Субсидии ],
            [Расходы].[Базовый].[Иные межбюджетные трансферты ]
        } '     
    member [Расходы].[Базовый].[ВСЕГО ]
    as 'Aggregate
        (
            {
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты] 
            }
        ) ' 
    member [Measures].[Утверждено на год]       
    as '[Measures].[Ассигнования] / 1000'
    member [Measures].[Профинансировано]       
    as '0'
    member [Measures].[Остаток финансирования от плана на год]       
    as '[Measures].[Утверждено на год] - [Measures].[Профинансировано]'       
    member [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer]  
    as 'Aggregate  
        (
            {
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Иные межбюджетные трансферты]  
            }  
        )' 
    member [Районы].[Сопоставимый].[Итого] 
    as 'Sum   
        (
            [Муниципальные образования],
            [Measures].CurrentMember  
        )'        
select
    {
        {
            { [Расходы].[Базовый].[ВСЕГО ] } + [Расходы]
        }   
        *       
        {
            [Measures].[Утверждено на год],
            [Measures].[Профинансировано],
            [Measures].[Остаток финансирования от плана на год]       
        }       
    } on columns,
    Filter       
    (
        {[Районы].[Сопоставимый].[Итого]} + [Муниципальные образования],
        not       
        (
            IsEmpty([Measures].[Утверждено на год]) and IsEmpty([Measures].[Профинансировано])      
        )       
    ) on rows       
from  [ФО_АС Бюджет_План расходов]      
where       
    (
        [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer],
        [Период].[Период].[Данные всех периодов].[<%current_year%>],
        [Период].[Дата принятия].[Данные всех периодов].[<%current_year%>]
    )       
  ]]>
  </query>

  <query id="FO_0002_0016_02_grid2_fact">
    <![CDATA[
-- FO_0002_0016_02_grid2_fact
-- <#[ФО_АС Бюджет_КазнИсп_Факт расхода]#>
with        
    set [Муниципальные образования]       
    as 'Filter       
        (
            Descendants       
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Поселения],
                SELF       
            ),
            not       
            (
                [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember       
            ) and       
            (
                [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"       
            )       
        )'
    set [Расходы]             
    as 'Filter 
        (
            Generate   
            (
                {
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]  
                },
                {
                    [Расходы].[Базовый].CurrentMember  
                } + Generate   
                (
                    Descendants   
                    (
                        [Расходы].[Базовый].CurrentMember,
                        [Расходы].[Базовый].[Расходы уровень 4],
                        SELF   
                    ),
                    {
                        [Расходы].[Базовый].CurrentMember  
                    } + Descendants   
                    (
                        [Расходы].[Базовый].CurrentMember,
                        [Расходы].[Базовый].[Расходы уровень 5],
                        SELF   
                    )   
                )   
            ),
            not   
            (
                [Расходы].[Базовый].CurrentMember is [Расходы].[Сопоставимый].CurrentMember.Parent.DataMember  
            )   
        ) '   
    member [Расходы].[Базовый].[ВСЕГО ]      
    as 'Aggregate      
        (
            {
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]       
            }      
        ) '       
    member [Measures].[Утверждено на год]             
    as '0'
    member [Measures].[Профинансировано]             
    as '[Measures].[Факт расходов нараст итог] / 1000'
    member [Measures].[Остаток финансирования от плана на год]             
    as '[Measures].[Утверждено на год] - [Measures].[Профинансировано]'             
    member [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer]        
    as 'Aggregate        
        (
            {
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Иные межбюджетные трансферты]        
            }        
        )'
    Member [Measures].[Уровень]
    as '[Расходы].[Базовый].CurrentMember.Level.Name'
    member [Районы].[Сопоставимый].[Итого ] 
    as 'Sum   
        (
            [Муниципальные образования],
            [Measures].CurrentMember  
        )'    
select
    {
        [Measures].[Утверждено на год],
        [Measures].[Профинансировано],
        [Measures].[Остаток финансирования от плана на год],
        [Measures].[Уровень]
    } on columns,
    {
        { [Расходы].[Базовый].[ВСЕГО ] } + [Расходы]     
    } on rows 
from   [ФО_АС Бюджет_КазнИсп_Факт расхода]          
where             
    (
        [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer],
        <%period_current_date%>,
        [Районы].[Сопоставимый].[<%selected_region%>]
    )             
  ]]>
  </query>

  <query id="FO_0002_0016_02_grid2_plan">
    <![CDATA[
-- FO_0002_0016_02_grid2_plan
-- <#[ФО_АС Бюджет_План расходов]#>
with     
    set [Муниципальные образования]       
    as 'Filter       
        (
            Descendants       
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Поселения],
                SELF       
            ),
            not       
            (
                [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember       
            ) and       
            (
                [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"       
            )       
        )'
    set [Расходы]             
    as 'Filter 
        (
            Generate   
            (
                {
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                    [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]  
                },
                {
                    [Расходы].[Базовый].CurrentMember  
                } + Generate   
                (
                    Descendants   
                    (
                        [Расходы].[Базовый].CurrentMember,
                        [Расходы].[Базовый].[Расходы уровень 4],
                        SELF   
                    ),
                    {
                        [Расходы].[Базовый].CurrentMember  
                    } + Descendants   
                    (
                        [Расходы].[Базовый].CurrentMember,
                        [Расходы].[Базовый].[Расходы уровень 5],
                        SELF   
                    )   
                )   
            ),
            not   
            (
                [Расходы].[Базовый].CurrentMember is [Расходы].[Сопоставимый].CurrentMember.Parent.DataMember  
            )   
        ) '   
    member [Расходы].[Базовый].[ВСЕГО ]      
    as 'Aggregate      
        (
            {
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [Расходы].[Базовый].[Все].[Межбюджетные трансферты].[Иные межбюджетные трансферты]       
            }      
        ) '       
    member [Measures].[Утверждено на год]             
    as '[Measures].[Ассигнования] / 1000'      
    member [Measures].[Профинансировано]             
    as '0'      
    member [Measures].[Остаток финансирования от плана на год]             
    as '[Measures].[Утверждено на год] - [Measures].[Профинансировано]'             
    member [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer]        
    as 'Aggregate        
        (
            {
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ].[Иные межбюджетные трансферты]        
            }        
        )'
    Member [Measures].[Уровень]
    as '[Расходы].[Базовый].CurrentMember.Level.Name'
    member [Районы].[Сопоставимый].[Итого ] 
    as 'Sum   
        (
            [Муниципальные образования],
            [Measures].CurrentMember  
        )' 
select
    {
        [Measures].[Утверждено на год],
        [Measures].[Профинансировано],
        [Measures].[Остаток финансирования от плана на год],
        [Measures].[Уровень]
    } on columns,
    {
        { [Расходы].[Базовый].[ВСЕГО ] } + [Расходы]     
    } on rows 
from  [ФО_АС Бюджет_План расходов]            
where             
    (
        [РзПр].[Сопоставимый].[Все коды ФКР].[FKRSlicer],
        [Период].[Период].[Данные всех периодов].[<%current_year%>],
        [Период].[Дата принятия].[Данные всех периодов].[<%current_year%>],
        [Районы].[Сопоставимый].[<%selected_region%>] 
    )             
  ]]>
  </query>

</root>