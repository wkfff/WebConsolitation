<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FK_0001_0006_date">
    <![CDATA[
-- FK_0001_0006_credit_date 
-- <#[ФК_МесОтч_Источники финансирования]#>
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Исполнено]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from [ФК_МесОтч_Источники финансирования]
  ]]>
  </query>

  <query id="FK_0001_0006_grid">
    <![CDATA[
-- FK_0001_0006_credit_grid    
-- <#[ФК_МесОтч_Источники финансирования]#>
with member Measures.[Баланс] as '
([КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Получение кредитов от кредитных организаций в валюте Российской Федерации], [Measures].[Исполнено]) +
([КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Погашение кредитов, предоставленных кредитными организациями в валюте Российской Федерации], [Measures].[Исполнено])'
  member Measures.[Год]   
  as ' [Период].[Период].CurrentMember.Parent.Parent.Parent.Name' 
-- Уровни бюджета
    member [Уровни бюджета].[СКИФ].[Консолидированный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Собственный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Местные бюджеты]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет МО]'
    
    member [Уровни бюджета].[СКИФ].[Городские округа]
    as '[Уровни бюджета].[СКИФ].[Бюджет гор.округа]'

    member [Уровни бюджета].[СКИФ].[Муниципальные районы]
    as 'Aggregate
        (
            {
                [Уровни бюджета].[СКИФ].[Бюджет района],
                [Уровни бюджета].[СКИФ].[Бюджет поселения]
            }
        )'

    member [Уровни бюджета].[СКИФ].[Собственные бюджеты районов]
    as '[Уровни бюджета].[СКИФ].[Бюджет района]'
    
    member [Уровни бюджета].[СКИФ].[Городские и сельские поселения]
    as '[Уровни бюджета].[СКИФ].[Бюджет поселения]'
--   
SELECT
    {
        {
            [КИФ].[Сопоставимый].[Все источники финансирования] 
        }
        *{Measures.[Год]}+ 
        {
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Получение кредитов от кредитных организаций в валюте Российской Федерации],
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Погашение кредитов, предоставленных кредитными организациями в валюте Российской Федерации]    
        }    
        *    
        {
            [Measures].[Исполнено за период],
            [Measures].[Исполнено],
            [Measures].[Назначено],
            [Measures].[Процент выполнения назначений],
            [Measures].[Темп роста к аналогичному периоду предыдущего года_Исполнено]    
        } +    
        {
            [КИФ].[Сопоставимый].[Все источники финансирования].[Несопоставленные данные]
        }   
        *{Measures.[Баланс]}   
    } on columns,
    NON EMPTY Filter
    (
        Descendants 
        (
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
            [Период].[Период].[Месяц],
            SELF_AND_AFTER 
        ) + Descendants 
        (
            [Период].[Период].[Данные всех периодов].[<%period_year%>],
            [Период].[Период].[Месяц],
            SELF_AND_AFTER 
        ),
          [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
          [Период].[Период].CurrentMember.Name <> "Данные квартала" and
          [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
          [Период].[Период].CurrentMember.Name <> "Данные года" and
          [Период].[Период].CurrentMember.Name <> "Данные месяца" and
          ([Measures].[Исполнено] + [Measures].[Исполнено] + [Measures].[Назначено]) <> 0 
    ) on rows 
FROM [ФК_МесОтч_Источники финансирования] 
WHERE 
    (
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>],
        [Уровни бюджета].[СКИФ].[<%skif_level%>]
    ) 
  ]]>
</query>

<query id="FK_0001_0006_chart1">
<![CDATA[
-- FK_0001_0006_credit_chart1  
-- <#[ФК_МесОтч_Источники финансирования]#>
with
    Member [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение (факт)] 
    as '
        (
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Получение кредитов от кредитных организаций в валюте Российской Федерации],
            [Measures].[Исполнено]
        )'  
    Member [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение (факт)] 
    as '
        (
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Погашение кредитов, предоставленных кредитными организациями в валюте Российской Федерации],
            [Measures].[Исполнено]
        )'  
    Member [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение (план)]
    as '
        (
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Получение кредитов от кредитных организаций в валюте Российской Федерации],
            [Measures].[Назначено]
        )'
    Member [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение (план)]
    as '
        (
            [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Погашение кредитов, предоставленных кредитными организациями в валюте Российской Федерации],
            [Measures].[Назначено]
        )'
-- Уровни бюджета
    member [Уровни бюджета].[СКИФ].[Консолидированный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Собственный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Местные бюджеты]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет МО]'
    
    member [Уровни бюджета].[СКИФ].[Городские округа]
    as '[Уровни бюджета].[СКИФ].[Бюджет гор.округа]'

    member [Уровни бюджета].[СКИФ].[Муниципальные районы]
    as 'Aggregate
        (
            {
                [Уровни бюджета].[СКИФ].[Бюджет района],
                [Уровни бюджета].[СКИФ].[Бюджет поселения]
            }
        )'

    member [Уровни бюджета].[СКИФ].[Собственные бюджеты районов]
    as '[Уровни бюджета].[СКИФ].[Бюджет района]'
    
    member [Уровни бюджета].[СКИФ].[Городские и сельские поселения]
    as '[Уровни бюджета].[СКИФ].[Бюджет поселения]'
--         
SELECT
    {
        [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение (план)],
        [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение (план)],
        [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение (факт)],
        [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение (факт)]

    } on columns,
    NON EMPTY Filter  
    (
        Descendants  
        (
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
            [Период].[Период].[Месяц],
            SELF_AND_AFTER  
        ) + Descendants  
        (
            [Период].[Период].[Данные всех периодов].[<%period_year%>],
            [Период].[Период].[Месяц],
            SELF_AND_AFTER  
        ),
          [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
          [Период].[Период].CurrentMember.Name <> "Данные квартала" and
          [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
          [Период].[Период].CurrentMember.Name <> "Данные года" and
          [Период].[Период].CurrentMember.Name <> "Данные месяца" and
          (
              [Measures].[Исполнено] <> 0
          )
    ) on rows  
FROM [ФК_МесОтч_Источники финансирования]  
WHERE  
    (
       [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>],
       [Уровни бюджета].[СКИФ].[<%skif_level%>]
    ) 
  ]]>
     </query>

     <query id="FK_0001_0006_chart2">
       <![CDATA[
-- FK_0001_0006_credit_chart2
-- <#[ФК_МесОтч_Источники финансирования]#>
with 
 Member [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение кредитов]
 as '[КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Получение кредитов от кредитных организаций в валюте Российской Федерации]'
 
 Member [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение кредитов]
 as '[КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Кредиты кредитных организаций в валюте Российской Федерации].[Погашение кредитов, предоставленных кредитными организациями в валюте Российской Федерации]'
-- Уровни бюджета
    member [Уровни бюджета].[СКИФ].[Консолидированный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Собственный бюджет субъекта]
    as '[Уровни бюджета].[СКИФ].[Бюджет субъекта]'
    
    member [Уровни бюджета].[СКИФ].[Местные бюджеты]
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет МО]'
    
    member [Уровни бюджета].[СКИФ].[Городские округа]
    as '[Уровни бюджета].[СКИФ].[Бюджет гор.округа]'

    member [Уровни бюджета].[СКИФ].[Муниципальные районы]
    as 'Aggregate
        (
            {
                [Уровни бюджета].[СКИФ].[Бюджет района],
                [Уровни бюджета].[СКИФ].[Бюджет поселения]
            }
        )'

    member [Уровни бюджета].[СКИФ].[Собственные бюджеты районов]
    as '[Уровни бюджета].[СКИФ].[Бюджет района]'
    
    member [Уровни бюджета].[СКИФ].[Городские и сельские поселения]
    as '[Уровни бюджета].[СКИФ].[Бюджет поселения]'
-- 
SELECT
    {
        [КИФ].[Сопоставимый].[Все источники финансирования].[Привлечение кредитов],
        [КИФ].[Сопоставимый].[Все источники финансирования].[Погашение кредитов]
    } on columns,
    {
        ([Measures].[Исполнено], Ancestor([Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>], [Период].[Период].[Год]).PrevMember),
        ([Measures].[Назначено], [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]),
        ([Measures].[Исполнено прошлый год], [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]),
        ([Measures].[Исполнено], [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]),
        ([Measures].[Исполнено прошлый год], [Период].[Период].[Данные всех периодов].[<%period_year%>]),
        ([Measures].[Исполнено], [Период].[Период].[Данные всех периодов].[<%period_year%>])
    } on rows
FROM [ФК_МесОтч_Источники финансирования]
WHERE
    (
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>],
        [Уровни бюджета].[СКИФ].[<%skif_level%>]
    )
  ]]>
  </query>

</root>