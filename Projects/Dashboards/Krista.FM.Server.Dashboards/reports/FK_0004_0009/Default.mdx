<?xml version="1.0" encoding="Windows-1251"?>
<root>
<query id="FK_0004_0009_lastDate">
<![CDATA[
-- FK_0004_0009_lastDate
with  
    set [Месяцы с данными]  
    as 'tail  
        (
            filter  
            (
                [Период].[Период].[День].Members,
                not IsEmpty  
                (
                    [Measures].[Доведенные ЛБО на год]
                )  
            ),
            1  
        )'  
    member [Measures].[Месяц]  
    as '[Период].[Период].CurrentMember.UniqueName'  
select
    {[Measures].[Месяц]} on columns,
    {[Месяцы с данными]} on rows  
from  [ФК_Госпрограммы]
]]>
</query>

<query id="FK_0004_0006_names">
<![CDATA[
-- FK_0004_0006_names
with  
      
    member [Measures].[Уникальное имя ]
    as '[Показатели].[Остатки средств].CurrentMember.Properties("Краткое наименование")'  
    set [Выбранные показатели]  
    as '{
    [Показатели].[Остатки средств].[Все показатели].[1000_Остатки средств федерального бюджета на ЕКС],
    [Показатели].[Остатки средств].[Все показатели].[2000_Средства ФБ, размещенные на депозиты],
    [Показатели].[Остатки средств].[Все показатели].[3000_Резервный Фонд (совокупный объем), в рублях],
    [Показатели].[Остатки средств].[Все показатели].[4000_в долларовом эквиваленте],
    [Показатели].[Остатки средств].[Все показатели].[3001_Остаток на счете в рублях в Банке России],
    [Показатели].[Остатки средств].[Все показатели].[3002_Остаток на счетах в иностранных валютах в Банке России],
    [Показатели].[Остатки средств].[Все показатели].[3003_Иные финансовые активы (долговые обязательства МВФ)],
    [Показатели].[Остатки средств].[Все показатели].[3004_направлено на финансирование дефицита федерального бюджета],
    [Показатели].[Остатки средств].[Все показатели].[3005_курсовая разница],
    [Показатели].[Остатки средств].[Все показатели].[3006_расчетная сумма процентного дохода],
    [Показатели].[Остатки средств].[Все показатели].[3007_уплаченная сумма процентного дохода],
    [Показатели].[Остатки средств].[Все показатели].[5000_ФНБ (совокупный объем), в рублях],
    [Показатели].[Остатки средств].[Все показатели].[6000_в долларовом эквиваленте],
    [Показатели].[Остатки средств].[Все показатели].[5001_Остаток на счете в рублях в Банке России],
    [Показатели].[Остатки средств].[Все показатели].[5002_Остаток на счетах в иностранных валютах в Банке России],
    [Показатели].[Остатки средств].[Все показатели].[5003_Иные финансовые активы (долговые обязательства ВЭБа)],
    [Показатели].[Остатки средств].[Все показатели].[5004_направлено на софинансирование добровольных пенсионных накоплений граждан],
    [Показатели].[Остатки средств].[Все показатели].[5005_курсовая разница],
    [Показатели].[Остатки средств].[Все показатели].[5006_расчетная сумма процентного дохода],
    [Показатели].[Остатки средств].[Все показатели].[5007_уплаченная сумма процентного дохода],
    [Показатели].[Остатки средств].[Все показатели].[7000_Остатки на других счетах Казначейства России],
    [Показатели].[Остатки средств].[Все показатели].[7001_Средства для выплаты наличных денег ПБС (40116)],
    [Показатели].[Остатки средств].[Все показатели].[7002_Средства бюджетов субъектов Российской Федерации (40201)],
    [Показатели].[Остатки средств].[Все показатели].[7003_Средства местных бюджетов  (40204)],
    [Показатели].[Остатки средств].[Все показатели].[7004_Средства, поступающие во времен. распоряжение бюдж. учреждений (40302)],
    [Показатели].[Остатки средств].[Все показатели].[7005_Счета организаций, находящихся в фед. собственности. финансовые орг-ции (40501)],
    [Показатели].[Остатки средств].[Все показатели].[7006_Счета организаций, находящихся в фед. собственности. некоммер. орг-ции (40503)],
    [Показатели].[Остатки средств].[Все показатели].[7007_Счета организаций, находящихся в госуд. (кроме фед.) собственности. некоммер. орг-ции (40603)],
    [Показатели].[Остатки средств].[Все показатели].[7008_Счета негосуд. организаций. некоммер. организации (40703)]
} '  
select
    {
        [Measures].[Уникальное имя ]
    } on columns,
    {  [Выбранные показатели] } on rows  
From [ФК_Остатки средств бюджета]  
  ]]>
    </query>


<query id="Prog_0002_0001_info">
<![CDATA[ 
-- Prog_0002_0001_info
with 
    member [Measures].[Доведенные ЛБО ]  
    as '  
        (
            [Measures].[Доведенные ЛБО на год]  
        ) / 1000000'  
    member [Measures].[Доведенные ЛБО, % ]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Measures].[Уточненная роспись ]  
            ) or  
            (
                [Measures].[Уточненная роспись ]  
            )= 0,
            null,
            (
               [Measures].[Доведенные ЛБО ]  / [Measures].[Уточненная роспись ]  
            )  
        )*100'  
    member [Measures].[Распределенные ЛБО ]  
    as '  
        (
            [Measures].[Распределенные ЛБО на год]  
        )/1000000 '  
    member [Measures].[Распределенные ЛБО, % ]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Measures].[Уточненная роспись ]  
            ) or  
            (
                [Measures].[Уточненная роспись ]  
            ) = 0,
            null,
            (
               [Measures].[Распределенные ЛБО ]  / [Measures].[Уточненная роспись ]  
            )  
        )*100'  
    member [Measures].[Кассовое исполнение ]  
    as '  
        (
            [Measures].[Кассовое исполнение]  
        )/ 1000000'  
    member [Measures].[Кассовое исполнение, % ]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Measures].[Уточненная роспись ]  
            ) or  
            (
                [Measures].[Уточненная роспись ]  
            ) = 0,
            null,
            (
               [Measures].[Кассовое исполнение ]  / [Measures].[Уточненная роспись ]  
            )  
        )*100'  
    member [Measures].[Уточненная роспись ]  
    as '  
        (
            [Measures].[Уточненная роспись]  
        )/ 1000000'  
select
    {
        [Measures].[Доведенные ЛБО ],
        [Measures].[Доведенные ЛБО, % ],
        [Measures].[Распределенные ЛБО ],
        [Measures].[Распределенные ЛБО, % ],
        [Measures].[Кассовое исполнение ],
        [Measures].[Кассовое исполнение, % ],
        [Measures].[Уточненная роспись ]     
    } on columns     
from [ФК_Госпрограммы] 
where     
    (
        [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам и непрограммам],
        [РзПр].[Сопоставимый].[Все коды ФКР].[Несопоставленные данные] ,
        [КЦСР].[Сопоставимый].[Все целевые статьи расходов].[Не указанный код КЦСР] ,
        [Администратор].[Сопоставим].[Все администраторы].[Не определено -- 888],
         <%selected_period%>
    )
    ]]>
    </query>

<query id="Prog_0002_0001_grid">
<![CDATA[ 
-- Prog_0002_0001_grid
    with                   
   member measures.[Код]
    as 'IIF
        (
            [Показатели].[Госпрограммы].CurrentMember.Properties("Уровень вложения показателя") = "3",
            [Показатели].[Госпрограммы].CurrentMember.Properties("Номер Госпрограммы"),
            "0"
        )'     
	 member measures.[Порядковый номер ]   
    as 'StrToValue 
        (
            [Показатели].[Госпрограммы].CurrentMember.Properties("Порядковый номер") 
        )
        *(-1)'
    member measures.[Имя]                   
    as ' [Показатели].[Госпрограммы].CurrentMember.Properties("Краткое название")'
    member measures.[Уровень] 
    as ' [Показатели].[Госпрограммы].CurrentMember.Properties("Уровень вложения показателя")'
    set [Показатели]                   
    as 'filter                   
        (
            Descendants                   
            (
                [Показатели].[Госпрограммы].[Все показатели],
                [Показатели].[Госпрограммы].[Показатель],
                self                   
            ),
            not isEmpty                   
            (
                [Measures].[Уточненная роспись]                   
            )  and not                   
            (
                [Показатели].[Госпрограммы].CurrentMember is [Показатели].[Госпрограммы].CurrentMember.Parent.DataMember     
            )                   
        )- {
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам и непрограммам],
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам],
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным непрограммам]
        }'       
    member [Measures].[Доведенные ЛБО ]         
    as '            
        (
            [Measures].[Доведенные ЛБО на год]  
        ) / 1000000'         
    member [Measures].[Доведенные ЛБО, % ]        
    as 'IIF                   
        (
            IsEmpty                   
            (
                [Measures].[Уточненная роспись ]                   
            ) or                   
            (
                [Measures].[Уточненная роспись ]                   
            )= 0,
            null,
            (
               [Measures].[Доведенные ЛБО ]  / [Measures].[Уточненная роспись ] 
            )                   
        )*100'            
    member [Measures].[Распределенные ЛБО ]            
    as '            
        (
            [Measures].[Распределенные ЛБО на год] 
        )/1000000 '           
    member [Measures].[Распределенные ЛБО, % ]            
    as 'IIF                
        (
            IsEmpty                
            (
                [Measures].[Уточненная роспись ]               
            ) or                
            (
                [Measures].[Уточненная роспись ]               
            ) = 0,
            null,
            (
               [Measures].[Распределенные ЛБО ]  / [Measures].[Уточненная роспись ] 
            )                 
        )*100'            
    member [Measures].[Кассовое исполнение ]                   
    as '  
        (
            [Measures].[Кассовое исполнение]  
        )/ 1000000'   
    member [Measures].[Кассовое исполнение, % ]               
    as 'IIF              
        (
            IsEmpty             
            (
                [Measures].[Уточненная роспись ]            
            ) or             
            (
                [Measures].[Уточненная роспись ]            
            ) = 0,
            null,
            (
               [Measures].[Кассовое исполнение ]  / [Measures].[Уточненная роспись ]             
            )              
        )*100'            
    member [Measures].[Уточненная роспись ]                   
    as '   
        (
            [Measures].[Уточненная роспись]  
        )/ 1000000'    
select
    {
        [measures].[Код],
        [measures].[Имя],
        [Measures].[Уточненная роспись ],
        [Measures].[Доведенные ЛБО ],
        [Measures].[Доведенные ЛБО, % ],
        [Measures].[Распределенные ЛБО ],
        [Measures].[Распределенные ЛБО, % ],
        [Measures].[Кассовое исполнение ],
        [Measures].[Кассовое исполнение, % ],
        measures.[Уровень]                   
    } on columns,
    Order 
	(
	 { 
	   {
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам и непрограммам],
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам],
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным непрограммам]
       }
	   +[Показатели]
     } ,
	 [Порядковый номер ],
	 DESC
   )on rows                   
from  [ФК_Госпрограммы]                   
WHERE                   
    (
        [РзПр].[Сопоставимый].[Все коды ФКР].[Несопоставленные данные] ,
        [КЦСР].[Сопоставимый].[Все целевые статьи расходов].[Не указанный код КЦСР] ,
        [Администратор].[Сопоставим].[Все администраторы].[Не определено -- 888],
        <%selected_period%>
    )
    ]]>
    </query>

<query id="Prog_0002_0001_top">
<![CDATA[ 
-- Prog_0002_0001_top
  with   
    member measures.[Код]  
    as '[Показатели].[Госпрограммы].CurrentMember.Properties("Номер Госпрограммы")'  
    member measures.[Имя]   
    as '[Показатели].[Госпрограммы].CurrentMember.Properties("Краткое название")'  
    member measures.[Уровень]   
    as '[Показатели].[Госпрограммы].CurrentMember.Level.Name'  
    set [Показатели]  
    as 'filter  
        (
            Descendants  
            (
                [Показатели].[Госпрограммы].[Все показатели],
                [Показатели].[Госпрограммы].[Показатель],
                self  
            ),
            not isEmpty  
            (
                [Measures].[Уточненная роспись]  
            )  and not  
            (
                [Показатели].[Госпрограммы].CurrentMember is [Показатели].[Госпрограммы].CurrentMember.Parent.DataMember  
            )  
        ) -  
        {
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам и непрограммам]  
        } -  
        {
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным программам]  
        }-  
        {
            [Показатели].[Госпрограммы].[Все показатели].[Всего по государственным непрограммам]  
        }'  
    set [Исполнение топ ]   
    as 'TopCount   
        (
            [Показатели],
            5,
            [Measures].[Кассовое исполнение, % ]  
        )'   
    set [Исполнение боттом ]   
    as 'BottomCount   
        (
            [Показатели],
            5,
            [Measures].[Кассовое исполнение, % ]  
        )'   
    member [Measures].[Кассовое исполнение ]  
    as '  
        (
            [Measures].[Кассовое исполнение]  
        )/ 1000000'  
    member [Measures].[Кассовое исполнение, % ]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Measures].[Уточненная роспись ]  
            ) or  
            (
                [Measures].[Уточненная роспись ]  
            ) = 0,
            null,
            (
                [Measures].[Кассовое исполнение ] / [Measures].[Уточненная роспись ]
            )  
        )*100'
    member [Measures].[Уточненная роспись ]  
    as '  
        (
            [Measures].[Уточненная роспись]  
        )/ 1000000'  
select
    {
        measures.[Имя],
        [Measures].[Кассовое исполнение, % ]  
    } on columns,
    {
        [Исполнение боттом ],
        [Исполнение топ ]    
    } on rows   
from  [ФК_Госпрограммы]  
where   
    (
        <%selected_period%>,
        [РзПр].[Сопоставимый].[Все коды ФКР].[Несопоставленные данные] ,
        [КЦСР].[Сопоставимый].[Все целевые статьи расходов].[Не указанный код КЦСР] ,
        [Администратор].[Сопоставим].[Все администраторы].[Не определено -- 888]  
    )   
    ]]>
    </query>
</root>