<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="UFK_0001_0002_date">
    <![CDATA[
-- UFK_0001_0002_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период__Период].[Период__Период].Members,
                not IsEmpty([Measures].[С начала года])
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [УФК_Форма 16]
  ]]>
  </query>

  <query id="UFK_0001_0002_compare_grid">
    <![CDATA[
-- UFK_0001_0002_compare_grid1      
WITH      
    SET [КД ]      
    as '      
        {
            Filter      
            (
                Descendants      
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов],
                    [КД__Сопоставимый].[КД__Сопоставимый].[Статья],
                    SELF_AND_BEFORE      
                )  ,
                not      
                (
                    [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember is [КД__Сопоставимый].[КД__Сопоставимый].CurrentMember.Parent.DataMember      
                )   AND NOT ISEMPTY (  [Measures].[Текущий год ] )      
            )  -  [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[Несопоставленные данные]      
        }'      
    member [Measures].[Код]      
    as '[КД__Сопоставимый].[КД__Сопоставимый].CurrentMember.Properties("Код")'       
    member [Measures].[Прошл. год]      
    as '      
        (
            [Период__Период].[Период__Период].[Данные всех периодов].[<%predYear%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>],
            [Measures].[С начала года]
        )/1000'      
    member [Measures].[Текущий год ]      
    as '      
        (
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>],
            [Measures].[С начала года]      
        )/1000'        
    member [Measures].[Темп роста Текущий год]      
    as 'IIF     
        (
            [Measures].[Прошл. год] = 0,
            null,
            [Measures].[Текущий год ]/[Measures].[Прошл. год]     
        )'      
    member [Measures].[Уровень]      
    as '[КД__Сопоставимый].[КД__Сопоставимый].CurrentMember.Level.Name'   
    member [Уровни бюджетов].[Все].[Другие ]   
    as 'Aggregate  
        (
            {
                [Уровни бюджетов].[Все].[Все уровни].[УФК Смоленск],
                [Уровни бюджетов].[Все].[Все уровни].[Бюджет Тюменской обл.]   
            }  
        )'
SELECT
    non empty { [КД ] } on rows,
    {
        {
            [Уровни бюджетов].[Все]  
        }   
        *{[Measures].[Код]},
        {
            [Уровни бюджетов].[Все]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все].[Все уровни].[Фед.бюджет]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все].[Все уровни].[Конс.бюджет субъекта].[Бюджет субъекта]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все].[Все уровни].[Конс.бюджет субъекта].[Конс.бюджет МО]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все].[Все уровни].[Внебюдж.фонды]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все].[Другие ]  
        }   
        *   
        {
            [Measures].[Прошл. год],
            [Measures].[Текущий год ],
            [Measures].[Темп роста Текущий год]   
        },
        {
            [Уровни бюджетов].[Все]  
        }   
        *[Measures].[Уровень]   
    } on columns      
FROM  [УФК_Форма 16]      
WHERE
    (   <%selected_region%>,
        [УФК Показатели формы 16].[Все показатели].[Перечислено поступлений] [Уровни бюджетов].[Уровни бюджетов].[Все]
    )
  ]]>
  </query>
  
</root>