<?xml version="1.0" encoding="Windows-1251"?>
<root>

    <query id="FO_0007_0003_rests_date">
        <![CDATA[
-- FO_0007_0003_rests_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                [Период].[Период].[Месяц].Members,
                not IsEmpty([Measures].[Факт]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
     { [NonEmptySet] } on rows 
from  [ФО_МесОтч_СпрВнутрДолг]
  ]]>
    </query>
    
<query id="ChartOutcomesAll">
<![CDATA[
-- fo_0035_0001_data
WITH 
    member [Показатели].[СопМесОСпВнтД].[Государственные ценные бумаги ] 
    as ' [Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[эмиссионные ценные бумаги, указанные в валюте Российской Федерации]' 
    member [Показатели].[СопМесОСпВнтД].[Бюджетные кредиты, привлеченные в бюджет  от других бюджетов бюджетной системы РФ] 
    as '[Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[бюджетные кредиты, полученные от других бюджетов бюджетной системы Российской Федерации, всего]' 
    member [Показатели].[СопМесОСпВнтД].[Государственные гарантии ] 
    as '[Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[государственные гарантии субъекта Российской Федерации]' 
    member [Показатели].[СопМесОСпВнтД].[Кредиты, полученные  от кредитных организаций] 
    as '[Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[кредиты, полученные в валюте Российской Федерации от кредитных организаций]' 
     member [Показатели].[СопМесОСпВнтД].[Иные непогашенные долговые обязательства ]
    as '[Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[иные долговые обязательства в валюте Российской Федерации]'
    member [Показатели].[СопМесОСпВнтД].[Год]
    as 'StrToValue([Период].[Период].CurrentMember.Parent.Parent.Parent.Name) * 1000'
    SET [Показатели] 
    as ' 
        {[Показатели].[СопМесОСпВнтД].[Государственные ценные бумаги ], 
        [Показатели].[СопМесОСпВнтД].[Кредиты, полученные  от кредитных организаций],
               [Показатели].[СопМесОСпВнтД].[Бюджетные кредиты, привлеченные в бюджет  от других бюджетов бюджетной системы РФ],  
                 [Показатели].[СопМесОСпВнтД].[Государственные гарантии ], 
               [Показатели].[СопМесОСпВнтД].[Иные непогашенные долговые обязательства ],
                          
            [Показатели].[СопМесОСпВнтД].[Год]
        } ' 
    SET [NonFilterColumnSet] 
    AS ' filter
        (
            [Период].[Период].[Данные всех периодов].[2008] : [Период].[Период].[Данные всех периодов].[2020],
            not
            (
                [Период].[Период].CurrentMember is [Период].[Период].CurrentMember.Parent.DataMember
            ) and
            (
                [Период].[Период].CurrentMember.Properties("PKID") <= ParallelPeriod([Период].[Период].[Год], 1, <%period_cur_date%>).Properties("PKID")
            )
            and
            (
                [Период].[Период].CurrentMember.Properties("PKID") >= ParallelPeriod([Период].[Период].[Год], 7, <%period_cur_date%>).Properties("PKID")
            )
        ) + filter
        (
            Descendants
            (
                [Период].[Период].[Данные всех периодов] ,
                [Период].[Период].[Месяц] ,
                SELF
            ),
            not
            (
                [Период].[Период].CurrentMember is [Период].[Период].CurrentMember.Parent.DataMember
            )   and
            (
                [Период].[Период].CurrentMember.Properties("PKID") >=  <%period_cur_date%>.Parent.Parent.Parent.Properties("PKID")
            )   and
            (
                [Период].[Период].CurrentMember.Properties("PKID") <= <%period_cur_date%>.Properties("PKID")
            )
        )' 
    member [Measures].[Факт ]  
    as 'IIF ( isEmpty ([Measures].[Факт]), 0, [Measures].[Факт]  / 1000)'  
    member [Measures].[Год ]    
    as '[Период].[Период].CurrentMember.Parent.Parent.Parent.Name' 
SELECT
    { [Показатели] } ON COLUMNS ,
    {[NonFilterColumnSet]} ON ROWS      
FROM  [ФО_МесОтч_СпрВнутрДолг]  
WHERE          
    (
        [Measures].[Факт ],
        [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов] ,
        [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта]          
    )          
  ]]>
  </query>
</root>