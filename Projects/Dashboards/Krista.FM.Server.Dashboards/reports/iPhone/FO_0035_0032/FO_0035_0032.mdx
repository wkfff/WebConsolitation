<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0032_date_incomes">
    <![CDATA[
-- FO_0035_0032_date_incomes
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF 
                ),
                not IsEmpty ( ( [Measures].[Поступило за день]) ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from    [ФО_Поступления в бюджет] 
  ]]>
</query>

<query id="FO_0035_0032_date_outcomes">
    <![CDATA[
-- FO_0035_0032_date_outcomes
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF 
                ),
                not IsEmpty ( ( [Measures].[Исполнено за день]) ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from  [ФО_Предельные объемы финансирования]
  ]]>
</query>

<query id="FO_0035_0032_date_outcomes_last_year">
    <![CDATA[
-- FO_0035_0032_date_outcomes_last_year
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                (
                    [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <= [Период__Период].[Период__Период].[Данные всех периодов]<%period_last_year%>.Properties("PKID")
                ) and
                not IsEmpty ( ( [Measures].[Исполнено за месяц]) ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Предельные объемы финансирования]
]]>
  </query>
  
<query id="FO_0035_0032_Grid_incomes">
    <![CDATA[
-- FO_0035_0032_Grid_incomes  
with        
member [Measures].[Темп роста к аналогичному периоду прошлого года ]
as '[Measures].[Темп роста]'
    member [Measures].[План на текущий месяц] 
    as 'IIF ([Measures].[План] = 0, null,[Measures].[План] / 1000)'        
    member [Measures].[За день ]        
    as 'IIF ([Measures].[Поступило за день] = 0, null,[Measures].[Поступило за день] / 1000)'        
    member [Measures].[С начала месяца ]       
    as 'IIF ([Measures].[Поступило за месяц] = 0, null,[Measures].[Поступило за месяц] / 1000)'        
    member [Measures].[За аналогичный период прошлого года]       
    as 'IIF ([Measures].[Поступило за месяц_прошлый год] = 0, null,[Measures].[Поступило за месяц_прошлый год] / 1000)'        
    member [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Всего]        
    as 'Aggregate ([Показатели]   )'        
    set [Показатели]        
    as '{
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все].[Всего доходов],
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все].[НВС],
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все].[ИФДБ]
            } '        
    member [Measures].[Доходы бюджета ]      
    as 'LookupCube      
        (
            "[ФО_Остатки средств бюджета]",
            "    
            (
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Поступило в бюджет по данным реестра перечисленных поступлений УФК НСО],
                [Measures].[Доходы бюджета],
                <%selected_period_rests%> 
            )"      
        )'    
    member [Measures].[Целевые поступления из ФБ ]    
    as 'LookupCube    
        (
            "[ФО_Остатки средств бюджета]",
            "    
            (
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Поступило в бюджет по данным реестра перечисленных поступлений УФК НСО],
                [Measures].[Целевые поступления из ФБ],
                <%selected_period_rests%>    
            )"    
        )'    
    member [Measures].[С начала года ]    
    as '([Measures].[Доходы бюджета ] + [Measures].[Целевые поступления из ФБ ]) / 1000'    
    member [Measures].[План на текущий квартал ]   
    as 'LookupCube   
        (
            "[ФО_АС Бюджет_План доходов]",
            "   
            (
                [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
                [Период__Период].[Период__Период].[Данные всех периодов]<%period_quater%>,
                [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов]<%period_year%>,
                [Measures].[План]   
            )"   
        ) / 1000'   
SELECT
    {
        <%selected_period%>       
    } on columns,
    {
        [Measures].[С начала года ],
        [Measures].[С начала месяца ],
        [Measures].[За аналогичный период прошлого года],
        [Measures].[Темп роста к аналогичному периоду прошлого года ],
        [Measures].[За день ],        
        [Measures].[План на текущий квартал ],
        [Measures].[План на текущий месяц],
        [Measures].[Процент исполнения за месяц]
    } ON rows        
FROM [ФО_Поступления в бюджет] 
where
([Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Всего]        )
  ]]>
</query>

<query id="FO_0035_0032_Grid_outcomes">
    <![CDATA[
-- FO_0035_0032_Grid_outcomes  
with
    member [Measures].[С начала месяца ]
    as 'IIF ([Measures].[Исполнено за месяц] = 0, null,[Measures].[Исполнено за месяц] / 1000)'
    member [Measures].[Темп роста к аналогичному периоду прошлого года ]
    as ' IIF
        (
            not isEmpty
            (
                [Measures].[За аналогичный период прошлого года ]
            ) and not
            (
                [Measures].[За аналогичный период прошлого года ] = 0
            ),
           [Measures].[С начала месяца ] / [Measures].[За аналогичный период прошлого года ],
            null
        )'
    member [Measures].[За день ]
    as 'IIF ([Measures].[Исполнено за день] = 0, null,[Measures].[Исполнено за день] / 1000)'
    member [Measures].[План на текущий месяц ]
    as 'IIF ([Measures].[План] = 0, null,[Measures].[План] / 1000)'
    member [Measures].[Процент исполнения за месяц ]
    as 'IIF ([Measures].[Процент исполнения за месяц] = 0, null,[Measures].[Процент исполнения за месяц])'
    member [Measures].[Остатки за месяц ]
    as 'IIF ([Measures].[Остатки за месяц] = 0, null,[Measures].[Остатки за месяц] / 1000)'
    member [Measures].[За аналогичный период прошлого года ]
    as '[Measures].[Исполнено за месяц_прошлый год] / 1000'
    member [Measures].[Доходы бюджета ]
    as 'LookupCube
        (
            "[ФО_Остатки средств бюджета]",
            "sum
            (
                {
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров на финансирование, подготовленных казначейским управлением МФиНП НСО и направленных в УФК по НСО для исполнения],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров о доведении объемов финансирования ГРБС, лицевые счета которых открыты в органах ФК],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Восстановление кассовых расходов],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Платежи из бюджета, отклоненные банком]
                },
                (
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].CurrentMember,
                    [Measures].[Доходы бюджета],
                    <%selected_period_rests%> 
                )
            )"
        )'
    member [Measures].[Целевые поступления из ФБ ]
    as 'LookupCube
        (
            "[ФО_Остатки средств бюджета]",
            "sum
            (
                {
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров на финансирование, подготовленных казначейским управлением МФиНП НСО и направленных в УФК по НСО для исполнения],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров о доведении объемов финансирования ГРБС, лицевые счета которых открыты в органах ФК],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Восстановление кассовых расходов],
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Платежи из бюджета, отклоненные банком]
                },
                (
                    [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].CurrentMember,
                    [Measures].[Целевые поступления из ФБ],
                   <%selected_period_rests%> 
                )
            )"
        )'
    member [Measures].[С начала года ]
    as '([Measures].[Доходы бюджета ] + [Measures].[Целевые поступления из ФБ ])  / 1000'
     member [Measures].[План на текущий квартал ]
    as 'LookupCube
        (
            "[ФО_АС Бюджет_План расходов]",
            "
            (
                [Роспись Кассовый план].[Роспись Кассовый план].[Все].[Кассовый план],
                [Период__Период].[Период__Период].[Данные всех периодов]<%period_quater%>,
                [Период__Дата принятия].[Период__Дата принятия].[Данные всех периодов]<%period_year%>,
                [Measures].[Ассигнования]
            )"
        ) / 1000'
SELECT
    {
        <%selected_period%>     
    } on columns,
    {
        [Measures].[С начала года ],
        [Measures].[С начала месяца ],
        [Measures].[За аналогичный период прошлого года ],
        [Measures].[Темп роста к аналогичному периоду прошлого года ],
        [Measures].[За день ],        
        [Measures].[План на текущий квартал ],
        [Measures].[План на текущий месяц ],
        [Measures].[Процент исполнения за месяц ],
        [Measures].[Остатки за месяц ]
    } ON rows
FROM [ФО_Предельные объемы финансирования]
  ]]>
</query>
  
   <query id="FO_0035_0022_rests_Date">
    <![CDATA[
-- FO_0035_0022_rests_Date  
with
    member  [Measures].[Остаток]
    as '[Measures].[Доходы бюджета] + [Measures].[Целевые поступления из ФБ]'
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[Остаток]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Остатки средств бюджета]
  ]]>
  </query>
  
  <query id="FO_0035_0022_rests">
    <![CDATA[
-- FO_0035_0022_rests  
WITH 
    member  [Measures].[Остаток] 
    as '([Measures].[Доходы бюджета] + [Measures].[Целевые поступления из ФБ]) / 1000' 
SELECT
    { [Measures].[Остаток] } ON COLUMNS ,
    {
        [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Остаток средств бюджета на счете 02512005470] 
    }ON ROWS 
FROM [ФО_Остатки средств бюджета] 
WHERE <%selected_period_rests%> 
  ]]>
</query>

  <query id="FO_0035_0022_orders_Date">
    <![CDATA[
-- FO_0035_0022_orders_Date  
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[Сумма]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from   [ФО_Реестр платежных поручений]
  ]]>
  </query>

  <query id="FO_0035_0022_orders">
    <![CDATA[
-- FO_0035_0022_orders  
with  
    member  [Measures].[Сумма ] 
    as '[Measures].[Сумма] / 1000' 
    member [Состояние документа].[Состояние документа].[Проведенные платежные поручения. ]
    as '
        (
            [Состояние документа].[Состояние документа].[Все].[Проведенные платежные поручения.],
            Tail
            (
                Filter
                (
                    Descendants
                    (
                        [Период__Период].[Период__Период].[Данные всех периодов],
                        [Период__Период].[Период__Период].[День],
                        SELF
                    ),
                    not IsEmpty
                    (
                        (
                            [Measures].[Сумма],
                            [Состояние документа].[Состояние документа].[Все].[Проведенные платежные поручения.]
                        )
                    ) and [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
                ),
                1
            ).Item(0)
        )'
SELECT
    { [Measures].[Сумма ] } ON COLUMNS ,
    {
        [Состояние документа].[Состояние документа].[Все].[Платежные поручения на рассмотрении ФО.],
        [Состояние документа].[Состояние документа].[Проведенные платежные поручения. ]
    }ON ROWS 
FROM  [ФО_Реестр платежных поручений] 
WHERE <%selected_period%>
  ]]>
</query>

</root>