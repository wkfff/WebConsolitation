<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="date">
    <![CDATA[
-- fo_0035_0001_date
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail  
        (
            NonEmptyCrossjoin 
            (
                {
                    Filter
                    (
                        [Период].[Период].Members,
                        [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                        [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                        [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                        [Период].[Период].CurrentMember.Name <> "Данные года"
                    ) 
                } 
            )  
        )  
    } on rows 
from [ФО_Исполнение кассового плана] 
  ]]>
  </query>

  <query id="data">
    <![CDATA[
-- fo_0035_0001_data   
    with   
    member [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Остаток средств ]  
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Доходы областного бюджета] - [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Расходы - всего]'   
    member [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[КАССОВЫЕ ВЫПЛАТЫ - ВСЕГО ]  
    as 'LookupCube
        (
            "[ФО_Исполнение кассового плана_Расходы]",
            "  
            (
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Итого],
                [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                " + MemberToStr  
                (
                    [Период__Период].[Период__Период].CurrentMember  
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + " 
            )"
        )'
select
    {
        [Measures].[План_Нарастающий итог],
        [Measures].[Факт_Нарастающий итог]    
    } on columns,
    {
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Остаток средств ],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Остаток средств ],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Доходы областного бюджета],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[КАССОВЫЕ ВЫПЛАТЫ - ВСЕГО ]  
    } on rows    
from [ФО_Исполнение кассового плана]    
where 
    (
        <%period_cur_date%>  
    ) 
  ]]>
  </query>

  <query id="data_v">
    <![CDATA[
-- fo_0035_0001_data   
  with   
    member [Measures].[Имя ]
    as '[Администратор].[ИспКасПланСопост].CurrentMember.Properties("Краткое наименование")'
    member [Measures].[План ] 
    as '[Measures].[План_Нарастающий итог] / 1000' 
    member [Measures].[Факт ]   
    as '[Measures].[Факт_Нарастающий итог] / 1000'   
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего ГРБС]
    as 'count 
        (
            filter 
            (
                Except 
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:] 
                    } 
                ),
                not 
                (
                    isEmpty 
                    (
                        (
                            [Measures].[Процент исполнения],
                            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].CurrentMember 
                        )
                    )
                ) 
            )
        )' 
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения]
    as 'sum
        (
            filter
            (
                Except
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:]
                    }
                ),
                not
                (
                    isEmpty
                    (
                        (
                            [Measures].[Процент исполнения],
                            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].CurrentMember
                        )
                    )
                )
            ),
            [Measures].[Процент исполнения]
        )'
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Средний процент исполнения]
    as 'IIF (isEmpty ([Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения]) or
    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения] = 0,
     0, [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения] / [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего ГРБС])'
select
    {
        {
            {
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Заработная плата],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Увеличение стоимости основных средств],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Коммунальные расходы],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Межбюджетные трансферты]  
            }   
            *   
            {
                [Measures].[Процент исполнения]   
            }   
        } +   
        {
            {
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Итого]   
            }   
            *   
            {
                [Measures].[План ],
                [Measures].[Факт ],
                [Measures].[Процент исполнения],
                [Measures].[Имя ]   
            }   
        }   
    }  on columns,
    {
        {
            filter  
            (
                Except   
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:]   
                    }   
                ),
                true  
            ) 
        } +
        {
            [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Средний процент исполнения]
        } 
    } on rows  
from [ФО_Исполнение кассового плана_Расходы]   
where
    (
        <%period_cur_date%>  
    )
  ]]>
  </query>

  <query id="data_H">
    <![CDATA[
-- fo_0035_0001_H_data          
with
    member Measures.[Код]
    as '[Показатели].[ИспКасПлан].CurrentMember.Properties("Код")'    
select
    {        
        [Measures].[План_Нарастающий итог],
        [Measures].[Факт_Нарастающий итог],
        [Measures].[Код],
        [Measures].[Процент исполнения]
    } on columns,
    Except
    (
        [Показатели].[ИспКасПлан].[Показатель].Members,
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано']
        }
    ) on rows
from [ФО_Исполнение кассового плана]
where 
    (
        <%period_cur_date%>  
    ) 
  ]]>
  </query>

  <query id="Outcomes">
    <![CDATA[
     with
    member Measures.[План ]
    as '[Measures].[План_Нарастающий итог] / 1000'
    member Measures.[Факт ]
    as '[Measures].[Факт_Нарастающий итог] / 1000'
select
    {
        [Measures].[План ],
        [Measures].[Факт ],
        [Measures].[Процент исполнения] 
    }  on columns,
    {
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Заработная плата],
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Нормативные публичные обязательства],
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Коммунальные расходы],
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Межбюджетные трансферты],
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Прочие расходы]
        }  on rows
from  [ФО_Исполнение кассового плана_Расходы]
where
    (
        <%period_cur_date%>,
        [Администратор].[ИспКасПланСопост].[Все].[Расходы- всего] 
    )
    ]]>
  </query>

  <query id="TagCloud">
    <![CDATA[
with   
    member [Measures].[План ]   
    as '[Measures].[План_Нарастающий итог] / 1000'   
    member [Measures].[Факт ]   
    as '[Measures].[Факт_Нарастающий итог] / 1000'   
    member [Measures].[Имя ]   
    as '[Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].CurrentMember.Properties("Краткое наименование")'    
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего ГРБС]   
    as 'count   
        (
            filter   
            (
                Except   
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:]   
                    }   
                ),
                not   
                (
                    isEmpty   
                    (
                        (
                            [Measures].[Процент исполнения],
                            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].CurrentMember   
                        )   
                    )   
                )   
            )   
        )'   
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения]   
    as 'sum   
        (
            filter   
            (
                Except   
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:]   
                    }   
                ),
                not   
                (
                    isEmpty   
                    (
                        (
                            [Measures].[Процент исполнения],
                            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].CurrentMember   
                        )   
                    )   
                )   
            ),
            [Measures].[Процент исполнения]   
        )'   
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Средний процент исполнения]   
    as 'IIF   
        (
            isEmpty   
            (
                [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения]  
            ) or [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения] = 0,
            0,
            [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Сумма процента исполнения] / [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего ГРБС]  
        )'   
select
    {
        {
            [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Итого]  
        }   
        *   
        {
            [Measures].[План ],
            [Measures].[Процент исполнения],
            [Measures].[Имя ],
            [Measures].[Факт ]  
        }   
    }     on columns,
    {
        {
            filter   
            (
                Except   
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
                    {
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего],
                        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[в том числе по главным распорядителям:]   
                    }   
                ),
                not IsEmpty   
                (
                    [Measures].[План_Нарастающий итог]  
                ) and not   
                (
                    [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].CurrentMember.Properties("Краткое наименование") = ""   
                )  
            )   
        } +   
        {
            [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Средний процент исполнения]  
        }  
    } on rows   
from [ФО_Исполнение кассового плана_Расходы]   
where   
    (
        <%period_cur_date%>
    ) 
    ]]>
  </query>

  <query id="IncomesDetail">
    <![CDATA[
    --FO_0135_0005_IncomesDetail
 with
    member Measures.[Код]
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].CurrentMember.Properties("Код")'
     member Measures.[План ]
    as '[Measures].[План_Нарастающий итог] / 1000'
    member Measures.[Факт ]
    as '[Measures].[Факт_Нарастающий итог] / 1000'
    member [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Доходы – всего]
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Доходы областного бюджета]'
     member [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Безвозмездные поступления ]
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Безвозмездные поступления]'
select
    {
        [Measures].[План ],
        [Measures].[Факт ],
        [Measures].[Процент исполнения]
    } on columns,
    {
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Доходы – всего],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налог на прибыль организаций],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налог на доходы физических лиц],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налоги на имущество],
        [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Безвозмездные поступления ]
    } on rows
from [ФО_Исполнение кассового плана] 
where
    (
        <%period_cur_date%>
    )
    ]]>
  </query>

  <query id="OutcomesDetail">
    <![CDATA[
    --FO_0135_0005_OutcomesDetail
  with     
    member Measures.[Код]     
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].CurrentMember.Properties("Код")'     
    member Measures.[План ]     
    as '[Measures].[План_Нарастающий итог] / 1000'     
    member Measures.[Факт ]     
    as '[Measures].[Факт_Нарастающий итог] / 1000'     
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Расходы – всего] 
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Итого]' 
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Капитальные вложения] 
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Увеличение стоимости основных средств]' 
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Коммунальные услуги] 
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Коммунальные расходы]' 
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Безвозмездные перечисления другим бюджетам] 
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Межбюджетные трансферты]' 
select
    {
        [Measures].[План ],
        [Measures].[Факт ],
        [Measures].[Процент исполнения]     
    } on columns,
    {
        [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Расходы – всего],
        [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Заработная плата],
        [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Капитальные вложения],
        [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Коммунальные услуги],
        [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Безвозмездные перечисления другим бюджетам] 
    } on rows     
from  [ФО_Исполнение кассового плана_Расходы] 
where
    (
        <%period_cur_date%>,
        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего]
    )
    ]]>
  </query> 

</root>