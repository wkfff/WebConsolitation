<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0023_date">
    <![CDATA[
-- FO_0035_0023_date
with 
    member [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего] 
    as 'aggregate 
        (
            {
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[<%outcomes%>],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[МЕРЫ СОЦИАЛЬНОЙ ПОДДЕРЖКИ НАСЕЛЕНИЯ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[РЕАЛЬНЫЙ СЕКТОР ЭКОНОМИКИ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[МАТЕРИАЛЬНЫЕ ЗАТРАТЫ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ОБЩЕГОСУДАРСТВЕННЫЕ РАСХОДЫ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ДОТАЦИИ, СУБВЕНЦИИ, СУБСИДИИ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[РАСХОДЫ ЗА СЧЕТ ЦЕЛЕВЫХ СРЕДСТВ ФБ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ГАШЕНИЕ КРЕДИТОВ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[Неизвестная статья расходов] 
            } 
        )' 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet]
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF 
                ),
                not IsEmpty 
                (
                    (
                        [Measures].[Исполнено за день],
                        [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего] 
                    ) 
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from  [ФО_Предельные объемы финансирования]
  ]]>
  </query>

  <query id="FO_0035_0023_date_appg">
    <![CDATA[
-- FO_0035_0023_date_appg
with 
    member [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего] 
    as 'aggregate 
        (
            {
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[<%outcomes%>],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[МЕРЫ СОЦИАЛЬНОЙ ПОДДЕРЖКИ НАСЕЛЕНИЯ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[РЕАЛЬНЫЙ СЕКТОР ЭКОНОМИКИ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[МАТЕРИАЛЬНЫЕ ЗАТРАТЫ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ОБЩЕГОСУДАРСТВЕННЫЕ РАСХОДЫ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ДОТАЦИИ, СУБВЕНЦИИ, СУБСИДИИ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[РАСХОДЫ ЗА СЧЕТ ЦЕЛЕВЫХ СРЕДСТВ ФБ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[ГАШЕНИЕ КРЕДИТОВ],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[Неизвестная статья расходов] 
            } 
        )' 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF 
                ),
                (
                    [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <=
                     <%period_last_year%>.Properties("PKID") 
                ) and
                not IsEmpty
                (
                    (
                        [Measures].[Исполнено за день],
                        [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from  [ФО_Предельные объемы финансирования] 
  ]]>
  </query>
  
<query id="FO_0035_0023_OutcomesGrid">
    <![CDATA[
-- FO_0035_0023_OutcomesGrid  
    WITH    
    member measures.[Аппг] 
    as ' 
        (
            [Measures].[Исполнено за месяц ],
            <%period_last_year%>
        )' 
    member Measures.[Темп роста ] 
    as 'IIF 
        (
            IsEmpty ( measures.[Аппг] ) or measures.[Аппг] = 0 or 
            (
                measures.[Аппг] 
                *[Measures].[Исполнено за месяц ] < 0 
            ),
            null,
            [Measures].[Исполнено за месяц ]  / measures.[Аппг] 
        )' 
    SET [NonFilterRowSet]    
    AS ' filter 
        (
            Descendants    
            (
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все],
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Уровень 2],
                SELF_AND_AFTER    
            ),
            not  
            (
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].CurrentMember is 
                [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].CurrentMember.Parent.DataMember  
            ) and  
            (
                (
                    [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].CurrentMember.Parent is 
                    [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[<%outcomes%>]  
                ) or  
                (
                    [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].CurrentMember.Parent.Parent is 
                    [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Все].[<%outcomes%>]  
                )  
            )  and not isEmpty ([Measures].[План ])
            and not isEmpty ([Measures].[Темп роста])
            and not isEmpty ([Measures].[[Исполнено за день ])
            and not isEmpty ([Measures].[Исполнено за месяц ])
            and not isEmpty ([Measures].[Аппг])
            and not isEmpty ([Measures].[Остатки за месяц  ])
            and not isEmpty ([Measures].[Процент исполнения за месяц])
        ) '  
    member [Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего]    
    as '[Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[<%outcomes%>]'    
    member measures.[Уровень]    
    as '[Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].CurrentMember.Level.Name' 
    member measures.[План ] 
    as '[Measures].[План] / 1000' 
    member measures.[Исполнено за день ] 
    as '[Measures].[Исполнено за день] / 1000' 
    member measures.[Исполнено за месяц ] 
    as '[Measures].[Исполнено за месяц] / 1000' 
    member measures.[Остатки за месяц ] 
    as '[Measures].[Остатки за месяц] / 1000' 
SELECT
    {
        [Measures].[План ] ,
        [Measures].[Исполнено за день ] ,
        [Measures].[Исполнено за месяц ] ,
        measures.[Аппг],
        [Measures].[Остатки за месяц ] ,
        [Measures].[Процент исполнения за месяц],
        Measures.[Темп роста ],
        measures.[Уровень]
    } ON COLUMNS ,
    non Empty   { {[Показатели__ФО_ПОФ_Сопоставимый].[Показатели__ФО_ПОФ_Сопоставимый].[Всего]} +  {[NonFilterRowSet]} } ON ROWS    
FROM [ФО_Предельные объемы финансирования]    
WHERE    
    (
        <%selected_period%>
    )     
  ]]>
</query>
  
</root>