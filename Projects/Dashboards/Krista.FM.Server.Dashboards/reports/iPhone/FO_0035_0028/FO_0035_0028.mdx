<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0028_date">
    <![CDATA[
-- FO_0035_0028_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[ЛБО]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from   [ФО_Бюджетные обязательства]
  ]]>
</query>

<query id="FO_0035_0028_Grid">
    <![CDATA[
-- FO_0035_0028_Grid 
with
 member [Measures].[ЛБО на год]
    as '[Measures].[ЛБО] / 1000'
    member [Measures].[Поставлено на учет БО]   
    as 'IIF 
        (
            [Measures].[Учтено БО] = 0,
            null,
            [Measures].[Учтено БО] / 1000  
        )'  
    member [Measures].[Поставлено на учет бюджетных обязательств текущим днем]   
    as 'IIF
        (
            [Measures].[Учтено БО] = 0 and [Measures].[Учтено БО за период] = 0,
            null,
            [Measures].[Учтено БО за период] / 1000 
        )' 
    member [Measures].[БО на рассмотрении ]   
    as 'IIF   
        (
            [Measures].[БО на рассмотрении] = 0,
            null,
            [Measures].[БО на рассмотрении] / 1000  
        )'   
    member [Measures].[Свободный остаток ЛБО]
    as '[Measures].[Остаток ЛБО] / 1000'
     member [Measures].[Процент от лимита бюджетных обязательств на год]  
    as 'IIF 
        (
            [Measures].[Остаток ЛБО] > 0,
            [Measures].[Процент от ЛБО],
            null
        )' 
    member [Measures].[Глаз]
    as '"Глаз"'
    set [ГРБС]
    as 'filter
        (
            [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].members,
            not ([Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].CurrentMember is [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные])
        )'
    member [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего]
    as 'Aggregate ( [ГРБС] )'
select
    {
        [Measures].[Глаз],
        [Measures].[ЛБО на год],
        [Measures].[Поставлено на учет БО],
        [Measures].[Свободный остаток ЛБО],
        [Measures].[БО на рассмотрении ],
        [Measures].[Поставлено на учет бюджетных обязательств текущим днем],
        [Measures].[Процент от лимита бюджетных обязательств на год]
        
    } on columns,
    {
        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Всего],
        [ГРБС]        
    }   on rows
from   [ФО_Бюджетные обязательства]
where  
    (
        <%selected_period%> 
    )  
  ]]>
</query>

<query id="FO_0035_0028_rests_Date">
<![CDATA[
-- FO_0035_0028_rests_Date  
with
    member  [Measures].[Остаток]
    as '[Measures].[Доходы бюджета] + [Measures].[Целевые поступления из ФБ]'
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[Остаток]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Остатки средств бюджета]
  ]]>
  </query>
  
</root>