<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0031_date">
    <![CDATA[
-- FO_0035_0031_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF 
                ),
                not IsEmpty ( ( [Measures].[Поступило за день]) ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from    [ФО_Поступления в бюджет] 
  ]]>
</query>

<query id="FO_0035_0031_Grid">
    <![CDATA[
-- FO_0035_0031_Grid  
with 
    member [Measures].[План ] 
    as 'IIF ([Measures].[План] = 0, null,[Measures].[План] / 1000)'      
    member [Measures].[Уровень]
    as '[Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember.Level.Name'
    member [Measures].[Поступило за день ] 
    as 'IIF ([Measures].[Поступило за день] = 0, null,[Measures].[Поступило за день] / 1000)'
    member [Measures].[Поступило за месяц ] 
    as 'IIF ([Measures].[Поступило за месяц] = 0, null,[Measures].[Поступило за месяц] / 1000)' 
    member [Measures].[Поступило за месяц_прошлый год ] 
    as 'IIF ([Measures].[Поступило за месяц_прошлый год] = 0, null, [Measures].[Поступило за месяц_прошлый год] / 1000)' 
    member [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Всего]   
    as 'Aggregate  
        (
            {[Показатели 1 уровень] 
            } 
        )'  
    set [Показатели] 
    as ' filter 
        (
            Descendants 
            (
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все],
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Уровень 1],
                SELF_AND_AFTER 
            ) ,
            not  [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember is [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember.Parent.Datamember and not [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember is [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все].[Несопоставленные данные] and (not isEmpty 
            (
                [Measures].[Поступило за день ]
            ) or not isEmpty 
            (
               [Measures].[План ]
            ) or not isEmpty 
            (
               [Measures].[Поступило за месяц ]
            )
	)
        )' 
set [Показатели 1 уровень] 
    as ' filter 
        (
            Descendants 
            (
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все],
                [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Уровень 1],
                SELF
            ) ,
            not  [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember is [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember.Parent.Datamember and not [Показатели__ФО_Поступления в бюджет_Сопоставимый].CurrentMember is [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Все].[Несопоставленные данные] and (not isEmpty 
            (
                [Measures].[Поступило за день ]
            ) or not isEmpty 
            (
               [Measures].[План ]
            ) or not isEmpty 
            (
               [Measures].[Поступило за месяц ]
            )
	)
        )' 
SELECT
    {
        [Measures].[План ],
        [Measures].[Поступило за день ],
        [Measures].[Поступило за месяц ],        
        [Measures].[Процент исполнения за месяц],
        [Measures].[Темп роста],
        [Measures].[Темп роста к прошлому году],
        [Measures].[Уровень]
    } on columns,
    {
        [Показатели__ФО_Поступления в бюджет_Сопоставимый].[Показатели__ФО_Поступления в бюджет_Сопоставимый].[Всего],
        [Показатели] 
    } ON rows 
FROM   [ФО_Поступления в бюджет] 
WHERE      
    (
        <%selected_period%>    
    )  
  ]]>
</query>
  
</root>