<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0062_rests_date">
    <![CDATA[
with   
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]  
    as                   '    AGGREGATE  
        (
            {
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ БЕЗОПАСНОСТЬ И ПРАВООХРАНИТЕЛЬНАЯ ДЕЯТЕЛЬНОСТЬ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ЭКОНОМИКА],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ЖИЛИЩНО-КОММУНАЛЬНОЕ ХОЗЯЙСТВО],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОХРАНА ОКРУЖАЮЩЕЙ СРЕДЫ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБРАЗОВАНИЕ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[КУЛЬТУРА, КИНЕМАТОГРАФИЯ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ЗДРАВООХРАНЕНИЕ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[СОЦИАЛЬНАЯ ПОЛИТИКА],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ФИЗИЧЕСКАЯ КУЛЬТУРА И СПОРТ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[СРЕДСТВА МАССОВОЙ ИНФОРМАЦИИ],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБСЛУЖИВАНИЕ ГОСУДАРСТВЕННОГО И МУНИЦИПАЛЬНОГО ДОЛГА],
                            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ ОБЩЕГО ХАРАКТЕРА БЮДЖЕТАМ СУБЪЕКТОВ РОССИЙСКОЙ ФЕДЕРАЦИИ И МУНИЦИПАЛЬНЫХ ОБРАЗОВАНИЙ]                       
            }  
        )'   
    member [Measures].[ДанныеНа]   
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'   
    set [NonEmptySet]   
    as 'Tail   
        (
            Filter   
            (
                Descendants   
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Год],
                    SELF   
                ),
                not IsEmpty     
                (
                    [Measures].[Наличие на конец года]   
                )   
            ),
            1   
        )'   
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows   
from   [ФО_ГодОтч_Сеть Штаты Контингент]   
where   
    (        
        [КСШК__Сопоставимый].[КСШК__Сопоставимый].[Все].[Штатные единицы],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта] ,
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]
    )   
  ]]>
  </query>

  <query id="FO_0002_0062_table">
    <![CDATA[
with      
    MEMBER [Measures].[Среднесписочная численность] 
    AS 'IIF 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember is  [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого],
            LookupCube 
            (
                "ФО_Форма14_Должности" ,
                " 
                (
                    AGGREGATE 
                    (
                        {
                            " + SetToStr([NonFilterRowSet]) + " 
                        },
                        (
                            [Период__Период].[Период__Период].[2010],
                             [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета],
                            [Measures].[Среднесписочная численность за период] 
                        )  
                    ) 
                )" 
            )   ,
            LookupCube 
            (
                "ФО_Форма14_Должности" ,
                " 
                (
                    (
                        [Период__Период].[Период__Период].[2010],
                        [Measures].[Среднесписочная численность за период],
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета],
                        " +  MemberToStr 
                        (
                            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember 
                        ) + " 
                    )  
                )" 
            ) 
        )'  ,
        format_string = '0'      
    SET [NonFilterRowSet]  
    AS ' filter  
        (
            Descendants  
            (
                Except  
                (
                    [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].Children,
                    {
                        [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].[Несопоставленные данные] 
                    }  
                ) ,
                [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
                SELF  
            ),
            not [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember.is_datamember and not IsEmpty ( [Measures].[Факт] )  and not IsEmpty([Measures].[Среднесписочная численность]) 
        ) '   
    member [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]      
    as 'Aggregate([NonFilterRowSet])'      
    member [Measures].[Расходы на содержание ОГВ]      
    as 'IIF 
        (
            ([Measures].[Факт]=0) or (IsEmpty([Measures].[Факт])),
            null,
            [Measures].[Факт]/1000
        )'  
    member [Measures].[Среднесписочная численность ]
    as 'IIF
        (
            ([Measures].[Среднесписочная численность]=0) or (IsEmpty([Measures].[Среднесписочная численность])),
            null,
            [Measures].[Среднесписочная численность]
        )'
    member [Measures].[Краткое наименование ГРБС]   
    as '[Администратор__Сопоставим].[Администратор__Сопоставим].CurrentMember.Properties("Краткое наименование")'   
    member [Measures].[Расходы на 1 работника]   
    as 'IIF      
        (
            (
                isEmpty([Measures].[Факт]) OR IsEmpty      
                (
                    [Measures].[Среднесписочная численность]      
                )      
            )OR      
            (
                [Measures].[Среднесписочная численность]=0      
            ) ,
            null ,
            [Measures].[Расходы на содержание ОГВ]/[Measures].[Среднесписочная численность]      
        )'   ,
        format_string= '0'    
member [Measures].[ранг]
    as 'Rank
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].CurrentMember,
            Order
            (
                Filter
                (
                    [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор].Members,
                    not IsEmpty 	
                    (
                        	                            [Measures].[Среднесписочная численность ] 	
                    ) 	
                ),
                	                   [Measures].[Среднесписочная численность ],
                BDESC 	
            ),
            	                [Measures].[Среднесписочная численность ]
        ) '
    member [Measures].[Макс Ранг]
    as 'max
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
            [Measures].[Среднесписочная численность ]
        )'
    member [Measures].[Фильтр отличных от 0] 
    as 'IIF 
        (
            [Measures].[Среднесписочная численность ]=0,
            null,
            [Measures].[Среднесписочная численность ]
        ) ' 
    member [Measures].[Мин Ранг]   
    as 'min   
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
            [Measures].[Фильтр отличных от 0]
        )' 
select
    {        
        [Measures].[Расходы на содержание ОГВ],
        [Measures].[Среднесписочная численность ],
        [Measures].[Расходы на 1 работника],
        [Measures].[Краткое наименование ГРБС],
        [Measures].[Макс Ранг],
        [Measures].[Мин Ранг] 
    }on columns,
    {
        [NonFilterRowSet],
        [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]   
    }on rows      
from [ФО_МесОтч_СпрРасходыДоп]      
where      
    (
        	<%period_dimension%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта] ,
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего]   
    )           
      ]]>
  </query>


</root>
