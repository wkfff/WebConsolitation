<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="STAT_0001_0002_date">
    <![CDATA[
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Значение])
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [СТАТ_Мониторинг ситуации на рынке труда]
  ]]>
  </query>

  <query id="STAT_0001_0002_debts_date">
    <![CDATA[
-- STAT_0001_0001_debts_date
with                  
    member [Measures].[Дата]        
    as '[Период].[Период].CurrentMember.UniqueName'  
select
    {  [Measures].[Дата]  } on columns,
    {
        Tail 
        (
            Filter  
            (
                Descendants   
                (
                    [Период].[Период].[Данные всех периодов],
                    [Период].[Период].[День],
                    SELF   
                ),
                (
                    [Период].[Период].CurrentMember.Properties("PKID") <= <%period_day%>.Properties("PKID")
                ) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and 
                not IsEmpty   
                (
                    (
                        [Measures].[Значение],
                        [Показатели].[Рынок труда].[Все].[Количество граждан, имеющих задолженность по выплате заработной платы]  
                    )   
                ) 
            ),
            2 
        )  
    }  on rows   
from [СТАТ_Мониторинг ситуации на рынке труда]           
where           
    (
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]     
    )
]]>
  </query>

  <query id="STAT_0001_0002_FO">
    <![CDATA[
-- STAT_0001_0002_FO
with    
    Member [Measures].[Значение ]  
    as 'IIF  
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            (
                [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
                <%debts_day%>,
                [Measures].[Значение]    
            ),
            [Measures].[Значение]   
        )'
    Member [Measures].[Темп прироста ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            (
                [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
                <%debts_day%>,
                [Measures].[Темп прироста]
            ),
            [Measures].[Темп прироста]
        )'
    Member [Территории].[Сопоставимый].[Итого по УФО]    
    as '[Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]'    
    Member [Measures].[Прирост ]    
    as 'IIF    
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы] or [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию]  and not    
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[Итого по УФО]    
            ),
            Rank    
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order    
                (
                    Filter    
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings,
                        not IsEmpty    
                        (
                            (
                                [Measures].[Значение],
                                [Показатели].[Рынок труда].CurrentMember    
                            )    
                        )    
                    ),
                    (
                        [Measures].[Значение],
                        [Показатели].[Рынок труда].CurrentMember    
                    ) ,
                     DESC    
                ),
                (
                    [Measures].[Значение],
                    [Показатели].[Рынок труда].CurrentMember    
                )    
            ) ,
            IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            (
                [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
                <%debts_day%>,
                [Measures].[Прирост]
            ),
            [Measures].[Прирост]
        )
        )'    
select
    {
        {
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию],
            [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)]    
        }    
        *    
        {
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>],
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>]
        }    
    }  on rows,
    non empty    
    (
        {
            [Measures].[Значение ],
            [Measures].[Темп прироста ],
            [Measures].[Прирост ]    
        }    
    )  on columns    
from [СТАТ_Мониторинг ситуации на рынке труда]    
where    
    (
        <%period_day%>
    )
  ]]>
  </query>

  <query id="STAT_0001_0002_v">
    <![CDATA[
-- STAT_0001_0002_v
with
    set [Список все субъектов УФО]
    as 'Filter
        (
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].Children,
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            )
        ) '
    Member [Территории].[Сопоставимый].[Итого по УФО]
    as '[Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]'
    Member [Measures].[Значение ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан]
            )/
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
                [Период].[Период].[Данные всех периодов].[2009]
            ),
            [Measures].[Значение]
        )'
    Member [Measures].[Темп прироста ]
    as 'IIF
        (
            (IsEmpty([Measures].[Темп прироста]) and not IsEmpty([Measures].[Значение])),
            0 ,
            [Measures].[Темп прироста]
        )'
    Member [Measures].[Прирост ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы] or 
                [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию] and not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[Итого по УФО]
            ),
            Rank
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order
                (
                    Filter
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings,
                        not IsEmpty
                        (
                            (
                                [Measures].[Значение ],
                                [Показатели].[Рынок труда].CurrentMember
                            )
                        )
                    ),
                    (
                        [Measures].[Значение ],
                        [Показатели].[Рынок труда].CurrentMember
                    ) ,
                    DESC
                ),
                (
                     [Measures].[Значение ],
                    [Показатели].[Рынок труда].CurrentMember
                )
            ) ,
            [Measures].[Прирост]
        )'
                set [Даты 2009]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2009],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    set [Даты 2010]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2010],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года ]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    set [Показатели рынка труда]
    as '
        {
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Показатели].[Рынок труда].[за аналогичный период прошлого года],
            [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию],
            [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
            [Показатели].[Рынок труда].[Все].[Численность уволенных работников в связи с ликвидацией организаций, сокращением численности или штата работников всего],
            [Показатели].[Рынок труда].[Все].[Численность уволенных работников в связи с ликвидацией организаций, сокращением численности или штата работников на градообразующих предприятиях],
            [Показатели].[Рынок труда].[Все].[из них обратившихся в службу занятости],
            [Показатели].[Рынок труда].[Все].[Количество работников, предупрежденных о предстоящем увольнении в связи с ликвидацией организаций, сокращением численности или штата работников],
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Показатели].[Рынок труда].[за аналогичный период прошлого года ],
            [Показатели].[Рынок труда].[Все].[Кол-во работающих на этих предприятиях, всего, в т.ч.],
            [Показатели].[Рынок труда].[Все].[численность работников с неполной занятостью],
            [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            [Показатели].[Рынок труда].[Все].[Количество предприятий, имеющих задолженность по выплате заработной платы],
            [Показатели].[Рынок труда].[Все].[Количество граждан, имеющих задолженность по выплате заработной платы]
        } '
select
    {
        {            
            {
                <%period_last_day%>,
                <%period_day%>
            }
        }
    } on columns,
    non empty
    (
        {
            [Показатели рынка труда]
        }
        *
        {
            [Measures].[Значение],
            [Measures].[Темп прироста ],
            [Measures].[Прирост ]
        }
    )  on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
where 
    (
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>]
    ) 
  ]]>
  </query>

  <query id="STAT_0001_0002_debts_v">
    <![CDATA[
-- STAT_0001_0002_v
with
    set [Список все субъектов УФО]
    as 'Filter
        (
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].Children,
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            )
        ) '
    Member [Территории].[Сопоставимый].[Итого по УФО]
    as '[Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]'
    Member [Measures].[Значение ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан]
            )/
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
                [Период].[Период].[Данные всех периодов].[2009]
            ),
            [Measures].[Значение]
        )'
    Member [Measures].[Темп прироста ]
    as 'IIF
        (
            (IsEmpty([Measures].[Темп прироста]) and not IsEmpty([Measures].[Значение])),
            0 ,
            [Measures].[Темп прироста]
        )'
    Member [Measures].[Прирост ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы] or 
                [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию] and not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[Итого по УФО]
            ),
            Rank
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order
                (
                    Filter
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings,
                        not IsEmpty
                        (
                            (
                                [Measures].[Значение ],
                                [Показатели].[Рынок труда].CurrentMember
                            )
                        )
                    ),
                    (
                        [Measures].[Значение ],
                        [Показатели].[Рынок труда].CurrentMember
                    ) ,
                    DESC
                ),
                (
                     [Measures].[Значение ],
                    [Показатели].[Рынок труда].CurrentMember
                )
            ) ,
            [Measures].[Прирост]
        )'
                set [Даты 2009]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2009],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    set [Даты 2010]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2010],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года ]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    set [Показатели рынка труда]
    as '
        {            
            [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            [Показатели].[Рынок труда].[Все].[Количество граждан, имеющих задолженность по выплате заработной платы]
        } '
select
    {
        {            
            {
                <%period_last_day%>,
                <%period_day%>
            }
        }
    } on columns,
   
    (
        {
            [Показатели рынка труда]
        }
        *
        {
            [Measures].[Значение],
            [Measures].[Темп прироста],
            [Measures].[Прирост ]
        }
    )  on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
where 
    (
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].[<%state_area%>]
    ) 
  ]]>
  </query>

  <query id="STAT_0001_0002_h">
    <![CDATA[
--STAT_0001_0002_h
with
    set [Список все субъектов УФО]
    as 'Filter
        (
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].Children,
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            )
        ) '
    Member [Территории].[Сопоставимый].[В целом по УрФО]
    as '[Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]'
    Member [Measures].[Значение ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан]
            )/
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
                [Период].[Период].[Данные всех периодов].[2009]
            ),
            [Measures].[Значение]
        )'    
    Member [Measures].[Прирост ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы] or 
                [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию] and not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[В целом по УрФО]
            ),
            Rank
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order
                (
                    Filter
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings,
                        not IsEmpty
                        (
                            (
                                [Measures].[Значение ],
                                [Показатели].[Рынок труда].CurrentMember
                            )
                        )
                    ),
                    (
                        [Measures].[Значение ],
                        [Показатели].[Рынок труда].CurrentMember
                    ) ,
                    DESC
                ),
                (
                     [Measures].[Значение ],
                    [Показатели].[Рынок труда].CurrentMember
                )
            ) ,
            [Measures].[Прирост]
        )'
                        set [Даты 2009]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2009],
                    [Период].[Период].[День],
                    SELF
                ),
         [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    set [Даты 2010]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2010],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года ]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    set [Показатели рынка труда]
    as '
        {
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Показатели].[Рынок труда].[за аналогичный период прошлого года],
            [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию],
            [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
            [Показатели].[Рынок труда].[Все].[Численность уволенных работников в связи с ликвидацией организаций, сокращением численности или штата работников всего],
            [Показатели].[Рынок труда].[Все].[Численность уволенных работников в связи с ликвидацией организаций, сокращением численности или штата работников на градообразующих предприятиях],
            [Показатели].[Рынок труда].[Все].[из них обратившихся в службу занятости],
            [Показатели].[Рынок труда].[Все].[Количество работников, предупрежденных о предстоящем увольнении в связи с ликвидацией организаций, сокращением численности или штата работников],
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Показатели].[Рынок труда].[за аналогичный период прошлого года ],
            [Показатели].[Рынок труда].[Все].[Кол-во работающих на этих предприятиях, всего, в т.ч.],
            [Показатели].[Рынок труда].[Все].[численность работников с неполной занятостью],
            [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            [Показатели].[Рынок труда].[Все].[Количество предприятий, имеющих задолженность по выплате заработной платы],
            [Показатели].[Рынок труда].[Все].[Количество граждан, имеющих задолженность по выплате заработной платы]
        } '
select
    {
        {
            {
                {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[<%state_area%>],
                    [Территории].[Сопоставимый].[В целом по УрФО]
                }
            }
            *
            {
                <%period_last_day%>,
                <%period_day%>
            }
        }
    } on columns,
    non empty
    (
        {
            [Показатели рынка труда]
        }
        *
        {
            [Measures].[Значение],
            [Measures].[Темп прироста],
            [Measures].[Прирост ]
        }
    )  on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
  ]]>
  </query>

  <query id="STAT_0001_0002_debts_h">
    <![CDATA[
--STAT_0001_0002_h
with
    set [Список все субъектов УФО]
    as 'Filter
        (
            [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].Children,
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            )
        ) '
    Member [Территории].[Сопоставимый].[В целом по УрФО]
    as '[Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ]'
    Member [Measures].[Значение ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы],
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан]
            )/
            (
                [Measures].[Значение],
                [Показатели].[Рынок труда].[Все].[Численность экономически активного населения],
                [Период].[Период].[Данные всех периодов].[2009]
            ),
            [Measures].[Значение]
        )'    
    Member [Measures].[Прирост ]
    as 'IIF
        (
            [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Уровень регистрируемой безработицы] or 
                [Показатели].[Рынок труда].CurrentMember is [Показатели].[Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию] and not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[В целом по УрФО]
            ),
            Rank
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order
                (
                    Filter
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings,
                        not IsEmpty
                        (
                            (
                                [Measures].[Значение ],
                                [Показатели].[Рынок труда].CurrentMember
                            )
                        )
                    ),
                    (
                        [Measures].[Значение ],
                        [Показатели].[Рынок труда].CurrentMember
                    ) ,
                    DESC
                ),
                (
                     [Measures].[Значение ],
                    [Показатели].[Рынок труда].CurrentMember
                )
            ) ,
            [Measures].[Прирост]
        )'
                        set [Даты 2009]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2009],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    set [Даты 2010]
    as 'Filter
            (
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[2010],
                    [Период].[Период].[День],
                    SELF
                ),
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                not IsEmpty([Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан])
            )
        '
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Общая численность зарегистрированных безработных граждан],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    Member [Показатели].[Рынок труда].[за аналогичный период прошлого года ]
    as '
        (
            [Показатели].[Рынок труда].[Все].[Количество предприятий, на которых введены неполная рабочая неделя, неполный рабочий день],
            [Территории].[Сопоставимый].CurrentMember,
            [Measures].CurrentMember,
            [Даты 2009].Item
            (
                Rank
                (
                    [Период].[Период].CurrentMember,
                    [Даты 2010]
                ) - 1
            )
        )'
    set [Показатели рынка труда]
    as '
        {          
            [Показатели].[Рынок труда].[Все].[Сумма задолженности по выплате заработной платы (млн.руб.)],
            [Показатели].[Рынок труда].[Все].[Количество предприятий, имеющих задолженность по выплате заработной платы],
            [Показатели].[Рынок труда].[Все].[Количество граждан, имеющих задолженность по выплате заработной платы]
        } '
select
    {
        {
            {
                {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[<%state_area%>],
                    [Территории].[Сопоставимый].[В целом по УрФО]
                }
            }
            *
            {
                <%period_last_day%>,
                <%period_day%>
            }
        }
    } on columns,
    non empty
    (
        {
            [Показатели рынка труда]
        }
        *
        {
            [Measures].[Значение],
            [Measures].[Темп прироста],
            [Measures].[Прирост ]
        }
    )  on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
  ]]>
  </query>
</root>