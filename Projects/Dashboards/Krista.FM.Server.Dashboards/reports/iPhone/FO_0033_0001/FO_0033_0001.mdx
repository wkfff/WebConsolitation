<?xml version="1.0" encoding="Windows-1251"?>
<root>
	<query id="FO_0033_0001">
    <![CDATA[
with
    member Measures.[ѕлан на мес€ц]
    as 'IIF
        (
            [ѕериод].[ƒень].CurrentMember.Level.Name = "ƒень",
            (
                [ѕериод].[ƒень].CurrentMember.Parent,
                [Measures].[ѕлан на период]
            ),
            null
        )'
    member Measures.[‘акт за мес€ц]
    as 'IIF
        (
            [ѕериод].[ƒень].CurrentMember.Level.Name = "ƒень",
            (
                [ѕериод].[ƒень].CurrentMember.Parent,
                [Measures].[‘акт за период]
            ),
            null
        )'
    member Measures.[ќстатки_тыс]
    as 'Measures.[ѕлан на мес€ц_тыс] - Measures.[‘акт за мес€ц_тыс]'
    member Measures.[% исполнени€]
    as 'IIF
        (
            IsEmpty(Measures.[ѕлан на мес€ц]),
            null,
            Measures.[‘акт за мес€ц]/Measures.[ѕлан на мес€ц]
        )'
    member Measures.[ѕлан на мес€ц_тыс]
    as 'Measures.[ѕлан на мес€ц]/1000'
    member Measures.[‘акт за мес€ц_тыс]
    as 'Measures.[‘акт за мес€ц]/1000'
    member Measures.[‘акт за период_тыс]
    as 'Measures.[‘акт за период]/1000'
    member Measures.[ѕлан на год]
    as 'LookupCube
        (
            "[‘ќ_ј— Ѕюджет_ѕлан расходов]",
            "([Measures].[јссигновани€], <%period_yqm_quarter%>)"
        )'
    member Measures.[‘акт за год]
    as 'LookupCube
        (
            "[‘ќ_ј— Ѕюджет_ азн»сп_‘инансирование]",
            "([Measures].[‘инансирование нараст итог], <%period_month_fo%>)"
        ) + Measures.[‘акт за мес€ц]'
    member Measures.[ѕлан на год_тыс]
    as 'Measures.[ѕлан на год]/1000'
    member Measures.[‘акт за год_тыс]
    as 'Measures.[‘акт за год]/1000'
    member Measures.[% исполнени€ год]
    as 'IIF
        (
            IsEmpty(Measures.[ѕлан на год]),
            null,
            Measures.[‘акт за год]/Measures.[ѕлан на год]
        )'
select
    {
        Measures.[ѕлан на мес€ц_тыс],
        Measures.[‘акт за мес€ц_тыс],
        [Measures].[‘акт за период_тыс],
        Measures.[ќстатки_тыс],
        Measures.[% исполнени€],
        Measures.[ѕлан на год_тыс],
        Measures.[‘акт за год_тыс],
        Measures.[% исполнени€ год]
    } on columns
from [‘ќ_ѕлатежный календарь]
where
    (
        <%period_day_fo%>
    )
	]]></query>

  <query id="FO_0033_0001_date">
    <![CDATA[with
member Measures.[ƒеньUN] as '[ѕериод].[ƒень].CurrentMember.UniqueName'
member Measures.[ћес€ц] as '[ѕериод].[ƒень].CurrentMember.Parent.Name'
select
    {Measures.[ƒеньUN], Measures.[ћес€ц]} on columns,
    {Tail(NonEmptyCrossjoin({[ѕериод].[ƒень].Members}))} on rows
from [‘ќ_ѕлатежный календарь]  
	]]>
  </query>

  <query id="FO_0033_0001_V">
    <![CDATA[
        with
    member Measures.[ѕлан на мес€ц]
    as 'IIF
        (
            [ѕериод].[ƒень].CurrentMember.Level.Name = "ƒень",
            (
                [ѕериод].[ƒень].CurrentMember.Parent,
                [Measures].[ѕлан на период]
            ),
            null
        )'
    member Measures.[‘акт за мес€ц]
    as 'IIF
        (
            [ѕериод].[ƒень].CurrentMember.Level.Name = "ƒень",
            (
                [ѕериод].[ƒень].CurrentMember.Parent,
                [Measures].[‘акт за период]
            ),
            null
        )'
    member Measures.[ќстатки_тыс]
    as 'Measures.[ѕлан на мес€ц_тыс] - Measures.[‘акт за мес€ц_тыс]'
    member Measures.[% исполнени€]
    as 'IIF
        (
            Measures.[ѕлан на мес€ц] = 0 or IsEmpty(Measures.[ѕлан на мес€ц]),
            null,
            Measures.[‘акт за мес€ц]/Measures.[ѕлан на мес€ц]
        )'
    member Measures.[ѕлан на мес€ц_тыс]
    as 'Measures.[ѕлан на мес€ц]/1000'
    member Measures.[‘акт за мес€ц_тыс]
    as 'Measures.[‘акт за мес€ц]/1000'
    member  [¬иды расходов].[¬сего расходов]
    as '[¬иды расходов].[¬се]'
select
    {
        Measures.[ќстатки_тыс],
        Measures.[% исполнени€]
    } on columns,
    non empty
    {
        Except
        (
            [¬иды расходов].Members,
            {
                [¬иды расходов].[¬се],
                [¬иды расходов].[¬се].['«начение не указано']
            }
        ) +
        {
            [¬иды расходов].[¬сего расходов]
        }
    } on rows
from [‘ќ_ѕлатежный календарь]
where
    (
        <%period_day_fo%> 
    )
	]]>
  </query>
</root>