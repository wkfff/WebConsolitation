<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0060_rests_date">
    <![CDATA[
with   
    MEMBER [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Slicer]   
    AS ' Aggregate   
        (
            {
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа] ,
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района]   
            }   
        )'   
    member [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Slice]  
    as '           AGGREGATE  
        (
            {
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа],
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет поселения]  
            } 
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]  
    as                   '    AGGREGATE  
        (
            {
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ] ,
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА] 

            }  
        )'   
    member [Measures].[ДанныеНа]   
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'   
    set [NonEmptySet]   
    as 'Tail   
        (
            Filter   
            (
                Descendants   
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Год],
                    SELF   
                ),
                not IsEmpty     
                (
                    [Measures].[Наличие на конец года]   
                )   
            ),
            1   
        )'   
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows   
from   [ФО_ГодОтч_Сеть Штаты Контингент]   
where   
    (
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Slicer],
        [КСШК__Сопоставимый].[КСШК__Сопоставимый].[Все].[Штатные единицы],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Slice]  ,
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]
    )   
  ]]>
  </query>

  <query id="FO_0002_0060_table">
    <![CDATA[
with                   
    member  [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Slicer]                   
    as '    aggregate                   
        (
            {
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района]                   
            }                   
        ) '                   
    member [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Slicer]                   
    as '      	 aggregate                   
        (
            {   [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа],
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет поселения]                   
            }                   
        )'                   
    MEMBER [Measures].[Среднесписочная численность]                   
    AS 'IIF                   
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].currentmember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого],
            LookupCube                   
            (
                "ФО_ГодОтч_Сеть Штаты Контингент" ,
                "                   
                (
                    AGGREGATE            
                    (
                        {  <%period_half_year%>
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа],
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет поселения]            
                        },
                        AGGREGATE            
                        (
                            {
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа],
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района]            
                            },
                            AGGREGATE 
                            (
                                {
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ] ,
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА] 

                                },
                                AGGREGATE                   
                                (
                                    {
                                        " + SetToStr([NonFilterRowSet]) + "                   
                                    },
                                    (
                                        [КСШК__Сопоставимый].[КСШК__Сопоставимый].[Все].[Штатные единицы],
                                        <%period_dimension%>,
                                        [Measures].[Среднегодовое количество_выполнено]          
                                    )             
                                )          
                            ) 
                        )           
                    )                   
                )"                   
            )   ,
            LookupCube               
            (
                "ФО_ГодОтч_Сеть Штаты Контингент" ,
                "               
                (
                    AGGREGATE               
                    (
                        {  <%period_half_year%>
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет гор.округа],
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет района],
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет поселения]               
                        },
                        AGGREGATE               
                        (
                            {
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа],
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района]               
                            },
                            AGGREGATE 
                            (
                                {
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ] ,
                                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА] 
                                },
                                (
                                    <%period_dimension%>,
                                    [Measures].[Среднегодовое количество_выполнено],
                                    [КСШК__Сопоставимый].[КСШК__Сопоставимый].[Все].[Штатные единицы],
                                    " +  MemberToStr               
                                    (
                                        [Районы__Сопоставимый].[Районы__Сопоставимый].currentmember               
                                    ) + "                                           
                                )               
                            )
                        ) 
                    )               
                )"               
            )              
        )'  ,
        format_string = '0'         
    Set [NonFilterRowSet]                   
    as 'Filter                   
        (
            Descendants                   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF                   
            ),
            not [Районы__Сопоставимый].[Районы__Сопоставимый].currentmember.is_datamember and not isEmpty                   
            (
               [Measures].[Факт]                  
            )        
            and not isEmpty                   
            (
               [Measures].[Среднесписочная численность]                
            )                   
        )'                   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]                   
    as 'Aggregate([NonFilterRowSet])'          
    member [Measures].[Фактические расходы]          
    as 'IIF (
              IsEmpty([Measures].[Факт]),
              null,
              [Measures].[Факт]/1000
            )',format_string = '0.00'     
        
    member [Measures].[Расходы на 1 работника]        
    as 'IIF       
        (
            (
                isEmpty([Measures].[Факт]) OR IsEmpty      
                (
                    [Measures].[Среднесписочная численность]      
                )      
            )OR     
            (
                [Measures].[Среднесписочная численность]=0     
            ) ,
            0 ,
            [Measures].[Фактические расходы]/[Measures].[Среднесписочная численность]      
        )'   ,
        format_string= '0'     
            member [Measures].[ранг] 
    as 'Rank 
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember,
            Order 
            (
                Filter 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04].Members,
                    not IsEmpty 	 
                    (
                        	                            [Measures].[Среднесписочная численность] 	 
                    ) 	 
                ),
                	                   [Measures].[Среднесписочная численность],
                BDESC 	 
            ),
            	                [Measures].[Среднесписочная численность] 
        ) ' 
    member [Measures].[Макс Ранг] 
    as 'max
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
            [Measures].[Среднесписочная численность]
        )' 
    member [Measures].[Фильтр отличных от 0] 
    as 'IIF 
        (
            [Measures].[Среднесписочная численность]=0,
            null,
            [Measures].[Среднесписочная численность]
        ) ' 
    member [Measures].[Мин Ранг]
    as 'min
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
            [Measures].[Фильтр отличных от 0] 
        )'

select
    {
        [Measures].[Фактические расходы] ,
        [Measures].[Среднесписочная численность] ,
        [Measures].[Расходы на 1 работника],
        [Measures].[Макс Ранг],
        [Measures].[Мин Ранг]
    }on columns,
    {
        [NonFilterRowSet],
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]                   
    }on rows                   
from [ФО_МесОтч_СпрРасходыДоп]                   
where                   
    (
        	<%period_dimension%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Slicer],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Slicer]  ,
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего]                
    )     
      ]]>
  </query>


</root>
