<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="date">
    <![CDATA[
-- fo_0035_0001_date
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail  
        (
            NonEmptyCrossjoin 
            (
                {
                    Filter
                    (
                        [Период].[Период].Members,
                        [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                        [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                        [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                        [Период].[Период].CurrentMember.Name <> "Данные года"
                    ) 
                } 
            )  
        )  
    } on rows 
from [ФО_Исполнение кассового плана] 
  ]]>
  </query>

  <query id="data">
    <![CDATA[
-- fo_0035_0001_data   
with
    member [Measures].[Месяц]
    as '[Период].[Период].CurrentMember.Parent.Name'
    member Measures.[Факт за день]
    as 'IIF
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000
        )'
    member [Показатели].[ИспКасПлан].[продажа акций]
    as '[Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]'
    member [Показатели].[ИспКасПлан].[собственные доходы]
    as '[Показатели].[ИспКасПлан].[Все].[собственные]'
select

        { [Measures].[Факт за день],
         Measures.[План],
         [Measures].[Факт] } on columns,
        {
            [Показатели].[ИспКасПлан].[Все].[КАССОВЫЕ ВЫПЛАТЫ - ВСЕГО]
        } on rows
from [ФО_Исполнение кассового плана]
where 
    (
        <%period_cur_date%>  
    ) 
  ]]>
  </query>
  
  <query id="ChartOutcomesAll1">
    <![CDATA[
-- fo_0035_0001_data
with  
    member [Measures].[Месяц]  
    as '[Период].[Период].CurrentMember.Parent.Name'  
    member Measures.[Факт за день]  
    as 'IIF  
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000  
        )'  
    member [Показатели].[ИспКасПлан].[приобретение акций] 
    as '[Показатели].[ИспКасПлан].[Все].[кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации]' 
select
    {
        {
            [Показатели].[ИспКасПлан].[Все].[погашение долговых обязательств],
            [Показатели].[ИспКасПлан].[Все].[выдача кредитов],
            [Показатели].[ИспКасПлан].[приобретение акций] 
        } 
        * { [Measures].[Факт за день] } + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано'] 
        } 
        *  { [Measures].[Месяц] } 
    } on columns,
    Descendants  
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF  
    )  on rows  
from [ФО_Исполнение кассового плана] 
  ]]>
  </query>

  <query id="ChartOutcomesAll2">
    <![CDATA[
-- fo_0035_0001_data   
  with   
    member [Measures].[Месяц]   
    as '[Период].[Период].CurrentMember.Parent.Name'   
    member Measures.[Факт за день]   
    as 'IIF   
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000   
        )'   
   
select
    {
        {
            Except 
            (
                [Расходы].[ИспКасПлан].[Вид расходов].Members,
                {
                    [Расходы].[ИспКасПлан].[Все].['Значение не указано'],
                    [Расходы].[ИспКасПлан].[Все].[Итого] 
                } 
            ) 
        } 
        * { [Measures].[Факт за день] }
    } on columns,
    Descendants   
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF   
    )  on rows   
from  [ФО_Исполнение кассового плана_Расходы] 
  ]]>
</query>

</root>