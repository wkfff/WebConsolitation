<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="ICC_0001_0001_last_date">
    <![CDATA[ -- ICC_0001_0001_last_date
with
    member [Measures].[Ключ]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Properties("MEMBER_KEY")'
    member [Measures].[Последний месяц с данными]
    as 'order
        (
            filter
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Месяц].Members,
                [Measures].[За период] > 0 and
                not [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember is [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.DataMember
            ),
            [Measures].[Ключ],
            DESC
        ).Item(0).UniqueName'
select
    [Measures].[Последний месяц с данными] on columns
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Стоимость фиксированного набора товаров и услуг],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].DataMember,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта]
    )
    ]]>
  </query>

  <query id="ICC_0001_0001_prev_date">
    <![CDATA[ -- ICC_0001_0001_prev_date
with
    member [Measures].[Ключ]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Properties("MEMBER_KEY")'
    member [Measures].[Последний месяц предыдущего года]
    as 'order
        (
            filter
            (
                descendants
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%year%>],
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Месяц],
                    SELF
                ),
                [Measures].[За период] > 0 and
                not [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember is [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.DataMember
            ),
            [Measures].[Ключ],
            DESC
        ).Item(0).UniqueName'
select
    [Measures].[Последний месяц предыдущего года] on columns
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Стоимость фиксированного набора товаров и услуг],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].DataMember,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта]
    )
    ]]>
  </query>

  <query id="ICC_0001_0001_text">
    <![CDATA[ -- ICC_0001_0001_text
with
    member [Measures].[Значение на последнюю дату]
    as '
        (
            [Measures].[За период],
            <%last_date%>
        )'
    member [Measures].[Значение на дату для сравнения]
    as '
        (
            [Measures].[За период],
            <%prev_date%>
        )'
    member [Measures].[Прирост]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] - [Measures].[Значение на дату для сравнения],
            null
        )'
    member [Measures].[Темп прироста]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] / [Measures].[Значение на дату для сравнения],
            null
        )'
select
    {
        [Measures].[Значение на последнюю дату],
        [Measures].[Значение на дату для сравнения],
        [Measures].[Прирост],
        [Measures].[Темп прироста]
    } on columns
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Стоимость фиксированного набора товаров и услуг],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].DataMember,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта]
    )
    ]]>
  </query>

  <query id="ICC_0001_0001_grid">
    <![CDATA[ -- ICC_0001_0001_grid
with
    member [Measures].[Значение на последнюю дату]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%last_date%>
        )'
    member [Measures].[Значение на дату для сравнения]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%prev_date%>
        )'
    member [Measures].[Прирост]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] - [Measures].[Значение на дату для сравнения],
            null
        )'
    member [Measures].[Темп прироста]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] / [Measures].[Значение на дату для сравнения],
            null
        )'
    set [Территории]
    as '
        {
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация]
        }'
select
    {
        [Measures].[Значение на последнюю дату],
        [Measures].[Прирост]
    } * [Территории] on columns
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Индекс потребительских цен]
    )
    ]]>
  </query>
  
  <query id="ICC_0001_0001_v_grid">
    <![CDATA[ -- ICC_0001_0001_v_grid
with
    member [Measures].[Значение на последнюю дату]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%last_date%>
        )'
    member [Measures].[Значение на дату для сравнения]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%prev_date%>
        )'
    member [Measures].[Прирост]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] - [Measures].[Значение на дату для сравнения],
            null
        )'
    member [Measures].[Темп прироста]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] / [Measures].[Значение на дату для сравнения] * 100,
            null
        )'
    set [Территории]
    as '
        {
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация]
        }'
    set [Показатели]
    as '
        {
            [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Индекс потребительских цен],
            [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Индекс потребительских цен на продовольственные товары],
            [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Индекс потребительских цен на непродовольственные товары],
            [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Индекс потребительских цен (тарифов) на услуги]
        }'
select
    [Территории] on columns,
    [Показатели] on rows
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [Measures].[Значение на последнюю дату]
    )
    ]]>
  </query>

  <query id="ICC_0001_0001_h_grid">
    <![CDATA[
with
    member [Measures].[Значение на последнюю дату]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%last_date%>
        )'
    member [Measures].[Значение на дату для сравнения]
    as '
        (
            [Measures].[За период],
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.DataMember,
            <%prev_date%>
        )'
    member [Measures].[Прирост]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] - [Measures].[Значение на дату для сравнения],
             null
        )'
    member [Measures].[Темп прироста]
    as 'iif
        (
            not IsEmpty
            (
                [Measures].[Значение на последнюю дату]
            ) and not IsEmpty
            (
                [Measures].[Значение на дату для сравнения]
            ) and [Measures].[Значение на дату для сравнения] <> 0 and [Measures].[Значение на последнюю дату] <> 0,
            [Measures].[Значение на последнюю дату] / [Measures].[Значение на дату для сравнения] * 100,
            null
        )'
    set [Территории]
    as '
        {
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Уральский федеральный округ],
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация]
        }'
    set [Показатели]
    as ' filter
        (
            [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].Children,
            Left
            (
                [СЭП__Годовой сборник].[СЭП__Годовой сборник].CurrentMember.Name,
                6
            ) = "Индекс"
        )'
select
    [Территории] on columns,
    non empty [Показатели] on rows
from [СТАТ_СЭП_Годовой сборник]
where
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [Measures].[Значение на последнюю дату]
    )
    ]]>
  </query>
  
</root>