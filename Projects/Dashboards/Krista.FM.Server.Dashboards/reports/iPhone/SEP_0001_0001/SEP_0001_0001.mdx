<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="SEP_0001_0001_date">
    <![CDATA[ 
    -- SEP_0001_0001_date
with 
    set [Месяцы с данными] 
    as 'tail 
        (
            filter 
            (
                [Период__Период].[Период__Период].[Квартал],
                not IsEmpty
                (
                    ( 
                        [Measures].[Значение],
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].[Инвестиции в основной капитал за счет внебюджетных источников финансирования (на 1000 человек населения)],
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].[Город Южно-Сахалинск] 
                    )  
                )  
            ),
            1 
        )' 
    member [Measures].[Квартал]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
select
    [Measures].[Квартал] on columns,
    [Месяцы с данными] on rows  
from     [ЭО_СЭР_Комплексная оценка] 
where 
    (
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР] 
    ) 
  ]]>
  </query>

  <query id="shortRegionsNames">
    <![CDATA[
-- shortRegionsNames
with
    member Measures.[Сокращенное наименование]
    as '[Территории__РФ].[Территории__РФ].CurrentMember.Properties("Краткое наименование")'
select
    {
        Measures.[Сокращенное наименование]
    } on columns,
    {
        [Территории__РФ].[Территории__РФ].[МР ГО].AllMembers
    } on rows
from  [ЭО_СЭР_Комплексная оценка] 
]]>
  </query>
  
  <query id="SEP_0001_0001_table1">
    <![CDATA[
    --SEP_0001_0001_table1
with
    member [Measures].[Ед]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")'
    member [Measures].[Вес]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
    member [Measures].[Обратный]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Показатель обратный")'
    member [Measures].[Индикатор уровня1]
    as '   IIF
        (
            not isempty
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) and
            (
                Max
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )-Min
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )
            ) <>0,
            IIF
            (
                [Measures].[Обратный]="0",
                (
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )/
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )
                )
                *[Measures].[Вес],
                (
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        ) -
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )/
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )
                    *[Measures].[Вес]
                )
            ),
            null
        ) '
    member [Measures].[Индикатор уровня]
    as ' Sum
        (
            
            [Показатели__Комплексная оценка].currentmember.children
            ,
            [Measures].[Индикатор уровня1]
        )   '
    member [Measures].[динамика]
    as 'IIF
        (
            not isempty
            (
                (
                    ParallelPeriod
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].currentmember
                    ),
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )
            ) and
            (
                ParallelPeriod
                (
                    [Период__Период].[Период__Период].[Год],
                    1,
                    [Период__Период].[Период__Период].currentmember
                ),
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )<>0 and not isempty
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) and
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )<>0,
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )/
            (
                ParallelPeriod
                (
                    [Период__Период].[Период__Период].[Год],
                    1,
                    [Период__Период].[Период__Период].currentmember
                ),
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) ,
            IIF
            (
                (
                    ParallelPeriod
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].currentmember
                    ),
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )>0 and
                (
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )=0 and not isempty
                (
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                ) and not isempty
                (
                    (
                        ParallelPeriod
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].currentmember
                        ),
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )
                ),
                0,
                IIF
                (
                    (
                        ParallelPeriod
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].currentmember
                        ),
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )=0 and
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )>0 and not isempty
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    ) and not isempty
                    (
                        (
                            ParallelPeriod
                            (
                                [Период__Период].[Период__Период].[Год],
                                1,
                                [Период__Период].[Период__Период].currentmember
                            ),
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    ),
                    1,
                    null
                )
            )
        ) '
    member [Measures].[Индикатор динамики1]
    as ' IIF
        (
            (
                Max
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    [Measures].[динамика]
                )-Min
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    [Measures].[динамика]
                )
            )<>0 and not isempty( [Measures].[динамика] ),
            IIF
            (
                [Measures].[Обратный]="0",
                (
                    ( [Measures].[динамика] )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )/
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )
                *[Measures].[Вес] ,
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    ) - ( [Measures].[динамика] )
                )/
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )
                *[Measures].[Вес]
            ),
            null
        )'
    member [Measures].[Индикатор динамики]
    as ' Sum
        (
            [Показатели__Комплексная оценка].currentmember.children
            ,
            [Measures].[Индикатор динамики1]
        )  '
    member [Measures].[Код]
    as '[Показатели__Комплексная оценка].currentmember.properties("Код")'
    member [Measures].[Сводная оценка]
    as '[Measures].[Индикатор уровня]
        *0.4+[Measures].[Индикатор динамики]
        *0.6'
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по уровню]
    as '
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера].properties("<%subject%> коэффициент результата")  '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по динамике]
    as '
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера].properties("<%subject%> коэффициент результата")  '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Итоговая сводная оценка социально-экономического развития]
    as 'Round
    ([Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по уровню]
        *0.4+ [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по динамике]
        *0.6,3) '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению итоговой сводной оценки]
    as '0 '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала R]
    as '"A"'
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка социально-экономического развития муниципального образования]
    as '0   '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Интегральная оценка населением]
    as '
       Round( (
            [Measures].[Индикатор уровня],
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка населением ситуации в ключевых сферах деятельности органов местного самоуправления]
        ),3) '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению интегральной оценки населением]
    as '0     '
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала RP]
    as '"A"'
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка населением ситуации в ключевых сферах деятельности органов местного самоуправления1]
    as ' 0 '
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Гаджет]
        as '0'
select
    non empty
    {
    order(
        filter
        (
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
            right
            (
                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                10
            )<>"DATAMEMBER"
        ),
        ([Measures].[Значение], [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Итоговая сводная оценка социально-экономического развития] ),
        desc
        )
    }on rows,
    NON EMPTY
    {
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Итоговая сводная оценка социально-экономического развития],
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению итоговой сводной оценки],
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Гаджет],
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала R]
    } on columns
from     [ЭО_СЭР_Комплексная оценка]
where
    (
        <%period_cur_date%>,
        [Measures].[Значение],
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]
    )
  ]]>
  </query>

  <query id="SEP_0001_0001_table3">
    <![CDATA[
    --SEP_0001_0001_table3
with
    member [Measures].[Ед]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")'
    member [Measures].[Вес]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
    member [Measures].[Обратный]
    as '[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Показатель обратный")'
    member [Measures].[Индикатор уровня1]
    as '   IIF
        (
            not isempty
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) and
            (
                Max
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )-Min
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )
            ) <>0,
            IIF
            (
                [Measures].[Обратный]="0",
                (
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )/
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )
                )
                *[Measures].[Вес],
                (
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        ) -
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )/
                    (
                        Max
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )-Min
                        (
                            filter
                            (
                                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                                right
                                (
                                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                    10
                                )<>"DATAMEMBER"
                            ) ,
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    )
                    *[Measures].[Вес]
                )
            ),
            null
        ) '
    member [Measures].[Индикатор уровня]
    as ' Sum
        (
            
            [Показатели__Комплексная оценка].currentmember.children
            ,
            [Measures].[Индикатор уровня1]
        )   '
    member [Measures].[динамика]
    as 'IIF
        (
            not isempty
            (
                (
                    ParallelPeriod
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].currentmember
                    ),
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )
            ) and
            (
                ParallelPeriod
                (
                    [Период__Период].[Период__Период].[Год],
                    1,
                    [Период__Период].[Период__Период].currentmember
                ),
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )<>0 and not isempty
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) and
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )<>0,
            (
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            )/
            (
                ParallelPeriod
                (
                    [Период__Период].[Период__Период].[Год],
                    1,
                    [Период__Период].[Период__Период].currentmember
                ),
                (
                    [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                    [Measures].[Значение]
                )
            ) ,
            IIF
            (
                (
                    ParallelPeriod
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].currentmember
                    ),
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )>0 and
                (
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                )=0 and not isempty
                (
                    (
                        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                        [Measures].[Значение]
                    )
                ) and not isempty
                (
                    (
                        ParallelPeriod
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].currentmember
                        ),
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )
                ),
                0,
                IIF
                (
                    (
                        ParallelPeriod
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].currentmember
                        ),
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )=0 and
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    )>0 and not isempty
                    (
                        (
                            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                            [Measures].[Значение]
                        )
                    ) and not isempty
                    (
                        (
                            ParallelPeriod
                            (
                                [Период__Период].[Период__Период].[Год],
                                1,
                                [Период__Период].[Период__Период].currentmember
                            ),
                            (
                                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember,
                                [Measures].[Значение]
                            )
                        )
                    ),
                    1,
                    null
                )
            )
        ) '
    member [Measures].[Индикатор динамики1]
    as ' IIF
        (
            (
                Max
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    [Measures].[динамика]
                )-Min
                (
                    filter
                    (
                        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                        right
                        (
                            [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                            10
                        )<>"DATAMEMBER"
                    ) ,
                    [Measures].[динамика]
                )
            )<>0 and not isempty( [Measures].[динамика] ),
            IIF
            (
                [Measures].[Обратный]="0",
                (
                    ( [Measures].[динамика] )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )/
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )
                *[Measures].[Вес] ,
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    ) - ( [Measures].[динамика] )
                )/
                (
                    Max
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )-Min
                    (
                        filter
                        (
                            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                            right
                            (
                                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                                10
                            )<>"DATAMEMBER"
                        ) ,
                        [Measures].[динамика]
                    )
                )
                *[Measures].[Вес]
            ),
            null
        )'
    member [Measures].[Индикатор динамики]
    as ' Sum
        (
            [Показатели__Комплексная оценка].currentmember.children
            ,
            [Measures].[Индикатор динамики1]
        )  '
    member [Measures].[Код]
    as '[Показатели__Комплексная оценка].currentmember.properties("Код")'
    member [Measures].[Сводная оценка]
    as '[Measures].[Индикатор уровня]
        *0.4+[Measures].[Индикатор динамики]
        *0.6'
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по уровню]
    as '
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера],
            [Measures].[Индикатор уровня]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера].properties("<%subject%> коэффициент результата")  '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по динамике]
    as '
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].properties("<%subject%> коэффициент результата") +
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера],
            [Measures].[Индикатор динамики]
        )
        *[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера].properties("<%subject%> коэффициент результата")  '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Итоговая сводная оценка социально-экономического развития]
    as 'Round
    ([Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по уровню]
        *0.4+ [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Сводная оценка социально-экономического развития по динамике]
        *0.6,3) '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению итоговой сводной оценки]
    as '0 '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала R]
    as '"A"'
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка социально-экономического развития муниципального образования]
    as '0   '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Интегральная оценка населением]
    as '
       Round( (
            [Measures].[Индикатор уровня],
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка населением ситуации в ключевых сферах деятельности органов местного самоуправления]
        ),3) '
    member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению интегральной оценки населением]
    as '0     '
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала RP]
    as '"A"'
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка населением ситуации в ключевых сферах деятельности органов местного самоуправления1]
    as ' 0 '
        member [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Гаджет]
        as '0'
select
    non empty
    {
    order(
        filter
        (
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
            right
            (
                [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                10
            )<>"DATAMEMBER"
        ),
        ([Measures].[Значение],[Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Интегральная оценка населением] ),
        desc
        )
    }on rows,
    NON EMPTY
    {
        
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Интегральная оценка населением] ,
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Место (ранг) в рейтинге по значению интегральной оценки населением],
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Гаджет],
        [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Шкала RP]
        
    } on columns
from     [ЭО_СЭР_Комплексная оценка]
where
    (
        <%period_cur_date%>,
        [Measures].[Значение],
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]
    )
  ]]>
  </query>

  <query id="SEP_0001_0001_v_tabel1">
    <![CDATA[
    --SEP_0001_0001_v_tabel1    
with 
    member [Measures].[Единицы измерения] 
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")' 
    member [Measures].[Весовой коэффициент]
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
select
    non empty 
    {
        {
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.] 
        }  
        *  
        {
            [Measures].[Единицы измерения],
            [Measures].[Весовой коэффициент]
        },
        {
            filter   
            (
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                right   
                (
                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                    10   
                )<>"DATAMEMBER"  and not isempty(([Measures].[Значение])) 
            )  
        }   
        * {  [Measures].[Значение]}   
    }on rows,
    NON EMPTY 
    {
        filter 
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Социальная сфера].children  ,
            not isempty(([Measures].[Значение])) 
        ) 
    } on columns   
from     [ЭО_СЭР_Комплексная оценка]   
where   
    (
        <%period_cur_date%>,
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]   
    )  
  ]]>
  </query>
  
  <query id="SEP_0001_0001_v_tabel2">
    <![CDATA[
     --SEP_0001_0001_v_tabel2
with 
    member [Measures].[Единицы измерения] 
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")' 
    member [Measures].[Весовой коэффициент]
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
select
    non empty 
    {
        {
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.] 
        }  
        *  
        {
            [Measures].[Единицы измерения],
            [Measures].[Весовой коэффициент]
        },
        {
            filter   
            (
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                right   
                (
                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                    10   
                )<>"DATAMEMBER"  and not isempty(([Measures].[Значение])) 
            )  
        }   
        * {  [Measures].[Значение]}   
    }on rows,
    NON EMPTY 
    {
        filter 
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Экономическая сфера].children  ,
            not isempty(([Measures].[Значение])) 
        ) 
    } on columns   
from     [ЭО_СЭР_Комплексная оценка]   
where   
    (
         <%period_cur_date%>,
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]   
    )  
]]>
  </query>

  <query id="SEP_0001_0001_v_tabel3">
    <![CDATA[
     --SEP_0001_0001_v_tabel3
with 
    member [Measures].[Единицы измерения] 
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")' 
    member [Measures].[Весовой коэффициент]
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
select
    non empty 
    {
        {
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.] 
        }  
        *  
        {
            [Measures].[Единицы измерения],
            [Measures].[Весовой коэффициент]
        },
        {
            filter   
            (
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                right   
                (
                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                    10   
                )<>"DATAMEMBER"  and not isempty(([Measures].[Значение])) 
            )  
        }   
        * {  [Measures].[Значение]}   
    }on rows,
    NON EMPTY 
    {
        filter 
        (
            [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Финансовая сфера].children  ,
            not isempty(([Measures].[Значение])) 
        ) 
    } on columns   
from     [ЭО_СЭР_Комплексная оценка]   
where   
    (
         <%period_cur_date%>,
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]   
    )  
]]>
  </query>

  <query id="SEP_0001_0001_v_tabel4">
    <![CDATA[
     --SEP_0001_0001_v_tabel4
with 
    member [Measures].[Единицы измерения] 
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("Единица измерения")' 
    member [Measures].[Весовой коэффициент]
    as ' [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].currentmember.properties("<%subject%> коэффициент результата")'
select
    non empty 
    {
        {
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.] 
        }  
        *  
        {
            [Measures].[Единицы измерения],
            [Measures].[Весовой коэффициент]
        },
        {
            filter   
            (
                [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Дальневосточный федеральный округ].[Сахалинская область].[Сахалинская обл.].children       ,
                right   
                (
                    [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                    10   
                )<>"DATAMEMBER"  and not isempty(([Measures].[Значение])) 
            )  
        }   
        * {  [Measures].[Значение]}   
    }on rows,
    NON EMPTY 
    {
        filter 
        (
                [Показатели__Комплексная оценка].[Показатели__Комплексная оценка].[Все].[Комплексная оценка СЭР_Сахалин].[Исходные показатели].[Оценка населением ситуации в ключевых сферах деятельности органов местного самоуправления].children  ,
            not isempty(([Measures].[Значение])) 
        ) 
    } on columns   
from     [ЭО_СЭР_Комплексная оценка]   
where   
    (
         <%period_cur_date%>,
        [Источники данных].[Источники данных].[Все источники данных].[ЭО СЭР]   
    )  
]]>
  </query>

  <query id="SE_0002_0009_chart2">
    <![CDATA[
    --SE_0002_0009_chart2
with       
    member [Measures].[За период ]       
    as '[Measures].[За период] - 100'        
    member [Период].[Год Квартал Месяц].[Наши дни]       
    as '[Период].[Год Квартал Месяц].[Данные всех периодов]<%period_month%>'
    set [Территории ]       
    as 'Filter    
        (
            [Территории].[СЭП].Children,
            [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "<%region%>"   
        )'  
select
    {
        {
            [Территории].[СЭП].[Российская Федерация]
        } + {[Территории].[СЭП].[<%region%>]} + { [Территории ]}
    }  on rows,
    { [Measures].[За период ] } on   columns
from  [СТАТ_СЭП_Годовой сборник]       
where       
    (
        [Период].[Год Квартал Месяц].[Наши дни],
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[Значение не указано],
        [ОК].[ОКФС].[Все формы собственности].[Значение не указано],
        [ОК].[Основные возрастные группы].[Все возрастные группы].[Значение не указано],
        [Тип местности].[Все типы местности].[Значение не указано],
        [Половая принадлежность].[Все типы].[Значение не указано],
        [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Предприятия и организации].[Индекс промышленного производства]
    ) 
]]>
  </query>

  <query id="SE_0002_0009_index">
    <![CDATA[
    --SE_0002_0009_index
with       
    member [Measures].[За период ]       
    as '[Measures].[За период] - 100'        
    member [Период].[Год Квартал Месяц].[Наши дни]       
    as '[Период].[Год Квартал Месяц].[Данные всех периодов]<%period_month%>'    
select
    {
        {
            [Территории].[СЭП].[<%region%>]
        }
    }  on rows,
    { [Measures].[За период ] } on   columns
from  [СТАТ_СЭП_Годовой сборник]       
where       
    (
        [Период].[Год Квартал Месяц].[Наши дни],
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[Значение не указано],
        [ОК].[ОКФС].[Все формы собственности].[Значение не указано],
        [ОК].[Основные возрастные группы].[Все возрастные группы].[Значение не указано],
        [Тип местности].[Все типы местности].[Значение не указано],
        [Половая принадлежность].[Все типы].[Значение не указано],
        [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Предприятия и организации].[Индекс промышленного производства]
    ) 
]]>
  </query>

  <query id="SE_0002_0009_index_grown_leaders">
    <![CDATA[
    --SE_0002_0009_index_grown_leaders
with     
    member [Measures].[Индекс]    
    as '    
        (
            [Measures].[За период],
            [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Предприятия и организации].[Индекс промышленного производства]    
        ) - 100'     
     set [Территории с ростом] 
    as ' Order 
        (
            Filter 
            (
                [Территории].[СЭП].Children,
                not 
                (
                    IsEmpty ( [Measures].[Индекс] )  
                ) and ( [Measures].[Индекс] > 0 ) and
                (
                    [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "<%region%>"
                ) 
            ),
            ( [Measures].[Индекс] ),
            BDESC 
        )' 
    set [Территории со снижением] 
    as ' Order 
        (
            Filter 
            (
                [Территории].[СЭП].Children,
                not 
                (
                    IsEmpty ( [Measures].[Индекс] ) 
                ) and ( [Measures].[Индекс] < 0 ) and
                (
                    [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "<%region%>"
                ) 
            ),
            ( [Measures].[Индекс] ),
            BDESC 
        )' 
    set [Рост ] 
    as 'Head 
        (
            [Территории с ростом],
            3 
        )' 
    set [Снижение ] 
    as 'Tail 
        (
            [Территории со снижением],
            3 
        )' 
select
    {  [Measures].[Индекс]  }  on columns,
    { { [Рост ]} +  [Снижение ]} on rows
from  [СТАТ_СЭП_Годовой сборник]    
where    
    (
        [Период].[Год Квартал Месяц].[Данные всех периодов]<%period_month%>,
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[Значение не указано],
        [ОК].[ОКФС].[Все формы собственности].[Значение не указано],
        [ОК].[Основные возрастные группы].[Все возрастные группы].[Значение не указано],
        [Тип местности].[Все типы местности].[Значение не указано],
        [Половая принадлежность].[Все типы].[Значение не указано]    
    )    
]]>
  </query>

  <query id="SE_0002_0009_table1">
    <![CDATA[
    --SE_0002_0009_table1
   with 
    member [Measures].[Отгружено] 
    as ' 
        (
            [Measures].[За период],
            [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Предприятия и организации].[Отгружено товаров собственного производства, выполнено работ и услуг собственным силами] 
        )' 
    member [Measures].[Индекс] 
    as ' 
        (
            [Measures].[За период],
            [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Предприятия и организации].[Индекс промышленного производства] 
        )' 
    member [Measures].[Доля ] 
    as 'IIF
        (
            not isEmpty
            (
                (
                    [Measures].[Отгружено],
                    [Территории].[СЭП].[Все территории].[<%region%>]
                )
            ) and not
            (
                (
                    [Measures].[Отгружено],
                    [Территории].[СЭП].[Все территории].[<%region%>]
                )  = 0
            ) and not
            (
                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[<%region%>]
            ) and not
            (
                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[Российская Федерация]
            ) ,
            [Measures].[Отгружено] /
            (
                [Measures].[Отгружено],
                [Территории].[СЭП].[Все территории].[<%region%>]
            ),
            null
        )
        * 100' 
    set [Территории ] 
    as ' filter 
        (
            [Территории].[СЭП].Children ,
            [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "<%region%>"
        )' 
    member Measures.[Ранг по РФ] 
    as 'IIF 
        (
            IsEmpty ( [Measures].[Отгружено]  ) or 
            (
                [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "РФ" 
            ) or 
            (
                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[Российская Федерация] 
            ) ,
            null,
            Rank 
            (
                [Территории].[СЭП].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Территории ],
                        not 
                        (
                            IsEmpty ( [Measures].[Отгружено]  ) or 
                            (
                                [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "РФ" 
                            ) or 
                            (
                                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[Российская Федерация] 
                            ) 
                        ) 
                    ),
                    ( [Measures].[Отгружено]  ),
                    BDESC 
                ),
                ( [Measures].[Отгружено]  ) 
            ) 
        ) ' 
    member measures.[Худший ранг РФ] 
    as ' max 
        (
            [Территории ],
            Measures.[Ранг по РФ] 
        ) ' 
    member Measures.[Ранг по РФ доля] 
    as 'IIF 
        (
            IsEmpty ( [Measures].[Индекс]) or 
            (
                [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "РФ" 
            ) or 
            (
                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[Российская Федерация] 
            ) ,
            null,
            Rank 
            (
                [Территории].[СЭП].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Территории ],
                        not 
                        (
                            IsEmpty ( [Measures].[Индекс] ) or 
                            (
                                [Территории].[СЭП].CurrentMember.Properties("Принадлежность") = "РФ" 
                            ) or 
                            (
                                [Территории].[СЭП].CurrentMember is [Территории].[СЭП].[Все территории].[Российская Федерация] 
                            ) 
                        ) 
                    ),
                    ( [Measures].[Индекс] ),
                    BDESC 
                ),
                ( [Measures].[Индекс]) 
            ) 
        ) ' 
    member measures.[Худший ранг РФ доля] 
    as ' max 
        (
            [Территории ],
            Measures.[Ранг по РФ доля] 
        ) ' 
select
    {
        {
            [Measures].[Индекс],
            [Measures].[Ранг по РФ доля],
            [measures].[Худший ранг РФ доля],
            [Measures].[Отгружено],
            [Measures].[Ранг по РФ],
            [measures].[Худший ранг РФ],
            [Measures].[Доля ] 
        } 
    }  on columns,
    {
        {
            [Территории].[СЭП].[Все территории].[Российская Федерация]
        } + 
        {
            [Территории].[СЭП].[Все территории].[<%region%>]
        } + {[Территории ] }
    } on rows 
from  [СТАТ_СЭП_Годовой сборник] 
where 
    (
        [Период].[Год Квартал Месяц].[Данные всех периодов]<%period_month%>,
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[Значение не указано],
        [ОК].[ОКФС].[Все формы собственности].[Значение не указано],
        [ОК].[Основные возрастные группы].[Все возрастные группы].[Значение не указано],
        [Тип местности].[Все типы местности].[Значение не указано],
        [Половая принадлежность].[Все типы].[Значение не указано] 
    ) 
    ]]>
  </query>
</root>