<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0009_0002_nonEmptySource">
    <![CDATA[
-- FO_0009_0002_nonEmptySource
with
    member [Measures].[ДанныеНа]
    as '[Источники данных].CurrentMember.Name'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Источники данных].Members,
                not IsEmpty
                (
                    [Measures].[Бюджетные расходы]
                )
            )
        ) '
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from   [ФО_Фонды_Бюджетные расходы]
]]>
  </query>

  <query id="FO_0009_0002_grid">
    <![CDATA[
-- FO_0009_0002_grid
with           
    set [Городские округа]           
    as ' Filter           
        (
            Descendants           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Все районы].[Консолидированный бюджет Ярославской области],
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                SELF           
            ),
            not           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Parent.DataMember           
            ) and           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "ГО"           
            )           
        )'           
    set [Муниципальные районы]           
    as 'Filter           
        (
            Descendants           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Все районы].[Консолидированный бюджет Ярославской области],
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                SELF           
            ),
            not           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Parent.DataMember           
            ) and           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "МР"           
            )           
        )'           
    member [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего]           
    as 'Aggregate ( [Муниципальные районы] )'           
    set [Поселения]           
    as 'Generate           
        (
            [Муниципальные районы],
            {
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember          
            } + Filter           
            (
                Descendants           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember,
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 06],
                    SELF           
                ),
                not           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Parent.DataMember           
                ) and           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "СП" or [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "ГП"           
                )           
            )           
        )'   
    set [Поселения без районов]           
    as 'Generate           
        (
            [Муниципальные районы],
            Filter           
            (
                Descendants           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember,
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 06],
                    SELF           
                ),
                not           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Parent.DataMember           
                ) and           
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "СП" or [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "ГП"           
                )           
            )           
        )'         
    set [Виды расходов ]           
    as 'Filter           
        (
            Generate           
            (
                Descendants           
                (
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода],
                    SELF           
                ),
                {
                    [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember           
                } + Generate           
                (
                    Descendants           
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember,
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 1],
                        SELF           
                    ),
                    {
                       [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember         
                    } +
                    Descendants           
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember,
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 2],
                        SELF           
                    )           
                )           
            ) - {[Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Численность населения]},
            not           
            (
                [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember is [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Parent.DataMember           
            ) 
             and not  
                (
                    [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 1] and
                    Count
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Children  
                    ) <> 0
                )
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[ВСЕГО РАСХОДЫ]           
    as 'IIF         
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            Aggregate         
            (
                {
                        Filter         
                        (
                            [Виды расходов ],
                            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 2] and
                            (
                              not         
                              (
                                  [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember is [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Parent.DataMember         
                              ) and 
                              (
                                [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Properties("Примечание") = "Расходы"
                              )         
                            )
                            or
                            (
                              (
                                 [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 1]
                              )  and
                              Count
                              (
                                  [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Children  
                              ) = 0 and
                              (
                                 [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Properties("Примечание") = "Расходы"
                              )
                            ) 
                       ) +
                             {
                                [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Прочие (2%)],
                                [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Налог на имущество организаций],
                                [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Земельный налог]
                             }
                }         
            )         
        )'           
    member [Measures].[Бюджетные расходы ]           
    as 'IIF           
        (
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода] and not           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Уровень]           
            ) and not           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Показатели, коэффициенты, нормативы]           
            ) and not           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия]           
            ) and Count([Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Children) <> 0,
            Sum           
            (
                Filter           
                (
                    Descendants           
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember,
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 2],
                        SELF           
                    ),
                    not           
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember is [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Parent.DataMember           
                    ) and 
                              (
                                [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Properties("Примечание") = "Расходы"
                              )           
                ),
                [Measures].[Бюджетные расходы]           
            ),
            [Measures].[Бюджетные расходы]           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF       
                (
                    IsEmpty      
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]
                    ) or
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]     
                    ) = 0,
                    null,
                    1000    
                    *       
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы]     
                    ) /       
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]      
                    )     
                ),
                LookupCube
                (
                    "[ФО_Фонды_Показатели]",
                    "
                    (
                        [Measures].[Значение],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Налоговый потенциал на душу населения],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    )"
                )        
            )            
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс налогового потенциала]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF 
                (
                    IsEmpty 
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        ) 
                    ) or  
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        ) 
                    ) = 0,
                    null,
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember 
                        ) /
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        )  
                    ) 
                ),
                LookupCube
                (
                    "[ФО_Фонды_Распределение фондов]",
                    "
                    (
                        [Measures].[ИНП],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    )"
                )           
            )           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF 
                (
                    IsEmpty 
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения] 
                    ) or 
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения] 
                    ) = 0,
                    null,
                    1000 
                    * 
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[ВСЕГО РАСХОДЫ] 
                    ) / 
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения] 
                    ) 
                ),
                LookupCube
                (
                    "[ФО_Фонды_Показатели]",
                    "
                    (
                        [Measures].[Значение],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Расходы на душу населения],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    )"
                )            
            )           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF      
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF 
                (
                    IsEmpty 
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        ) 
                    ) or 
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        ) 
                    ) = 0,
                    null,
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember 
                        ) / 
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                        ) 
                    ) 
                ),
                LookupCube
                (
                    "[ФО_Фонды_Распределение фондов]",
                    "
                    (
                        [Measures].[ИБР],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    )"
                )           
            )           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность до выравнивания]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF
                (
                    IsEmpty
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов]
                    ) or
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов]
                    ) = 0,
                    null,
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс налогового потенциала]
                    ) /
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов]
                    )
                ),
                LookupCube
                (
                    "[ФО_Фонды_Показатели]",
                    "
                    (
                        [Measures].[Значение],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Бюджетная обеспеченность до выравнивания],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    )"
                )          
            )                
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
                Sum           
                (
                    [Муниципальные районы],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember           
                ),
                LookupCube           
                (
                    "[ФО_Фонды_Распределение фондов]",
                    "           
                    (
                        [Measures].[Сумма],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений].[Дотации на выравнивание бюджетной обеспеченности поселений из фонда финансовой поддержки поселений],
                        " + MemberToStr           
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember           
                        ) + "           
                    )"           
                ) / 1000          
            )                 
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность после выравнивания]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] or
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                IIF    
                (
                    IsEmpty    
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов] 
                            * [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения] 
                            * 
                            (
                                [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                            ) / 1000 
                        ) 
                    ) or    
                    (
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов] 
                            * [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения] 
                            * 
                            (
                                [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                                [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего] 
                            ) / 1000 
                        ) 
                    ) = 0,
                    null,
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность до выравнивания] +
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]   
                    ) /    
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов]   
                        * [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]   
                        *   
                        (
                            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего]  
                        ) / 1000  
                    ) + [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность до выравнивания]  
                    
                ),
                LookupCube           
                (
                    "[ФО_Фонды_Показатели]",
                    "           
                    (
                        [Measures].[Значение],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Бюджетная обеспеченность после выравнивания],
                        " + MemberToStr           
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember           
                        ) + "           
                    )"           
                )
            )           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на обеспечение сбалансированности бюджетов]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
                Sum           
                (
                    [Муниципальные районы],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember           
                ),
                LookupCube           
                (
                    "[ФО_Фонды_Распределение фондов]",
                    "           
                    (
                        [Measures].[Сумма],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений].[Дотации на обеспечение сбалансированности бюджетов поселений из фонда финансовой поддержки поселений],
                        " + MemberToStr           
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember           
                        ) + "           
                    )"           
                ) / 1000                 
            )           
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[ДОТАЦИИ ВСЕГО]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
                Sum           
                (
                    [Муниципальные районы],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember           
                ),
                LookupCube           
                (
                    "[ФО_Фонды_Распределение фондов]",
                    "           
                    (
                        [Measures].[Сумма],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                        <%selected_variant%>,
                        [Источники данных].CurrentMember,
                        [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений].DataMember,
                        " + MemberToStr           
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember           
                        ) + "           
                    )"           
                ) / 1000    
            )  
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF 
            (
              [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
              Sum
              (
                 [Муниципальные районы],
                 [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы]
              ),
              LookupCube
              (
                  "[ФО_Фонды_Показатели]",
                  "   (
                          [Measures].[Значение],
                          [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                          <%selected_variant%>,
                          [Источники данных].CurrentMember,
                          [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений],
                          [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Налоговые доходы],
                          " + MemberToStr
                          (
                              [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                          ) + "
                      )
                  "
              ) / 1000
             )  
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF 
            (
              [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
              Sum
              (
                 [Муниципальные районы],
                 [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы] 
              ),
              LookupCube
              (
                  "[ФО_Фонды_Показатели]",
                  "   (
                          [Measures].[Значение],
                          [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                          <%selected_variant%>,
                          [Источники данных].CurrentMember,
                          [Фонды__Типы фондов].[Фонды__Типы фондов].[Все].[Фонд финансовой поддержки поселений],
                          [Показатели__Фонды].[Показатели__Фонды].[Все показатели].[Неналоговые доходы],
                          " + MemberToStr
                          (
                              [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                          ) + "
                      )
                  "
              ) / 1000
            )  
        )'           
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
                Sum           
                (
                    [Муниципальные районы],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения]           
                ),
                LookupCube
                (
                    "[ФО_Показатели для планирования]",
                    "
                    (
                        [Measures].[Факт],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].PrevMember,
                        [Источники данных].CurrentMember,
                        [Организации__Сопоставимый планирование].[Организации__Сопоставимый планирование].[Все].[Территориальный орган федеральной службы государственной статистики по области],
                        [Показатели__Показатели для планирования Сопост].[Показатели__Показатели для планирования Сопост].[Все показатели].[Данные по численности населения поселений].[Численность населения поселений],
                        " + MemberToStr
                        (
                            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember
                        ) + "
                    ) "
                )                   
            )           
        )'           

    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)_]
    as 'IIF
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF           
            (
                [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего],
                Sum           
                (
                    [Муниципальные районы],
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)]          
                ),
                IIF
                (
                    [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Level is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 04],
                    Sum
                    (
                          Filter           
                          (
                              Descendants           
                              (
                                  [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember,
                                  [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Районы уровень 06],
                                  SELF           
                              ),
                              not           
                              (
                                  [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Parent.DataMember           
                              ) and           
                              (
                                  [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "СП" or [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember.Properties("Тип территории") = "ГП"           
                              )           
                          ),
                          [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)]
                    ),
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[ВСЕГО РАСХОДЫ] - 
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы] - 
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы] - 
                    [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]
                )
            )    
        )'
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)]
    as 'IIF
        (
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)_] < 0,
            0,
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)_]
        )'
     
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Дефицит]
    as 'IIF
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            IIF
            (
                IsEmpty
                (
                    (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы] + 
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы] + 
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]
                    )
                ) or
                (
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы] + 
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы] +
                        [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]
                ) = 0,
                null,
                100
                * [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)] /
                (
                     [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы] + 
                     [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы] + 
                     [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности]
                )
            )
        )'
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на сбалансированость (расчётная)]
    as 'IIF
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            (
                [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на обеспечение сбалансированности бюджетов]
            ) - 
            (
               [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Повышение заработной платы работникам бюджетной сферы ]
            )   
        )'  
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[Повышение заработной платы работникам бюджетной сферы ]
    as 'IIF
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Повышение заработной платы работникам бюджетной сферы] / 1000
        )    '
    member [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Показатели, коэффициенты, нормативы]           
    as '[Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name'           
    member [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия]           
    as 'IIF           
        (
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 2],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Parent.Name,
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name           
        )'           
    member [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Уровень]      
    as 'IIF  
        (
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level is [Расходы__Виды расходов].[Расходы__Виды расходов].[Вид расхода 1] and Count  
            (
                [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Children  
            ) = 0,
            "Вид расхода 1 без потомков",
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Level.Name 
        )'      
    member [Расходы__Виды расходов].[Расходы__Виды расходов].[РАСХОДЫ]           
    as 'IIF           
        (
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].CurrentMember is [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия],
            [Расходы__Виды расходов].[Расходы__Виды расходов].CurrentMember.Name,
            null           
        )'           
select
    {
        {
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Полномочия]           
        } +           
        {
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Показатели, коэффициенты, нормативы]           
        } + [Поселения] +           
        {
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Всего]           
        } +           
        {
            [Районы__Сопоставимый План].[Районы__Сопоставимый План].[Уровень]           
        }           
    } on columns,
    {
        {
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговые доходы],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Неналоговые доходы],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Численность населения],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[РАСХОДЫ]           
        } + Filter           
        (
            [Виды расходов ] +           
            {
                [Расходы__Виды расходов].[Расходы__Виды расходов].[ВСЕГО РАСХОДЫ]           
            } -
            {
                [Расходы__Виды расходов].[Расходы__Виды расходов].[Все расходы].[Расходы по поселениям].[Повышение заработной платы работникам бюджетной сферы]
            },
            not IsEmpty([Measures].[Бюджетные расходы])           
        ) +           
        {
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Налоговый потенциал на душу населения],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс налогового потенциала],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Расходы на душу населения],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Индекс бюджетных расходов],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность до выравнивания],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на выравнивание бюджетной обеспеченности],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Бюджетная обеспеченность после выравнивания],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Превышение расходов над доходами (налоговые + неналоговые + дотация)],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Дефицит],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на сбалансированость (расчётная)],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Повышение заработной платы работникам бюджетной сферы ],            
            [Расходы__Виды расходов].[Расходы__Виды расходов].[Дотация на обеспечение сбалансированности бюджетов],
            [Расходы__Виды расходов].[Расходы__Виды расходов].[ДОТАЦИИ ВСЕГО]           
        }           
    } on rows           
from [ФО_Фонды_Бюджетные расходы]           
where           
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
        [Measures].[Бюджетные расходы ],
        <%selected_variant%>,
        [Источники данных].[Все источники данных].[<%data_source%>]
    )            
  ]]>
</query>

</root>