<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0002_0060_04_grid">
    <![CDATA[
WITH  
    MEMBER [Measures].[Фактическая численность]
    AS 'IIF   
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember is [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого],
            LookupCube   
            (
                "ФО_Форма14_Должности",
                "   
                (
                        AGGREGATE   
                        (
                            {
                                " + SetToStr([NonFilterRowSet]) + "   
                            },
                            (
                                 <%period_dimension%>,
                                [Measures].[Фактически на дату],
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета]   
                            )                             
                    )   
                )"   
            )  ,
            LookupCube   
            (
                "ФО_Форма14_Должности" ,
                "   
                (
                    (
                         <%period_dimension%>,
                        [Measures].[Фактически на дату],
                        " +  MemberToStr   
                        (
                            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember   
                        ) + ",
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета]  
                    )    
                )"   
            )   
        )'    
            MEMBER [Measures].[Плановая численность]
    AS 'IIF
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember is [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого],
            LookupCube
            (
                "ФО_Форма14_Должности",
                "
                (
                        AGGREGATE
                        (
                            {
                                " + SetToStr([NonFilterRowSet]) + "
                            },
                            (
                                 <%period_dimension%>,
                                [Measures].[Утверждено на дату],
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета]
                            )                        
                    )
                )"
            )  ,
            LookupCube
            (
                "ФО_Форма14_Должности" ,
                "
                (
                    (
                         <%period_dimension%>,
                        [Measures].[Утверждено на дату],
                        " +  MemberToStr
                        (
                            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember
                        ) + ",
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета]
                    )
                )"
            )
        )'
    member [Measures].[Плановые расходы на одного работника органа государственной власти]    
    as 'IIF     
        (
            (IsEmpty   
            (
                [Measures].[Плановая численность]   
            ) OR  IsEmpty    
            (
                [Measures].[Годовые назначения]    
            ))
            OR([Measures].[Плановая численность]=0),
            0,
            [Measures].[Годовые назначения]/[Measures].[Плановая численность]  
        )'  ,
        format_string = '0.00'    
    member [Measures].[Фактические расходы на одного работника органа государственной власти]    
    as 'IIF 
        (
            (IsEmpty 
            (
                [Measures].[Фактическая численность] 
            ) OR  IsEmpty ( [Measures].[Факт] ))
            OR([Measures].[Фактическая численность]=0),
            0,
            [Measures].[Факт]/[Measures].[Фактическая численность] 
        )'  ,
        format_string = '0.00'    
    member [Measures].[Годовые назначения ] 
    as '[Measures].[Годовые назначения]/1000' 
    member [Measures].[Факт ] 
    as '[Measures].[Факт]/1000' 
    member [Measures].[Отклонение от годовых назначений ] 
    as '[Measures].[Отклонение от годовых назначений]/1000' 
    member [Measures].[Плановые расходы на одного работника органа государственной власти ] 
    as '[Measures].[Плановые расходы на одного работника органа государственной власти]/1000' 
    member [Measures].[Фактические расходы на одного работника органа государственной власти ] 
    as '[Measures].[Фактические расходы на одного работника органа государственной власти]/1000' 
    SET [NonFilterColumnSet]             
    AS '             
        {
            [Measures].[Годовые назначения ] ,
            [Measures].[Факт ] ,
            [Measures].[Процент исполнения плановых назначений] ,
            [Measures].[Отклонение от годовых назначений ] ,
            [Measures].[Плановая численность],
            [Measures].[Фактическая численность],
            [Measures].[Плановые расходы на одного работника органа государственной власти ],
            [Measures].[Фактические расходы на одного работника органа государственной власти ]
        }'             
    SET [NonFilterRowSet]              
    AS ' filter              
        (
            Descendants      
            (
                Except      
                (
                    [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].children ,
                    [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].[Несопоставленные данные] 
                ) ,
                [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
                SELF              
            )     ,
            not [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember.is_datamember and not IsEmpty ( [Measures].[Факт] ) 
        ) '       
    member [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]        
    as 'Aggregate([NonFilterRowSet])'      
SELECT
    [NonFilterColumnSet] ON COLUMNS ,
    {
        [NonFilterRowSet] ,
        [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]         
    } ON ROWS             
FROM [ФО_МесОтч_СпрРасходыДоп]             
WHERE             
    (
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего] ,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
        <%period_dimension%> ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта]             
    )                                 
 
                                    
                                                 
]]>
  </query>

  <query id="FO_0002_0060_04_date">
    <![CDATA[
with   
    MEMBER [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]   
    AS ' Aggregate   
        (
            {
                Except   
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].Children ,
                    {
                        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Несопоставленные данные]   
                    }    
                )   
            }    
        )'   
    member [Measures].[ДанныеНа]   
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'   
    set [NonEmptySet]   
    as 'Tail   
        (
            Filter   
            (
                Descendants   
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Год],
                    SELF   
                ),
                not IsEmpty   
                (
                    [Measures].[Среднегодовое количество_выполнено]   
                )   
            ),
            1   
        )'   
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows   
from  [ФО_ГодОтч_Сеть Штаты Контингент]   
where   
    (
         [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта] ,
        [КСШК__Сопоставимый].[КСШК__Сопоставимый].[Все].[Штатные единицы] ,
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Slicer]   
    )     
    ]]>
  </query>
</root>