<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0002_0060_01_grid">
    <![CDATA[
with      
    member [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ]      
    as 'Aggregate      
        (
            {
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа]      
            }      
        )'      
    member [Measures].[Годовые назначения ]      
    as '[Measures].[Годовые назначения] / 1000'      
    member [Measures].[Факт ]      
    as '[Measures].[Факт] / 1000'      
    member [Measures].[Отклонение от годовых назначений ]   
    as '[Measures].[Отклонение от годовых назначений] / 1000'  
    member [Measures].[Факт_прошлый год ]  
    as '[Measures].[Факт_прошлый год]/ 1000' 
    member [Measures].[Отклонение от прошлого года ] 
    as '[Measures].[Отклонение от прошлого года]/ 1000' 
        member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]  
    as 'Aggregate
        (
            {
                filter 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                    not [Районы__Сопоставимый].[Районы__Сопоставимый].currentmember.is_datamember and not IsEmpty ([Measures].[Факт]) and not IsEmpty 
                    (
                        [Measures].[Годовые назначения] 
                    ) and not IsEmpty 
                    (
                        [Measures].[Отклонение от годовых назначений] 
                    ) and not IsEmpty ([Measures].[Факт_прошлый год]) and not IsEmpty 
                    (
                                  [Measures].[Отклонение от прошлого года] 
                    ) 
                )
            }  
        ) '  
select
    {
        [Measures].[Годовые назначения ],
        [Measures].[Факт ],
        [Measures].[Процент исполнения плановых назначений],
        [Measures].[Отклонение от годовых назначений ],
        [Measures].[Факт_прошлый год ],
        [Measures].[Темп роста к прошлому году] ,
        [Measures].[Отклонение от прошлого года ]    
    } on columns,
    {
        filter
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
            not [Районы__Сопоставимый].[Районы__Сопоставимый].currentmember.is_datamember
            and not IsEmpty ([Measures].[Факт])
            and not IsEmpty ([Measures].[Годовые назначения])
            and not IsEmpty ([Measures].[Отклонение от годовых назначений])
            and not IsEmpty ([Measures].[Факт_прошлый год])
            and not IsEmpty ([Measures].[Отклонение от прошлого года])
        ) ,
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]    
    } on rows      
from [ФО_МесОтч_СпрРасходыДоп]   
where 
    (   <%period_dimension%>,
       -- [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>],
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего].[на заработную плату],
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Все].[Конс.бюджет МО] 
    )  
]]>
  </query>
  <query id="FO_0002_0060_01_date">
    <![CDATA[
with   
    member [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ] 
    as 'Aggregate 
        (
            {
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа] 
            } 
        )' 
    member [Measures].[ДанныеНа]   
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'   
    set [NonEmptySet]   
    as 'Tail   
        (
            Filter   
            (
                Descendants   
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Месяц],
                    SELF   
                ),
                not IsEmpty ( ( [Measures].[Факт] ) )   
            ),
            1   
        )'   
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows   
from [ФО_МесОтч_СпрРасходыДоп] 
where 
    (
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов местного самоуправления, всего].[на заработную плату],
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Все].[Конс.бюджет МО] 
    )  
    ]]>
  </query>
</root>