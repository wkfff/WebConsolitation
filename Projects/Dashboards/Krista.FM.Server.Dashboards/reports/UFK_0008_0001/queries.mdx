<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="table">
    <![CDATA[
    with    
    member Measures.[План на год]    
    as 'LookupCube   
        (
            "[ФО_АС Бюджет_План доходов]",
            "   
            (
                " + MemberToStr   
                (
                    [Доходы].[Группы КД].CurrentMember   
                ) + ",
                [Период].[Год Квартал Месяц].[Данные всех периодов].[2008],
                Measures.[План]   
            )"   
        )'    
    member Measures.[План на месяц]   
    as 'LookupCube   
        (
            "[ФО_АС Бюджет_План доходов]",
            "Sum  
            (
                {
                    [Период].[Год Квартал Месяц].[Данные всех периодов].[2008].[Полугодие 1].[Квартал 1].[Январь]:[Период].[Год Квартал Месяц].[Данные всех периодов].[2008].[Полугодие 2].[Квартал 3].[Июль]
                },
                (
                    " + MemberToStr  
                    (
                        [Доходы].[Группы КД].CurrentMember   
                    ) + ",
                    Measures.[План]   
                ) 
            )"  
        )'   
    member Measures.[Факт прошлого года]  
    as 'LookupCube  
        (
            "[ФО_АС Бюджет_Факт доходов]",
            " 
            (
                [Период].[Дата принятия].[Все даты принятия].[2007],
                " + MemberToStr  
                (
                    [Доходы].[Группы КД].CurrentMember  
                ) + ",
                Measures.[Факт доходов]  
            )"  
        )'  
    member Measures.[Факт прошлого года на месяц]  
    as 'LookupCube  
        (
            "[ФО_АС Бюджет_Факт доходов]",
            "
            (
                [Период].[Месяц Бюджет].[Данные всех периодов].[2007].[Полугодие 2].[Квартал 3].[Июль] ,
                " + MemberToStr  
                (
                    [Доходы].[Группы КД].CurrentMember  
                ) + ",
                [Measures].[Факт доходов нараст итог]  
            ) " 
        )'  
    member Measures.[Факт прошлого года на день]
    as 'LookupCube
        (
            "[ФО_АС Бюджет_Факт доходов]",
            "
            (
                [Период].[Дата принятия].[Все даты принятия].[2007].[Полугодие 2].[Квартал 3].[Июль].[25],
                " + MemberToStr
                (
                    [Доходы].[Группы КД].CurrentMember
                ) + ",
                [Measures].[Факт доходов нараст итог_дата принятия]
            ) "
        )'
    member Measures.[Темп роста плановый на год]
    as 'IIF
        (
            IsEmpty(Measures.[Факт прошлого года]),
            null,
            Measures.[План на год]/Measures.[Факт прошлого года]
        )' 
    member Measures.[Темп роста плановый на месяц] 
    as 'IIF
        (
            IsEmpty
            (
                Measures.[Факт прошлого года на месяц]
            ),
            null,
            Measures.[План на месяц]/Measures.[Факт прошлого года на месяц]
        )' 
    member Measures.[Темп роста фактический]
    as 'IIF
        (
            IsEmpty(Measures.[Факт прошлого года на день]),
            null,
            Measures.[С начала года]/Measures.[Факт прошлого года на день]
        )'
SELECT
    {
        [Measures].[С начала года],
        Measures.[План на год],
        Measures.[План на месяц],
        Measures.[Факт прошлого года на день],
        Measures.[Факт прошлого года],
        Measures.[Факт прошлого года на месяц],
        Measures.[Темп роста плановый на год],
        Measures.[Темп роста плановый на месяц],
        Measures.[Темп роста фактический]
    } on columns,
    non empty {
        [Доходы].[Группы КД].[Все группы КД].[Итого доходов].Children
    } on rows    
FROM [УФК_Реестр перечисленных поступлений]     
WHERE     
    (
        [Период].[День].[Данные всех периодов].[2008].[Полугодие 2].[Квартал 3].[Июль].[25]
    )  
	]]>
  </query>

  <query id="chart1CurrentFact">
    <![CDATA[
   SELECT
    {[Measures].[За период]} on columns,
    Descendants
    (
        [Период].[День].[Данные всех периодов].[2008],
        [Период].[День].[Месяц],
        SELF 
    ) on rows 
FROM [УФК_Реестр перечисленных поступлений]  
WHERE  
    (
        <%kd_group%>
    )  
	]]>
  </query>

  <query id="chart1LastFact">
    <![CDATA[
    SELECT
    {[Measures].[Факт доходов]} on columns,
    non empty Descendants
    (
        [Период].[Месяц Бюджет].[Данные всех периодов].[2007],
        [Период].[Месяц Бюджет].[Месяц],
        SELF 
    ) on rows 
FROM  [ФО_АС Бюджет_Факт доходов] 
WHERE  
    (
        <%kd_group%>
    )  
	]]>
  </query>

  <query id="chart1CurrentPlan">
    <![CDATA[
    SELECT
    {[Measures].[План]} on columns,
    non empty Descendants
    (
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2008],
        [Период].[Год Квартал Месяц].[Месяц],
        SELF 
    ) on rows 
FROM [ФО_АС Бюджет_План доходов]
WHERE  
    (
        <%kd_group%>
    )  
	]]>
  </query>
</root>