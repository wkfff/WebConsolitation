<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0021_0002_Saratov_date">
    <![CDATA[
-- FO_0021_0002_Saratov_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Квартал],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели]
                    )
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
                )
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from [ФО_ФПКУ_Показатели]
]]>
  </query>

  <query id="FO_0021_0002_Saratov_grid">
    <![CDATA[
-- FO_0021_0002_Saratov_grid
with 
    set [Список районов] 
    as ' Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 03],
                SELF
            ),
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
        ) '
select
    {
        [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Ранг] 
    } on columns,
    non empty 
    {
        Order 
        (
            [Список районов],
            [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Ранг],
            BASC 
        ) 
    } on rows 
from  [ФО_ФПКУ_Показатели] 
where 
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение]
    )
    ]]>
  </query>

  <query id="FO_0021_0002_Saratov_chart">
    <![CDATA[
-- FO_0021_0002_Saratov_grid
with 
    set [Список районов] 
    as 'Filter 
        (
            Descendants 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 03],
                SELF 
            ),
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            
        )' 
select
    {
        [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка] 
    } on columns,
    non empty 
    {
        Order 
        (
            [Список районов],
            [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка],
            BDESC 
        ) 
    } on rows 
from  [ФО_ФПКУ_Показатели] 
where 
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение] 
    ) 
    ]]>
  </query>

  <query id="FO_0021_0002_Saratov_avg_chart">
    <![CDATA[
-- FO_0021_0002_Saratov_avg_chart
select
    {
        [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Средняя оценка]
    } on columns
from  [ФО_ФПКУ_Показатели] 
where 
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение],
       [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Бюджеты городов и районов].[Александрово-Гайский]
    )          
  ]]>
</query>

<query id="FO_0021_0002_Saratov_quality_limit">
        <![CDATA[
-- FO_0021_0002_Saratov_quality_limit
with         
    set [Список районов]         
    as 'Filter         
        (
            Descendants         
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 03],
                SELF         
            ),
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"         
            and [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка]
        )'         
  member [Районы__Сопоставимый].[Районы__Сопоставимый].[Первая граница]  
    as ' Tail     
        (
            Head     
            (
                Order     
                (
                    [Список районов],
                    [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка],
                    BDESC     
                ),
                3     
            )  
        ). Item(0)  ' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Вторая граница] 
    as ' Head     
        (
            Tail     
            (
                Order     
                (
                    [Список районов],
                    [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка],
                    BDESC     
                ),
                3     
            )   
        ). Item(0)  '     
select
    non empty    
    {
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Первая граница],
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Вторая граница] 
    } on columns,
    {
        [Показатели__ФПКУ_Сопоставимый].[Показатели__ФПКУ_Сопоставимый].[Все показатели].[Итоговая оценка]         
    }on rows   
from  [ФО_ФПКУ_Показатели]         
where         
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение]         
    )                  
  ]]>
    </query>    

</root>