<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0057_date">
    <![CDATA[
-- FO_0002_0057_detail_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
select
    { [Measures].[ДанныеНа] } on columns,
    {
        Tail 
        (
            Filter 
            (
                [Период__Период].[Период__Период].[Месяц].Members,
                not IsEmpty([Measures].[Фактическое значение]) 
            ) 
        ) 
    } on rows 
from   [РЕГИОН_Отраслевые показатели]  
where 
    (
        --[Источники данных].[Источники данных].[Все источники данных].[РЕГИОН Отраслевые показатели - Минтранс НСО],
        [Показатели__Направления отраслевых показателей].[Показатели__Направления отраслевых показателей].[Все направления].[Текущие показатели эффективности деятельности транспортного комплекса Новосибирской области в сфере пассажирских перевозок],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область] 
    )  
  ]]>
  </query>

  <query id="FO_0002_0057_grid">
    <![CDATA[

    
    with 
    member [Measures].[Единицы измерения] 
    as '[Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.Properties("Единица измерения")' 
    member [Measures].[Прошлый год] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_prev_year%>]
        )' 
    member  [Measures].[Текущий год] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>]
        )' 
    member [Measures].[Прошлый год квартал 1] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_prev_year%>].[Полугодие 1].[Квартал 1] 
        )' 
    member [Measures].[Текущий год квартал 1] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1] 
        )' 
    member [Measures].[Прошлый год квартал 2] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_prev_year%>].[Полугодие 1].[Квартал 2] 
        )' 
    member [Measures].[Текущий год квартал 2] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 2] 
        )' 
    member [Measures].[Прошлый год квартал 3] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_prev_year%>].[Полугодие 2].[Квартал 3] 
        )' 
    member [Measures].[Текущий год квартал 3] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 3] 
        )' 
    member [Measures].[Прошлый год квартал 4] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_prev_year%>].[Полугодие 2].[Квартал 4] 
        )' 
    member [Measures].[Текущий год квартал 4] 
    as ' 
        (
            [Показатели__Отраслевые показатели].[Показатели__Отраслевые показатели].CurrentMember.DATAMEMBER,
            [Measures].[Фактическое значение],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4] 
        )' 
    member  [Measures].[Коэффициент роста]
    as ' 
        (
            IIF 
            (
                [Measures].[Прошлый год] = null OR [Measures].[Прошлый год] = 0,
                null,
                 [Measures].[Текущий год]/[Measures].[Прошлый год] 
            ) 
        )' 
    member [Measures].[Коэффициент роста квартал 1] 
    as ' 
        (
            IIF 
            (
                [Measures].[Прошлый год квартал 1] = null OR [Measures].[Прошлый год квартал 1] = 0,
                null,
                [Measures].[Текущий год квартал 1]/[Measures].[Прошлый год квартал 1] 
            ) 
        )' 
    member [Measures].[Коэффициент роста квартал 2] 
    as ' 
        (
            IIF 
            (
                [Measures].[Прошлый год квартал 2] = null OR [Measures].[Прошлый год квартал 2] = 0,
                null,
                [Measures].[Текущий год квартал 2]/[Measures].[Прошлый год квартал 2] 
            ) 
        )' 
    member [Measures].[Коэффициент роста квартал 3] 
    as ' 
        (
            IIF 
            (
                [Measures].[Прошлый год квартал 3] = null OR [Measures].[Прошлый год квартал 3] = 0,
                null,
                [Measures].[Текущий год квартал 3]/[Measures].[Прошлый год квартал 3] 
            ) 
        )' 
    member [Measures].[Коэффициент роста квартал 4] 
    as ' 
        (
            IIF 
            (
                [Measures].[Прошлый год квартал 4] = null OR [Measures].[Прошлый год квартал 4] = 0,
                null,
                [Measures].[Текущий год квартал 4]/[Measures].[Прошлый год квартал 4] 
            ) 
        )' 
select
    {
        [Measures].[Единицы измерения],
        [Measures].[Текущий год квартал 1],
        [Measures].[Коэффициент роста квартал 1],
        [Measures].[Текущий год квартал 2],
        [Measures].[Коэффициент роста квартал 2],
        [Measures].[Текущий год квартал 3],
        [Measures].[Коэффициент роста квартал 3],
        [Measures].[Текущий год квартал 4],
        [Measures].[Коэффициент роста квартал 4],
        [Measures].[Текущий год],
        [Measures].[Коэффициент роста]
    } on columns,
    {
        filter 
        (
            [Показатели__Отраслевые показатели].Children,
            not isempty 
            (
                [Measures].[Фактическое значение]
            ) 
        ) 
    } on rows 
from [РЕГИОН_Отраслевые показатели] 
where 
    (
       -- [Источники данных].[Источники данных].[Все источники данных].[РЕГИОН Отраслевые показатели - Минтранс НСО],
        [Показатели__Направления отраслевых показателей].[Показатели__Направления отраслевых показателей].[Все направления].[Текущие показатели эффективности деятельности транспортного комплекса Новосибирской области в сфере пассажирских перевозок],
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область] 
    )  
  ]]>
  </query>

</root>