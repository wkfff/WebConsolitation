<?xml version="1.0" encoding="Windows-1251"?>
<root>

    <!-- ========================================================================================= -->
    <query id="minsport_territory_population">
        <![CDATA[
with     
    set [Территории]
    as 'order 
        (
            filter 
            (
                Descendants 
                (
                    {
                        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация]  
                    },
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Субъект РФ],
                    SELF_AND_BEFORE
                ),
                NOT [Территории__Сопоставимый].[Территории__Сопоставимый].currentmember.properties("IS_DATAMEMBER")
            ),
            [Территории__Сопоставимый].currentmember.name,
            BASC
        )' 
select
    { [Measures].[Факт] } on columns,
    {
        [Территории]
    } on rows 
from   [ФСГС_Численность населения]     
where     
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%param_year%>],
        [ФСГС__Численность населения].[ФСГС__Численность населения].[Все].[Все население],
        [Вариант__ФСГС Население].[Вариант__ФСГС Население].[Все].[Численность населения на 1 января]     
    )         
  ]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="minsport_territory_okato">
        <![CDATA[
with 
    member [Measures].[Territory] 
    as '[Территории_сопоставимый].currentMember.properties("ЕМИСС_ОКАТО")'
    set [Территории]
    as 'order
        (
            Descendants
            (
                {
                    [Территории_сопоставимый].[Территории_сопоставимый].[All].[Российская  Федерация]
                },
                [Территории_сопоставимый].[Территории_сопоставимый].[Субъект РФ],
                SELF_AND_BEFORE
            ),
            [Территории_сопоставимый].[Территории_сопоставимый].currentmember.name,
            BASC
        )'
select
    { [Measures].[Territory] } on columns,
    { [Территории]} on rows 
from    [1-ФК] 
  ]]>
    </query>
    
    
</root>
