<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="MO_0003_0001_date">
    <![CDATA[
-- MO_0003_0001_date 
with 
    member Measures.[ДанныеНа] 
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    Filter 
    (
        OpeningPeriod 
        (
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год],
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2001] 
        ) : ClosingPeriod 
        (
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год],
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2012] 
        ),
        not IsEmpty( [Measures].[Значение] ) 
    )  on rows  
from [СТАТ_Паспорт МО_МР и Административный центр]
]]>
</query>

<query id="MO_0003_0001_grid">
    <![CDATA[
-- MO_0003_0001_grid 
with  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл1]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл2]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл3]  
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.children.count'  
    member [Measures].[Отклонение]  
    as ' IIF  
        (
            (
                ParallelPeriod  
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Квартал],
                    1,
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                ),
                [Measures].[Значение]  
            ) <>0 and [Measures].[Значение]<>0 and not isempty([Measures].[Значение]),
            [Measures].[Значение]-  
            (
                ParallelPeriod  
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Квартал],
                    1,
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                ),
                [Measures].[Значение]  
            ) ,
            IIF  
            (
                Right  
                (
                    (
                        ParallelPeriod  
                        (
                            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Квартал],
                            1,
                            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                        )  
                    ).uniquename ,
                    2  
                ) ="er" and [Measures].[Значение]<>0 and not isempty([Measures].[Значение]) and 
                (
                    ParallelPeriod 
                    (
                        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Квартал],
                        2,
                        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember 
                    ),
                    [Measures].[Значение] 
                ) <>0,
                [Measures].[Значение]-  
                (
                    ParallelPeriod  
                    (
                        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Квартал],
                        2,
                        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                    ),
                    [Measures].[Значение]  
                ) ,
                null  
            )  
        ) ' 
    member measures.[Уровень]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name'
    member measures.[Имя]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Level.Name'
    member measures.[Примечание]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Примечание")'
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Все периоды]
    as 'aggregate
        (
            {
                <%period_year%>  
            }
        )'
    member [Measures].[Единица измерения]
    as 'IIF
        (
            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Единица измерения") = "Неизвестные данные",
            null,
            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Единица измерения")
        )'
    member [Measures].[Значение1]
    as ' IIF
        (
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл" ,
            measures.[Уровень],
            IIF
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл1",
                measures.[Примечание] ,
                IIF
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл2",
                    [Measures].[Единица измерения],
                    [Measures].[Значение]
                )
            )
        ) ' 
         member [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Года]
        as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.parent.name'
SELECT
 non empty   {
              
         [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл3],
     <%period_year%>,  
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл1],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл2]
       
    }   ON columns ,
 Distinct(   {
    
  filter  ({ filter  
        (
            {<%parent_indicators%>
            Descendants
                        (
                          {  <%indicators%>
                            },
                            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Уровень 3],
                            SELF_BEFORE_AFTER
                        )},
        not 
                    (
                        [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember is [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].Parent.DataMember 
                    ) and 
                    (
                        IIF 
                        (
                            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 2",
                            true,
                            IIF 
                            (
                                [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 1",
                                true,
                                IIF 
                                (
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 3",
                                    true,
                                    IIF
                                    (
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 4",
                                    true,
                                    not isEmpty 
                                    (
                                        (
                                            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Все периоды],
                                            [Measures].[Значение] 
                                        ) 
                                    ) 
                                    )
                                ) 
                            ) 
                        ) 
                    ) 
                )}*
    { [Measures].[Значение1],
             [Measures].[Темп роста цепной],
             [Measures].[Отклонение]}
             ,not isempty   
            (
                (
                    [Measures].[Значение1],
                     <%period_year%>
                )
            ) 
             )
             ,
        {
        [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Года]}
        *{[Measures].[Значение]}
    })   ON rows     
FROM   [СТАТ_Паспорт МО_МР и Административный центр]
where    
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - ХМАО-Югра],
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Тюменская область с Ханты-Мансийским автономным округом, Ямало-Ненецким автономным округом].[Ханты-Мансийский автономный округ - Югра].[<%filter%>]    
    )  

  ]]>
</query>

  <query id="MO_0003_0001_grid1">
    <![CDATA[
-- MO_0003_0001_grid1
with  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл1]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл2]  
    as 'null'  
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл3]  
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.children.count'  
    member [Measures].[Отклонение]  
    as ' IIF  
        (
            (
                ParallelPeriod  
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год],
                    1,
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                ),
                [Measures].[Значение]  
            ) <>0 and [Measures].[Значение]<>0 and not isempty([Measures].[Значение]),
            [Measures].[Значение]-  
            (
                ParallelPeriod  
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год],
                    1,
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember  
                ),
                [Measures].[Значение]  
            ) ,
            null
        ) ' 
    member measures.[Уровень]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name'
    member measures.[Имя]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Level.Name'
    member measures.[Примечание]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Примечание")'
    member [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Все периоды]
    as 'aggregate
        (
            {
                <%period_year_quater%>  
            }
        )'
    member [Measures].[Единица измерения]
    as 'IIF
        (
            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Единица измерения") = "Неизвестные данные",
            null,
            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Properties("Единица измерения")
        )'
    member [Measures].[Значение1]
    as ' IIF
        (
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл" ,
            measures.[Уровень],
            IIF
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл1",
                measures.[Примечание] ,
                IIF
                (
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name="Нулл2",
                    [Measures].[Единица измерения],
                    [Measures].[Значение]
                )
            )
        ) ' 
       
SELECT
 non empty   {
              
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл3],
            <%period_year_quater%>,  
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл1],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Нулл2]
    }   ON columns ,
 Distinct(   {
    
    filter ({ 
    
    filter  
        (
            {
            <%parent_indicators%>
           Except 
                            (  Descendants
                        (
                           { <%indicators%>
                            },
                            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Уровень 3],
                            SELF_BEFORE_AFTER
                        ),
                        {
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Фонд заработной платы всех работников организаций],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Среднемесячная заработная плата работников организаций],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Численность работников органов местного самоуправления на конец отчетного периода].[Численность работников местных администраций (исполнительно-распорядительных органов муниципальных образований) на конец отчетного периода],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Официально зарегистрированные безработные, получающие пособие по безработице],
                                     [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Сельское хозяйство].[Поголовье скота и птицы в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье крупного рогатого скота в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Сельское хозяйство].[Поголовье скота и птицы в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье крупного рогатого скота в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье коров в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Сельское хозяйство].[Поголовье скота и птицы в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье свиней в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Сельское хозяйство].[Поголовье скота и птицы в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье лошадей в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Сельское хозяйство].[Поголовье скота и птицы в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)].[Поголовье птиц в сельскохозяйственных организациях (без субъектов малого предпринимательства с численностью до 60 человек)] ,
                                     [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Среднемесячная заработная плата работников органов местного самоуправления].[Среднемесячная заработная плата работников представительных органов местного самоуправления],
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели].[Занятость и заработная плата].[Среднемесячная заработная плата работников органов местного самоуправления].[Среднемесячная заработная плата работников местных администраций (исполнительно-распорядительных органов муниципальных образований)]
                                }
                    )
            },
        not 
                    (
                        [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember is [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].Parent.DataMember 
                    ) and 
                    (
                        IIF 
                        (
                            [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 2",
                            true,
                            IIF 
                            (
                                [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 1",
                                true,
                                IIF 
                                (
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 3",
                                    true,
                                    IIF
                                    (
                                    [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name = "Уровень 4",
                                    true,
                                    not isEmpty 
                                    (
                                        (
                                            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Все периоды],
                                            [Measures].[Значение] 
                                        ) 
                                    ) 
                                    )
                                ) 
                            ) 
                        ) 
                    ) 
                )}*
    { [Measures].[Значение1],
             [Measures].[Темп роста цепной],
             [Measures].[Отклонение]},
             
             not isempty   
            (
                (
                    [Measures].[Значение1],
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].currentmember
                )
            ) 
             )
             
    }  ) 
    
    ON rows     
FROM   [СТАТ_Паспорт МО_МР и Административный центр]
where    
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - ХМАО-Югра],
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Тюменская область с Ханты-Мансийским автономным округом, Ямало-Ненецким автономным округом].[Ханты-Мансийский автономный округ - Югра].[<%filter%>]    
    )  

  ]]>
  </query>

<query id="MO_0003_0001_indicators">
<![CDATA[
-- MO_0003_0001_indicators
with

    member [Measures].[Уровень]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Level.Name '
    member [Measures].[Юник нейм]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.UniqueName'
    member [Measures].[Юник нейм родителя]
    as '[Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Parent.UniqueName'
    set [Показатели]
    as ' filter
        (
            Descendants
            (
                [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели],
                [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Уровень 4],
                SELF_AND_BEFORE
            ),
            not
            (
               [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember is [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember.Parent.DataMember
            ) and not ([Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].CurrentMember is [Паспорт МО__МР и Административный центр].[Паспорт МО__МР и Административный центр].[Все показатели])
        ) '
SELECT
    {

        [Measures].[Уровень],
        [Measures].[Юник нейм], 
        [Measures].[Юник нейм родителя]
    }   ON columns ,
    { [Показатели] }  ON rows
FROM   [СТАТ_Паспорт МО_МР и Административный центр]
where
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - ХМАО-Югра],
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Тюменская область с Ханты-Мансийским автономным округом, Ямало-Ненецким автономным округом].[Ханты-Мансийский автономный округ - Югра]
    )
  ]]>
</query>

  <query id="MO_0003_0001_mo">
    <![CDATA[
-- MO_0003_0001_mo
with   
    member [Measures].[Юник нейм]
    as '[Территории__РФ].[Территории__РФ].CurrentMember.UniqueName'
    set [Показатели]  
    as ' filter  
        (
            [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Тюменская область с Ханты-Мансийским автономным округом, Ямало-Ненецким автономным округом].[Ханты-Мансийский автономный округ - Югра].Children,
            not  
            (
                [Территории__РФ].[Территории__РФ].CurrentMember is  [Территории__РФ].[Территории__РФ].CurrentMember.Parent.DataMember  
            )  
        ) '  
SELECT
    { [Measures].[Юник нейм] }   ON columns ,
    { [Показатели] }  ON rows  
FROM    [СТАТ_Паспорт МО_МР и Административный центр]  
where  
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - ХМАО-Югра]   
    )  
  ]]>
  </query>

</root>