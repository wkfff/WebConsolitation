<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0040_0001_date">
    <![CDATA[
-- FO_0040_0001_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Квартал],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг]
                    )
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
                )
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Оценка качества ОиОБП_Показатели]
]]>
  </query>

  <query id="FO_0040_0001_grid">
    <![CDATA[
-- FO_0040_0001_grid
with                    
    set [Список районов]     
    as 'Filter                    
        (
            Descendants                    
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF                    
            ),
            not                    
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember     
            ) and                    
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"     
            )                    
        )'               
    set [Показатели]     
    as 'Filter     
        (
            Descendants     
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели],
                [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели],
                SELF     
            ),
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Name <> "Несопоставленные данные"    
            ) and    
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Name <> "Рейтинг"    
            ) and    
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Name <> "Группа муниципального образования"    
            ) and   
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Name <> "Средняя оценка"    
            )    
        )'
    member [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Группа МО] 
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Группа муниципального образования] '
select
    non empty{
        [Показатели] +  
        {
            [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг]
        } +  
        {
            [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Группа МО] 
        } 
    } on columns,
    {
        Order
        (
            [Список районов],
            [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг],
            BDESC
        ) 
    } on rows 
from  [ФО_Оценка качества ОиОБП_Показатели]             
where    
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Оценка показателя]   
    )     ]]>
  </query>

  <query id="FO_0040_0001_chart">
    <![CDATA[
-- FO_0040_0001_chart
with
    set [Список районов]
    as 'Filter
        (
            Descendants
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF
            ),
            not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"
            )
        )'
select
    {
       [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг]
    } on columns,
    non empty
    {
        Order
        (
            [Список районов],
            [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг],
            BDESC
        )
    } on rows
from  [ФО_Оценка качества ОиОБП_Показатели]
where
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Оценка показателя]
    )
  ]]>
  </query>

  <query id="FO_0040_0001_avg_chart">
    <![CDATA[
-- FO_0040_0001_avg_chart
select
    {
        [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Средняя оценка]
    } on columns
from [ФО_Оценка качества ОиОБП_Показатели]
where
    (
        [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>,
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[МУНИЦИПАЛЬНЫЕ РАЙОНЫ].[Алексеевский],
        [Measures].[Оценка показателя]
    )           
  ]]>
</query>

  <query id="FO_0040_0001_indicatorDescription">
    <![CDATA[
-- FO_0040_0001_indicatorDescription
With
    set [Список показателей]
    as '
        {
            Descendants
                (
                   [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели],
                   [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели],
                    SELF
                ) -
                {
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Несопоставленные данные],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Группа муниципального образования],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Средняя оценка]
                }
        }'

    member [Measures].[Наименование]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Наименование")'
    member [Measures].[Направление]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Направление оценки качества ОиОБП")'
    member [Measures].[Код]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Структурное подразделение")'
    member [Measures].[Формат]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Единицы измерения")'
Select
    {
       [Measures].[Наименование],
       [Measures].[Направление],
       [Measures].[Код],
       [Measures].[Формат]
    } on columns,
    { [Список показателей] } on rows
From [ФО_Оценка качества ОиОБП_Показатели]
  ]]>
</query>

</root>