<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="Grid">
    <![CDATA[
    with
member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Пустой]
 as '1'
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Пустой1]
 as '1'
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Пустой2]
 as '1'
  member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Пустой3]
 as '1' 
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Единицы измерения]
    as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Единица измерения")'
        member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Мощность по проекту]
    as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Мощность по проекту")'
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Начало строительства]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Начало строительства")'
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Завершение строительства]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Завершение строительства")'
 member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Разрешение на строительство]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Разрешение на строительство")'
  member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Акт выбора земельного участка]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Акт выбора земельного участка")'
   member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Утверждение проектно_сметной документации задания на проектирование]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Утверждение проектно_сметной документации задания на проектирование")'
    member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Смета в ценах 2011 года]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Смета в ценах 2011 года")'
     member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Смета в текущих ценах]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Смета в текущих ценах")'
      member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Реквизиты экспертизы]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Реквизиты экспертизы")'
       member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Начальная цена контракта]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Начальная цена контракта")'
        member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Стоимость по контракту]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Стоимость по контракту")'
         member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Реквизиты контракта]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Реквизиты контракта")'
          member [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Наименование подрядчика]
 as '[Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.properties("Наименование подрядчика")'
select
        
    {
    
    [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Мощность по проекту],
    [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Единицы измерения],
    [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Начало строительства],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Завершение строительства],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Разрешение на строительство],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Акт выбора земельного участка],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Утверждение проектно_сметной документации задания на проектирование],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Смета в ценах 2011 года],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Смета в текущих ценах],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Реквизиты экспертизы],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Начальная цена контракта],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Стоимость по контракту],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Реквизиты контракта],
[Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Наименование подрядчика],
        Except 
        (
            [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].members,
            {
            [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Все показатели] ,
             [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Все показатели].[Значение не указано] 
            }
        )    
    } on columns,
    non empty    
    {
        filter(
        {
        
            <%selectedProgram%> 
        }   
        * 
        {
            <%selectedRegion%>    
        }    
        *  
        {
        
            
            <%selectedCustomer%>
            
            
        }  
        * 
        {
        filter(
        Except
        (
            [Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].members,
            [Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].[Все объекты]
            ),
            --[Measures].[Значение] > 0
            --1 =1
                                ([Исполнение расходов__Объекты строительства].[Исполнение расходов__Объекты строительства].currentmember.parent.datamember,
                     [Measures].[Значение],
                     <%selectedRegion%> )> 0
            )
            
        },
        --[Measures].[Значение] > 0
        1 =1 
        )
    }  on rows      
FROM  [ЭО_Сбор исполнения расходов_АИП]      
WHERE      
    (
        [Measures].[Значение],
        <%selectedPeriod%>,
        [Источники данных].[Источники данных].[Все источники данных].[ЭО Сбор ЦП - Исполнение АИП]     
    )    ]]>
  </query>



  <query id="Years">
    <![CDATA[  
    with
    member   [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].[Года]
    as '[Период__Период].[Период__Период].currentmember.parent.parent.name'
    
    select
 --   non empty
    {
     [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].[Все программы],
     [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].[Года]
    }on columns,
    NON EMPTY
    {
    filter
    (
        [Период__Период].[Период__Период].[Квартал].members,
        not isempty([Measures].[Значение])
        )
    } on rows
from  [ЭО_Сбор исполнения расходов_АИП]
where
    (
        [Measures].[Значение],
        <%baseRegion%>
    )]]>
  </query>

  <query id="Programs">
    <![CDATA[  
    with   
    member   [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Уровень]  
    as '[Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].currentmember.level_number' 
select
    non empty  
    {
        [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Все показатели],
        [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Уровень]  
    } on columns,
    {
        filter    
        (
             Except 
            (
                [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].members,
                
                [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].[Все программы].[Итого по программам] 
            )   ,
            right   
            (
                [Исполнение расходов__Реестр программ].[Исполнение расходов__Реестр программ].currentmember.uniquename,
                10   
            )<>"DATAMEMBER"    
        )    
    }  on rows           
FROM  [ЭО_Сбор исполнения расходов_АИП]           
WHERE           
    (
        [Measures].[Значение],
        [Источники данных].[Источники данных].[Все источники данных].[ЭО Сбор ЦП - Исполнение АИП]          
    )  ]]>
  </query>

  <query id="Customers">
    <![CDATA[  
    
        with   
    member   [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Уровень]  
    as '[Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].currentmember.level_number' 
    member   [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[uname]
    as '[Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].currentmember.uniquename'
select
    non empty  
    {
        [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Все показатели],
        [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Уровень]  ,
         [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[uname]
    } on columns,
    {
        filter    
        (
             Except
             (
                [Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].members ,
                {
                [Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].[Данные всех источников],
                  [Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].[Данные всех источников].[Значение не указано]
                }
                )
               ,
            right   
            (
                [Исполнение расходов__Заказчики объектов].[Исполнение расходов__Заказчики объектов].currentmember.uniquename,
                10   
            )<>"DATAMEMBER"    
        )    
    }  on rows           
FROM  [ЭО_Сбор исполнения расходов_АИП]           
WHERE           
    (
        [Measures].[Значение],
        [Источники данных].[Источники данных].[Все источники данных].[ЭО Сбор ЦП - Исполнение АИП]          
    ) 
            ]]>
  </query>
  <query id="Regions">
    <![CDATA[  
select
    non empty    
    {
        [Исполнение расходов__Показатели АИП].[Исполнение расходов__Показатели АИП].[Все показатели]  
    } on columns,
    {
    filter
        (
        [Территории__РФ].[Территории__РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Тюменская область с Ханты-Мансийским автономным округом, Ямало-Ненецким автономным округом].[Ханты-Мансийский автономный округ - Югра].children ,
        right
            (
               [Территории__РФ].[Территории__РФ].currentmember.uniquename,
                10
            )<>"DATAMEMBER"
        )
    }  on rows             
FROM  [ЭО_Сбор исполнения расходов_АИП]             
WHERE             
    (
        [Measures].[Значение],
        [Источники данных].[Источники данных].[Все источники данных].[ЭО Сбор ЦП - Исполнение АИП]            
    )        ]]>
  </query>
</root>
