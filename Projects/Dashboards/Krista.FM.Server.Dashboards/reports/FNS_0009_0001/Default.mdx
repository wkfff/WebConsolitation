<?xml version="1.0" encoding="Windows-1251"?>
<root>
<query id="FNS_0009_0001_Date">
<![CDATA[
--FNS_0009_0001_Date
with  
    member [Measures].[Имя]  
    as 'IIF  
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Год],
            [Период__Период].[Период__Период].CurrentMember.Name + " год",
            [Период__Период].[Период__Период].CurrentMember.Name  
        )'  
    member [Measures].[Уникальное имя]  
    as ' [Период__Период].[Период__Период].CurrentMember.UniqueName  ' 	  
    member [Measures].[Уровень]  
    as 'IIF  
        (
            [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Год],
            0,
            IIF  
            (
                [Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Квартал],
                2,
                1
            )  
        )'  
    set [Периоды]  
    as 'Generate  
        (
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[2009] : [Период__Период].[Период__Период].[Данные всех периодов].[2020]
            },
            {
                [Период__Период].[Период__Период].CurrentMember  
            } + Filter  
            (
                Descendants  
                (
                    [Период__Период].[Период__Период].CurrentMember,
                    [Период__Период].[Период__Период].[Месяц],
                    SELF_AND_AFTER  
                ),
                not  
                (
                    [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember  
                )and  
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
                )and  
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"  
                )and  
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"  
                )  and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
                )
            )  
        )'   
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]  
    } on columns,
    Filter  
    (
        [Периоды],
        not IsEmpty([Measures].[С начала года])  
    ) on rows  
from   [ФНС_28н_без расщепления] 
 
]]>
</query>
	
 <query id="FNS_0009_0001_grid">
<![CDATA[
--FNS_0009_0001_grid
with     
    set [МР ГО]     
    as 'Filter     
        (
            Descendants     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 02],
                self     
            ),
            not [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember     
        )'     
Select
    {
        {
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ].[Сборы за пользование объектами животного мира и за пользование объектами водных биологических ресурсов],
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ].[Сборы за пользование объектами животного мира и за пользование объектами водных биологических ресурсов].[Сбор за пользование объектами животного мира],
            [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ].[Сборы за пользование объектами животного мира и за пользование объектами водных биологических ресурсов].[Сбор за пользование объектами водных биологических ресурсов (по внутренним водным объектам)]    
        }     
        *     
        {
            [ФНС_65н_Показатели].[ФНС_65н_Показатели].[Все].[Начислено - всего],
            [ФНС_65н_Показатели].[ФНС_65н_Показатели].[Все].[Поступило - всего],
            [ФНС_65н_Показатели].[ФНС_65н_Показатели].[Все].[Недоимка по налогу]     
        }     
    } on columns,
   NON EMPTY(
        {[МР ГО]}  
    ) on rows   
FROM [ФНС_28н_без расщепления]   
Where
(
  [Measures].[С начала года],
  <%selected_period%> 
)

]]>
</query>
</root>