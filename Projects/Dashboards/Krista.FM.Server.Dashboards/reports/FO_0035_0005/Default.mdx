<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0005_date">
    <![CDATA[
-- FO_0035_0005_date
with
    member Measures.[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        NonEmptyCrossjoin
        (
            OpeningPeriod
            (
                [Период__Период].[Период__Период].[Месяц],
                [Период__Период].[Период__Период].[Данные всех периодов].[2008]
            ) : ClosingPeriod
            (
                [Период__Период].[Период__Период].[Месяц],
                [Период__Период].[Период__Период].[Данные всех периодов].[2011]
            )
        )
    ) on rows
from  [ФО_Кассовый план исполнения бюджета]
  ]]>
</query>

  <query id="FO_0035_0005_lastMonth">
    <![CDATA[
-- FO_0035_0005_lastMonth
with
    member Measures.[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        NonEmptyCrossjoin
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF
            )
        )
    ) on rows
from  [ФО_Кассовый план исполнения бюджета]
  ]]>
  </query>  
  
  <query id="FO_0035_0005_grid_incomes">
    <![CDATA[
-- FO_0035_0005_grid_incomes
with        
    set [Показатели для первой таблицы]       
    as '{
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки на едином счете бюджета на начало квартала],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки средств на банковских депозитах на начало квартала],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки в ценных бумагах на начало квартала],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Кассовые поступления - всего],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Доходы],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Налоговые доходы],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Неналоговые доходы],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Субсидии бюджетам субъектов из местных бюджетов для формирования региональных фондов финансовой поддержки поселений и региональных фондов финансовой поддержки муниципальных районов (городских округов)],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Дотации бюджетам субъектов РФ на поддержку мер по обеспечению сбалансированности бюджетов],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Возврат средств областного бюджета из банковских депозитов],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Поступление источников финансирования дефицита бюджета],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Размещение государственных ценных бумаг субъекта РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Получение кредитов от других бюджетов бюджетной системы РФ бюджетами субъектов РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Возврат бюджетных кредитов, предоставленных юридическим лицам],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Возврат бюджетных кредитов, предоставленных другим бюджетам],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Иные источники финансирования дефицита бюджета],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Кассовые выплаты - всего],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Кассовый расход]
        } '   
    set [Показатели для третьей таблицы]       
    as '{
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Размещение средств областного бюджета на банковские депозиты],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Выплаты из источников финансирования дефицита бюджета],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Увеличение прочих остатков средств бюджетов субъектов РФ, временно размещенных в ценные бумаги],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Погашение государственных ценных бумаг субъекта РФ, номинальная стоимость которых указана в валюте РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Погашение бюджетом субъекта РФ кредитов от других бюджетов бюджетной системы РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Предоставление бюджетных кредитов юридическим лицам из бюджета субъекта РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Предоставление бюджетных кредитов другим бюджетам бюджетной системы РФ из бюджета субъекта РФ],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Иные источники финансирования дефицита бюджета],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Сальдо операций по поступлениям и выплатам],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки на едином счете бюджета на конец года],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки средств на банковских депозитах на конец квартала],
          [Показатели__Кассовый план исполнения бюджета].[Показатели__Кассовый план исполнения бюджета].[Все].[Остатки в ценных бумагах на конец квартала]
        } '         
    member [Measures].[Удельный вес 1 квартала, %]   
    as 'IIF  
        (
            IsEmpty
            (
                [Measures].[Годовой кассовый план]
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 1] / [Measures].[Годовой кассовый план] 
        )'   
    member [Measures].[Удельный вес 2 квартала, %] 
    as 'IIF 
        (
            IsEmpty
            (
                [Measures].[Годовой кассовый план]
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 2] / [Measures].[Годовой кассовый план] 
        )' 
    member [Measures].[Удельный вес 3 квартала, %] 
    as 'IIF 
        (
            IsEmpty 
            (
                [Measures].[Годовой кассовый план] 
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 3] / [Measures].[Годовой кассовый план] 
        )' 
    member [Measures].[Удельный вес 4 квартала, %] 
    as 'IIF 
        (
            IsEmpty 
            (
                [Measures].[Годовой кассовый план] 
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 4] / [Measures].[Годовой кассовый план] 
        )' 
   
    member [Measures].[Годовой кассовый план ] 
    as '[Measures].[Годовой кассовый план] / 1000' 
    member [Measures].[Квартал 1 ]   
    as '[Measures].[Квартал 1] / 1000' 
    member [Measures].[Квартал 2 ]   
    as '[Measures].[Квартал 2] / 1000' 
    member [Measures].[Квартал 3 ]   
    as '[Measures].[Квартал 3] / 1000' 
    member [Measures].[Квартал 4 ]   
    as '[Measures].[Квартал 4] / 1000'     
select
    {
        [Measures].[Годовой кассовый план ],
        [Measures].[Квартал 1 ],
        [Measures].[Удельный вес 1 квартала, %],
        [Measures].[Квартал 2 ],
        [Measures].[Удельный вес 2 квартала, %],
        [Measures].[Квартал 3 ],
        [Measures].[Удельный вес 3 квартала, %],
        [Measures].[Квартал 4 ],
        [Measures].[Удельный вес 4 квартала, %]
    } on columns,
    non empty { [<%indicator_set%>] } on rows    
from [ФО_Кассовый план исполнения бюджета]       
where      
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>]     
    )        
  ]]>
</query>

  <query id="FO_0035_0005_grid_outcomes">
    <![CDATA[
-- FO_0035_0005_grid_outcomes
with        
    set [Показатели]       
    as '[Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].Children'   
    member [Measures].[Удельный вес 1 квартала, %]   
    as 'IIF  
        (
            IsEmpty
            (
                [Measures].[Годовой кассовый план]
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 1] / [Measures].[Годовой кассовый план] 
        )'   
    member [Measures].[Удельный вес 2 квартала, %] 
    as 'IIF 
        (
            IsEmpty
            (
                [Measures].[Годовой кассовый план]
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 2] / [Measures].[Годовой кассовый план] 
        )' 
    member [Measures].[Удельный вес 3 квартала, %] 
    as 'IIF 
        (
            IsEmpty 
            (
                [Measures].[Годовой кассовый план] 
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 3] / [Measures].[Годовой кассовый план] 
        )' 
    member [Measures].[Удельный вес 4 квартала, %] 
    as 'IIF 
        (
            IsEmpty 
            (
                [Measures].[Годовой кассовый план] 
            ) or [Measures].[Годовой кассовый план] = 0,
            null,
            [Measures].[Квартал 4] / [Measures].[Годовой кассовый план] 
        )' 
        
    member [Measures].[Годовой кассовый план ] 
    as '[Measures].[Годовой кассовый план] / 1000'     
    member [Measures].[Квартал 1 ]   
    as '[Measures].[Квартал 1] / 1000' 
    member [Measures].[Квартал 2 ]   
    as '[Measures].[Квартал 2] / 1000' 
    member [Measures].[Квартал 3 ]   
    as '[Measures].[Квартал 3] / 1000' 
    member [Measures].[Квартал 4 ]   
    as '[Measures].[Квартал 4] / 1000'     
select
    {
        [Measures].[Годовой кассовый план ],
        [Measures].[Квартал 1 ],
        [Measures].[Удельный вес 1 квартала, %],
        [Measures].[Квартал 2 ],
        [Measures].[Удельный вес 2 квартала, %],
        [Measures].[Квартал 3 ],
        [Measures].[Удельный вес 3 квартала, %],
        [Measures].[Квартал 4 ],
        [Measures].[Удельный вес 4 квартала, %]
    } on columns,
    non empty { [Показатели] } on rows    
from [ФО_Кассовый план исполнения бюджета_Расходы]     
where      
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>]     
    )        
  ]]>
  </query>  
  
</root>