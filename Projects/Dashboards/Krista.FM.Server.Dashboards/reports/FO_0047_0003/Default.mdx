<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0047_0003_grid">
    <![CDATA[
-- FO_0047_0003_grid
with   
    set [Администраторы]   
    as 'Filter   
        (
            [Администратор].[Сопоставим].[Все администраторы].Children,
            (
                ( [Measures].[Код] >= 1 ) and   ( [Measures].[Код] <= 35 )   
            ) or ([Measures].[Код] = 41) or ([Measures].[Код] = 45) or ([Measures].[Код] = 46) or ([Measures].[Код] = 65) or ([Measures].[Код] = 176) or ([Measures].[Код] = 177) or ([Measures].[Код] = 188) or ([Measures].[Код] = 188) or ([Measures].[Код] = 191) or ([Measures].[Код] = 315)   
        )'   
    member [Администратор].[Сопоставим].[Итого]   
    as 'Aggregate({[Администраторы]})'   
    set [Администраторы с итого]   
    as '[Администраторы] +   
        {
            [Администратор].[Сопоставим].[Итого]  
        }'    
		
    member [РзПр].[Сопоставимый].[Расходы бюджета - ИТОГО ]   
    as 'Aggregate   
        (
            {
                [РзПр].[Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА],
                [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ БЕЗОПАСНОСТЬ И ПРАВООХРАНИТЕЛЬНАЯ ДЕЯТЕЛЬНОСТЬ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ЭКОНОМИКА],
                [РзПр].[Сопоставимый].[Все коды ФКР].[ЖИЛИЩНО-КОММУНАЛЬНОЕ ХОЗЯЙСТВО],
                [РзПр].[Сопоставимый].[Все коды ФКР].[ОХРАНА ОКРУЖАЮЩЕЙ СРЕДЫ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[ОБРАЗОВАНИЕ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[КУЛЬТУРА, КИНЕМАТОГРАФИЯ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[ЗДРАВООХРАНЕНИЕ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[СОЦИАЛЬНАЯ ПОЛИТИКА],
                [РзПр].[Сопоставимый].[Все коды ФКР].[Физическая культура и спорт],
                [РзПр].[Сопоставимый].[Все коды ФКР].[СРЕДСТВА МАССОВОЙ ИНФОРМАЦИИ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[Обслуживание государственного и муниципального долга],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ ОБЩЕГО ХАРАКТЕРА БЮДЖЕТАМ СУБЪЕКТОВ РОССИЙСКОЙ ФЕДЕРАЦИИ И МУНИЦИПАЛЬНЫХ ОБРАЗОВАНИЙ],
                [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ]    
            }   
        )'    
    set [РзПр]     
    as '     
        {
            [РзПр].[Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА],
            [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ БЕЗОПАСНОСТЬ И ПРАВООХРАНИТЕЛЬНАЯ ДЕЯТЕЛЬНОСТЬ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ЭКОНОМИКА],
            [РзПр].[Сопоставимый].[Все коды ФКР].[ЖИЛИЩНО-КОММУНАЛЬНОЕ ХОЗЯЙСТВО],
            [РзПр].[Сопоставимый].[Все коды ФКР].[ОХРАНА ОКРУЖАЮЩЕЙ СРЕДЫ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[ОБРАЗОВАНИЕ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[КУЛЬТУРА, КИНЕМАТОГРАФИЯ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[ЗДРАВООХРАНЕНИЕ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[СОЦИАЛЬНАЯ ПОЛИТИКА],
            [РзПр].[Сопоставимый].[Все коды ФКР].[Физическая культура и спорт],
            [РзПр].[Сопоставимый].[Все коды ФКР].[СРЕДСТВА МАССОВОЙ ИНФОРМАЦИИ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[Обслуживание государственного и муниципального долга],
            [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ ОБЩЕГО ХАРАКТЕРА БЮДЖЕТАМ СУБЪЕКТОВ РОССИЙСКОЙ ФЕДЕРАЦИИ И МУНИЦИПАЛЬНЫХ ОБРАЗОВАНИЙ],
            [РзПр].[Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ],
            [РзПр].[Сопоставимый].[Расходы бюджета - ИТОГО ]   
        }'  
		
    set [КОСГУ]   
    as 'Filter  
        (
            Descendants  
            (
                [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:],
                [Задолженность].[Показатели].[СубКОСГУ],
                SELF_AND_BEFORE  
            )  - {[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]},
            not  
            (
                [Задолженность].[Показатели].CurrentMember is [Задолженность].[Показатели].CurrentMember.Parent.DataMember 
            ) and
            not 
            (  
               ("<%period_year%>" = "2011") and 
               ([Задолженность].[Показатели].CurrentMember.Name = "Социальное обеспечение")
            )
        )'

    member [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]   
    as 'Aggregate   
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]   
            }   
        )'    
    member [Measures].[Код]     
    as 'IIF     
        (
            [Администратор].[Сопоставим].CurrentMember is [Администратор].[Сопоставим].DefaultMember,
            IIF  
            (
                [РзПр].[Сопоставимый].CurrentMember is [РзПр].[Сопоставимый].[Расходы бюджета - ИТОГО ],
                StrToValue 
                (
                    [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО].Properties("Код") 
                ),
                StrToValue  
                (
                    [РзПр].[Сопоставимый].CurrentMember.Properties("Код")     
                ) 
            ),
            StrToValue     
            (
                [Администратор].[Сопоставим].CurrentMember.Properties("Код")     
            )     
        )'    
    member [Задолженность].[Показатели].[Задолженность ВСЕГО ] 
    as '[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]'    
    member [Measures].[Уровень]   
    as 'IIF   
        (
            (
                (
                    [Администратор].[Сопоставим].CurrentMember is [Администратор].[Сопоставим].DefaultMember  
                ) and   
                (
                    [РзПр].[Сопоставимый].CurrentMember is [РзПр].[Сопоставимый].[Расходы бюджета - ИТОГО ]
                )   
            ) or   
            (
                (
                    [РзПр].[Сопоставимый].CurrentMember is [РзПр].[Сопоставимый].DefaultMember  
                ) and   
                (
                    [Администратор].[Сопоставим].CurrentMember is [Администратор].[Сопоставим].[Итого]  
                )   
            ),
            0,
            1   
        )'   
    member [Measures].[Факт ]   
    as '[Measures].[Факт] / 1000'  
	member [Задолженность].[Направления финансирования].[Все].[Всего по направлениям]      
    as 'Aggregate    
        (
            {
                [Задолженность].[Направления финансирования].[Все].[аппарат управления],
                [Задолженность].[Направления финансирования].[Все].[подведомственные учреждения],
                [Задолженность].[Направления финансирования].[Все].[капитальное строительство],
                [Задолженность].[Направления финансирования].[Все].[мероприятия],
                [Задолженность].[Направления финансирования].[Все].[целевые программы],
                [Задолженность].[Направления финансирования].[Все].[прочие расходы]
            }    
        )' 
select
    {
        {
            {[Тип средств].[СКИФ].[Все]}   
            *   
            {
                [Задолженность].[Показатели].[Задолженность Всего]
            }   
            *{[Measures].[Код]}   
        } +   
        {
            {<%means_type%>}  
            * 
            {
                [КОСГУ] + 
                {
                    [Задолженность].[Показатели].[Задолженность ВСЕГО ] 
                }
            } 
            * {[Measures].[Факт ]}   
        } +   
        {
            {[Тип средств].[СКИФ].[Все]}   
            *   
            {
                [Задолженность].[Показатели].[Задолженность Всего]
            }   
            *{[Measures].[Уровень]}   
        }   
    } on columns,
    { [<%grid_row_set%>] } on rows   
from [ФО_Задолженность_КзДз]   
where   
    (
        [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
        [Задолженность].[Вид задолженности].[Все].[<%debt_kind%>],
        <%direction_type%>,
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]  
    )                   
  ]]>
  </query>

  <query id="FO_0047_0003_debtKind">
    <![CDATA[
-- FO_0047_0003_debtKind
with 
    set [Задолженности] 
    as '{
            [Задолженность].[Вид задолженности].[Все].[Дебиторская задолженность],
            [Задолженность].[Вид задолженности].[Все].[Кредиторская задолженность]
        }'  
 
    member [Measures].[Имя] 
    as '[Задолженность].[Вид задолженности].CurrentMember.Name'
    member [Measures].[Уникальное имя] 
    as '[Задолженность].[Вид задолженности].CurrentMember.UniqueName'
    member [Measures].[Уровень] 
    as '0' 

select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    [Задолженности]  on rows
from [ФО_Задолженность_КзДз] 
  ]]>
  </query>

  <query id="FO_0047_0003_meansType">
    <![CDATA[
-- FO_0047_0003_meansType
with
    set [Типы средств]
    as '
        {
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]
        }'
    member [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]
    as 'Aggregate
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]
            }
        )'
    member [Measures].[Имя]
    as '[Тип средств].[СКИФ].CurrentMember.Name'
    member [Measures].[Уникальное имя]
    as '[Тип средств].[СКИФ].CurrentMember.UniqueName'
    member [Measures].[Уровень]
    as '0'

select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    [Типы средств] on rows
from [ФО_Задолженность_КзДз]
  ]]>
  </query>

  <query id="FO_0047_0003_directionType">
    <![CDATA[
-- FO_0047_0003_meansType
with  
    set [Направления]  
    as '
        {
		    [Задолженность].[Направления финансирования].[Все].[Всего по направлениям],
            [Задолженность].[Направления финансирования].[Все].[аппарат управления],
            [Задолженность].[Направления финансирования].[Все].[подведомственные учреждения],
            [Задолженность].[Направления финансирования].[Все].[подведомственные учреждения].[автономные учреждения],
            [Задолженность].[Направления финансирования].[Все].[подведомственные учреждения].[бюджетные учреждения],
            [Задолженность].[Направления финансирования].[Все].[подведомственные учреждения].[казенные учреждения],
			[Задолженность].[Направления финансирования].[Все].[капитальное строительство],
            [Задолженность].[Направления финансирования].[Все].[мероприятия],
            [Задолженность].[Направления финансирования].[Все].[целевые программы],
            [Задолженность].[Направления финансирования].[Все].[прочие расходы]
        }'   
	member [Задолженность].[Направления финансирования].[Все].[Всего по направлениям]
    as '[Задолженность].[Направления финансирования].[Все] '
    member [Measures].[Имя]  
    as '[Задолженность].[Направления финансирования].CurrentMember.Name' 
    member [Measures].[Уникальное имя]  
    as '[Задолженность].[Направления финансирования].CurrentMember.UniqueName' 
    member [Measures].[Уровень]          
    as 'IIF          
        (
            [Задолженность].[Направления финансирования].CurrentMember is [Задолженность].[Направления финансирования].[Все].[Всего по направлениям],
            0,
            IIF 
            (
                [Задолженность].[Направления финансирования].CurrentMember.Level is [Задолженность].[Направления финансирования].[Уровень 1],
                1,
                2 
            )  
        )'    
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]  
    } on columns,
    [Направления] on rows 
from [ФО_Задолженность_КзДз]  
  ]]>
  </query>

  <query id="FO_0047_0003_kosguDigest">
    <![CDATA[
-- FO_0047_0003_kosguDigest
with  
        set [КОСГУ]
    as 'Filter
        (
            Descendants
            (
                [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:],
                [Задолженность].[Показатели].[СубКОСГУ],
                SELF_AND_BEFORE
            ) - {[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]},
            not
            (
                [Задолженность].[Показатели].CurrentMember is [Задолженность].[Показатели].CurrentMember.Parent.DataMember
            )
        )'
    member [Measures].[Имя]  
    as '[Задолженность].[Показатели].CurrentMember.Name'
    member [Measures].[Тип]
    as '[Задолженность].[Показатели].CurrentMember.Properties("Код")'
select
    {
        [Measures].[Имя],
        [Measures].[Тип]
    } on columns,
    [КОСГУ] on rows
from [ФО_Задолженность_КзДз]  
  ]]>
  </query>

</root>