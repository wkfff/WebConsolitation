<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="tableNoTarget">
    <![CDATA[
   with      
    member Measures.[Остаток]  
    as '     
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Исходящий остаток]     
        ) '     
    member Measures.[Остаток целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Нераспределенный остаток на конец дня],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'   
    member Measures.[Расход целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Распределено],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'  
    member Measures.[Получено целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Получено],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'  
    member Measures.[Остаток нецелевых средств]  
    as 'Measures.[Остаток] - Measures.[Остаток целевых средств ФБ]'  
    member Measures.[Сумма реестров] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Сумма реестров] 
        ) ' 
    member Measures.[Субсидии, субвенции за день] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Субсидии, субвенции за день] 
        ) ' 
    member Measures.[Иные поступления] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Иные поступления] 
        ) ' 
    member Measures.[Неклассифицированные поступления, подлежащие возврату] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Неклассифицированные поступления, подлежащие возврату финансовым органом плательщику] 
        ) ' 
    member Measures.[Выплаты, отраженные на лицевом счете по коду «02»] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Выплаты, отраженные на лицевом счете по коду «02»] 
        ) ' 
SELECT
    {
        Measures.[Остаток],
        Measures.[Остаток нецелевых средств],
        Measures.[Остаток целевых средств ФБ],
        Measures.[Сумма реестров],
        Measures.[Выплаты, отраженные на лицевом счете по коду «02»],
        Measures.[Расход целевых средств ФБ],
        Measures.[Получено целевых средств ФБ],
        Measures.[Субсидии, субвенции за день],
        Measures.[Иные поступления],
        Measures.[Неклассифицированные поступления, подлежащие возврату]
    } on columns,
    <%period_month%>.Children on rows  
FROM [УФК_Ведомость по движению свободного остатка]    
	]]>
  </query>

  <query id="chartNoTarget">
    <![CDATA[
with      
    member Measures.[Остаток]  
    as '     
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Исходящий остаток]     
        ) '     
    member Measures.[Остаток целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Нераспределенный остаток на конец дня],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'   
    member Measures.[Расход целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Распределено],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'  
    member Measures.[Получено целевых средств ФБ]  
    as 'LookupCube  
        (
            "[УФК_Справка по движению свободного остатка]",
            "  
            (
                [Показатели].[УФК_Операции с субсидиями и субвенциями].[Все].[Получено],
                [Measures].[Сумма за период],
                " + MemberToStr([Период].[День].CurrentMember) + "  
            )"  
        )'  
    member Measures.[Остаток нецелевых средств]  
    as 'Measures.[Остаток] - Measures.[Остаток целевых средств ФБ]'  
    member Measures.[Сумма реестров] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Сумма реестров] 
        ) ' 
    member Measures.[Субсидии, субвенции за день] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Субсидии, субвенции за день] 
        ) ' 
    member Measures.[Иные поступления] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Иные поступления] 
        ) ' 
    member Measures.[Неклассифицированные поступления, подлежащие возврату] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Неклассифицированные поступления, подлежащие возврату финансовым органом плательщику] 
        ) ' 
    member Measures.[Выплаты, отраженные на лицевом счете по коду «02»] 
    as ' 
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Выплаты, отраженные на лицевом счете по коду «02»] 
        ) ' 
    member Measures.[Выплаты]
    as 'Measures.[Сумма реестров] + Measures.[Выплаты, отраженные на лицевом счете по коду «02»]'
    member Measures.[Поступления]
    as 'Measures.[Субсидии, субвенции за день] + Measures.[Иные поступления] + Measures.[Неклассифицированные поступления, подлежащие возврату]'
SELECT
    {
        Measures.[Остаток],
        Measures.[Остаток нецелевых средств],
        Measures.[Остаток целевых средств ФБ],
        Measures.[Выплаты],
        Measures.[Поступления]
    } on columns,
    non empty <%period_month%>.Children on rows
FROM [УФК_Ведомость по движению свободного остатка]       

	]]>
  </query>

  <query id="noteNoTarget">
    <![CDATA[
   with       
    set [Все дни года] 
    as 'Descendants
        (
            <%period_year%>,
            [Период].[День].[День]
        )' 
    member Measures.[Остаток]   
    as '      
        (
            [Measures].[Сумма за период],
            [Показатели].[УФК_Движение свободного остатка].[Все].[Исходящий остаток]      
        ) '      
    member Measures.[Средний остаток] 
    as 'Avg
        (
            [Все дни года],
            Measures.[Остаток]
        )' 
    member Measures.[Min остаток] 
    as 'Min
        (
            [Все дни года],
            Measures.[Остаток]
        )' 
    member Measures.[Max остаток] 
    as 'Max
        (
            [Все дни года],
            Measures.[Остаток]
        )' 
SELECT
    {
        Measures.[Средний остаток],
         Measures.[Min остаток],
        Measures.[Max остаток] 
    } on columns 
FROM [УФК_Ведомость по движению свободного остатка]  
	]]>
  </query>
</root>