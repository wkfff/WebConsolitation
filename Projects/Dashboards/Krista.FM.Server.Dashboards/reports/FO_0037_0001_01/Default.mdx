<?xml version="1.0" encoding="Windows-1251"?>
<root>
  
<query id="FO_0037_0001_01_date">
<![CDATA[
-- FO_0037_0001_01_date
with
    member Measures.[ДанныеНа]
    as '<%period_dimension%>.CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
            NonEmptyCrossjoin({<%period_dimension%>.Members})
        )
    } on rows
from [ФО_Исполнение бюджета_Доходы]
]]>
  </query>

  <query id="FO_0037_0001_01_outcomesLastdate">
    <![CDATA[
-- FO_0037_0001_01_outcomesLastdate
with
    member Measures.[ДанныеНа]
    as '<%period_dimension%>.CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
            NonEmptyCrossjoin({<%period_dimension%>.Members})
        )
    } on rows
from [ФО_Исполнение бюджета]
where
(
    [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого]
)
]]>
      </query>

  <query id="FO_0037_0001_01_grid_incomes">
        <![CDATA[
-- FO_0037_0001_01_grid_incomes
with
   member [Measures].[Удельный вес]
   as 'IIF (([Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ], [Measures].[Исполнено на дату ]) = 0 or
([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember, [Measures].[Исполнено на дату ]) < 0, null,
       100*([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember, [Measures].[Исполнено на дату ])
       /
       ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ], [Measures].[Исполнено на дату ])
       )'
   member [Measures].[Темп роста ]
   as 'IIF ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            IIF
            (
              [Measures].[Исполнено на дату_Прошлый год ] = 0,
              null,
              ([Measures].[Исполнено на дату ] / [Measures].[Исполнено на дату_Прошлый год ])*100 - 100
            ) ,
            [Measures].[Темп роста])'
   member [Measures].[Процент исполнения ]
   as 'IIF ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            IIF
            (
              [Measures].[Годовые назначения ] = 0 or [Measures].[Исполнено на дату ] < 0,
              null,
              ([Measures].[Исполнено на дату ] / [Measures].[Годовые назначения ])*100
            ) ,
            [Measures].[Процент исполнения])'
    set [Показатели]
    as 'Filter
        (
            Descendants
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Уровень 2],
                SELF
            ),
            not
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember.Parent.DataMember
            )
        )'
    member [Measures].[Исполнено_Прошлый год ]
    as 'IIF
        (
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            SUM
            (
                [Показатели],
                [Measures].[Исполнено_Прошлый год]
            ),
            [Measures].[Исполнено_Прошлый год]
        )'
    member [Measures].[Исполнено на дату_Прошлый год ]
    as 'IIF
        (
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            SUM
            (
                [Показатели],
                [Measures].[Исполнено на дату_Прошлый год]
            ),
            [Measures].[Исполнено на дату_Прошлый год]
        )'
    member [Measures].[Годовые назначения ]
    as 'IIF
        (
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            SUM
            (
                [Показатели],
                [Measures].[Годовые назначения]
            ),
            [Measures].[Годовые назначения]
        )'
    member [Measures].[Исполнено на дату ]
    as 'IIF
        (
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            SUM
            (
                [Показатели],
                [Measures].[Исполнено на дату]
            ),
            [Measures].[Исполнено на дату]
        )'
select
    {
        [Measures].[Исполнено_Прошлый год ],
        [Measures].[Исполнено на дату_Прошлый год ],
        [Measures].[Годовые назначения ],
        [Measures].[Исполнено на дату ],
        [Measures].[Темп роста ],
        [Measures].[Процент исполнения ],
        [Measures].[Удельный вес]
    } on columns,
    Non Empty
    {
        {
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]
        } + Filter
        (
            Descendants
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Уровень 2],
                SELF
            ),
            not
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember.Parent.DataMember
            )
        )
    } on rows
from [ФО_Исполнение бюджета]
where  
    (
        <%period_dimension%>.[Данные всех периодов]<%period_date%> 
    )  
  ]]>
  </query>

  <query id="FO_0037_0001_01_grid_outcomes">
    <![CDATA[
-- FO_0037_0001_01_grid_outcomes
with
   member [Measures].[Удельный вес]
   as 'IIF (([Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого], [Measures].[Исполнено на дату]) = 0 or
([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember, [Measures].[Исполнено на дату]) < 0, null,
       100*([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember, [Measures].[Исполнено на дату])
       /
       ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого], [Measures].[Исполнено на дату])
       )'
   member [Measures].[Темп роста ]
   as 'IIF ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого],
            IIF 
            (
              [Measures].[Исполнено на дату_Прошлый год] = 0,
              null,
              ([Measures].[Исполнено на дату] / [Measures].[Исполнено на дату_Прошлый год])*100 - 100
            ) ,
            [Measures].[Темп роста])'
   member [Measures].[Процент исполнения ]
   as 'IIF ([Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого],
            IIF 
            (
              [Measures].[Годовые назначения] = 0 or [Measures].[Исполнено на дату] < 0,
              null,
              ([Measures].[Исполнено на дату] / [Measures].[Годовые назначения])*100
            ) ,
            [Measures].[Процент исполнения])'        
select
    {
        [Measures].[Исполнено_Прошлый год],
        [Measures].[Исполнено на дату_Прошлый год],
        [Measures].[Годовые назначения],
        [Measures].[Исполнено на дату],
        [Measures].[Темп роста ],
        [Measures].[Процент исполнения ],
        [Measures].[Удельный вес]
    } on columns,
    Non Empty      
    {
        {
            [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого]    
        } + Filter    
        (
            Descendants    
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Все].[Расходы бюджета-итого],
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].[Уровень 2],
                SELF    
            ),
            not    
            (
                [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember is [Показатели].[ФО_Исполнение бюджета_Сопоставимый].CurrentMember.Parent.DataMember    
            )    
        )    
    } on rows         
from [ФО_Исполнение бюджета]  
where  
    (
        <%period_dimension%>.[Данные всех периодов]<%period_date%> 
    )  
  ]]>
  </query>

</root>