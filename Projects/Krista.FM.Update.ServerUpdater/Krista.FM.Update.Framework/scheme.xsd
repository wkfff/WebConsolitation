<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSpy v2011 (http://www.altova.com) by Krista (Ru-Board) -->
<!--W3C Schema generated by XMLSpy v2011 (http://www.altova.com)-->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
	<xs:element name="Tasks">
		<xs:complexType>
			<xs:sequence>
				<xs:element ref="FileUpdateTask" minOccurs="0" maxOccurs="unbounded"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	<xs:element name="Patches">
		<xs:complexType>
			<xs:sequence>
				<xs:element ref="Patch" maxOccurs="unbounded"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	<xs:element name="Patch">
		<xs:complexType>
			<xs:sequence>
				<xs:element ref="Conditions" minOccurs="0"/>
				<xs:element ref="Tasks"/>
			</xs:sequence>
			<xs:attribute name="objectKey" type="xs:string" use="required"/>
			<xs:attribute name="use" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:enumeration value="prohibited"/>
						<xs:enumeration value="optional"/>
						<xs:enumeration value="required"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
			<xs:attribute name="description" type="xs:string" use="required"/>
			<xs:attribute name="name" type="xs:string" use="required"/>
			<xs:attribute name="baseUrl" type="xs:anyURI" use="optional"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="OSCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute name="bit" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:byte">
						<xs:enumeration value="64"/>
						<xs:enumeration value="32"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileVersionCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="version" type="xs:string" use="required"/>
			<xs:attribute name="localPath">
				<xs:annotation>
					<xs:documentation>Файл, версию которого проверяем(если не совпадает с файлом самой задачи)</xs:documentation>
				</xs:annotation>
			</xs:attribute>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileUpdateTask">
		<xs:complexType>
			<xs:sequence>
				<xs:element ref="Description"/>
				<xs:element ref="Conditions"/>
			</xs:sequence>
			<xs:attribute name="updateTo" type="xs:string" use="required"/>
			<xs:attribute name="localPath" type="xs:string" use="required"/>
			<xs:attribute name="apply" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:enumeration value="app-restart"/>
						<xs:enumeration value="hot-swap"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileSizeCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="size" type="xs:short" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileExistsCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="localPath" type="xs:string" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileDateCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="timestamp" type="xs:string" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="FileChecksumCondition">
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="sha256-checksum" type="xs:string" use="required"/>
			<xs:attribute name="localPath" type="xs:string" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="Description" type="xs:string"/>
	<xs:element name="Conditions">
		<xs:complexType>
			<xs:choice maxOccurs="unbounded">
				<xs:element ref="FileVersionCondition" minOccurs="0"/>
				<xs:element ref="OSCondition" minOccurs="0"/>
				<xs:element ref="FileSizeCondition" minOccurs="0"/>
				<xs:element ref="FileDateCondition" minOccurs="0"/>
				<xs:element ref="FileChecksumCondition" minOccurs="0"/>
				<xs:element ref="FileExistsCondition" minOccurs="0"/>
				<xs:element ref="EntityExistsCondition" minOccurs="0"/>
				<xs:element ref="OKTMOCondition" minOccurs="0"/>
				<xs:element ref="PackageExistsCondition" minOccurs="0"/>
				<xs:element ref="ServerModuleVersionCondition" minOccurs="0"/>
			</xs:choice>
		</xs:complexType>
	</xs:element>
	<xs:attribute name="what">
		<xs:simpleType>
			<xs:restriction base="xs:string">
				<xs:enumeration value="is"/>
				<xs:enumeration value="above"/>
				<xs:enumeration value="below"/>
			</xs:restriction>
		</xs:simpleType>
	</xs:attribute>
	<xs:attribute name="type">
		<xs:simpleType>
			<xs:restriction base="xs:string">
				<xs:enumeration value="and"/>
				<xs:enumeration value="or"/>
				<xs:enumeration value="not"/>
				<xs:enumeration value="and-not"/>
				<xs:enumeration value="or-not"/>
			</xs:restriction>
		</xs:simpleType>
	</xs:attribute>
	<xs:element name="EntityExistsCondition">
		<xs:annotation>
			<xs:documentation>Условие проверяет наличие объекта в схеме по уникальному идентификатору</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute name="ObjectKey" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="OKTMOCondition">
		<xs:annotation>
			<xs:documentation>Условие проверяет региональную константу</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute name="OKTMO" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="PackageExistsCondition">
		<xs:annotation>
			<xs:documentation>Условие проверяет наличие пакета в схеме по его наименванию</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute name="Name" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="ServerModuleVersionCondition">
		<xs:annotation>
			<xs:documentation>Условие проверяет версию модуля сервера</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:attribute ref="type"/>
			<xs:attribute ref="what"/>
			<xs:attribute name="version"/>
			<xs:attribute name="moduleName"/>
		</xs:complexType>
	</xs:element>
</xs:schema>
