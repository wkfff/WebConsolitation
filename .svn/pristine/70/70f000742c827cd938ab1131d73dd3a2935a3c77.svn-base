<?xml version="1.0" encoding="Windows-1251"?>
<root>

    <query id="FO_0005_0001_rests_date">
        <![CDATA[
-- FO_0005_0001_rests_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                [Период__Период].[Период__Период].[Месяц].Members,
                not IsEmpty([Measures].[Факт]) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
            ),
            1
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
     { [NonEmptySet] } on rows 
from  [ФО_МесОтч_СпрВнутрДолг]
  ]]>
    </query>
    
<query id="ChartOutcomesAll">
<![CDATA[
-- fo_0035_0001_data
WITH 
    member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Государственные ценные бумаги НСО] 
    as '[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[эмиссионные ценные бумаги, указанные в валюте Российской Федерации]' 
    member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Бюджетные кредиты, привлеченные в бюджет НСО от других бюджетов бюджетной системы РФ] 
    as '[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[бюджетные кредиты, полученные от других бюджетов бюджетной системы Российской Федерации, всего]' 
    member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Государственные гарантии НСО] 
    as '[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[государственные гарантии субъекта Российской Федерации в валюте Российской Федерации]' 
    member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Кредиты, полученные НСО от кредитных организаций] 
    as '[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[кредиты, полученные в валюте Российской Федерации от кредитных организаций]' 
     member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Иные непогашенные долговые обязательства НСО]
    as '[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего].[иные долговые обязательства в валюте Российской Федерации]'
    member [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Год]
    as '[Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Name * 1000'
    SET [Показатели] 
    as ' 
        {[Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Государственные ценные бумаги НСО], 
        [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Кредиты, полученные НСО от кредитных организаций],
               [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Бюджетные кредиты, привлеченные в бюджет НСО от других бюджетов бюджетной системы РФ],  
                 [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Государственные гарантии НСО], 
               [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Иные непогашенные долговые обязательства НСО],
                          
            [Показатели__СопМесОСпВнтД].[Показатели__СопМесОСпВнтД].[Год]
        } ' 
    SET [NonFilterColumnSet] 
    AS ' filter
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов] ,
                [Период__Период].[Период__Период].[Год] ,
                SELF
            ),
            not
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember
            ) and
            (
                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <= ParallelPeriod([Период__Период].[Период__Период].[Год], 1, <%period_cur_date%>).Properties("PKID")
            )
            and
            (
                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") >= ParallelPeriod([Период__Период].[Период__Период].[Год], 7, <%period_cur_date%>).Properties("PKID")
            )
        ) + filter
        (
            Descendants
            (
                [Период__Период].[Период__Период].[Данные всех периодов] ,
                [Период__Период].[Период__Период].[Месяц] ,
                SELF
            ),
            not
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember
            )   and
            (
                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") >=  <%period_cur_date%>.Parent.Parent.Parent.Properties("PKID")
            )   and
            (
                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <= <%period_cur_date%>.Properties("PKID")
            )
        )' 
    member [Measures].[Факт ]  
    as 'IIF ( isEmpty ([Measures].[Факт]), 0, [Measures].[Факт]  / 1000)'  
    member [Measures].[Год ]    
    as '[Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Name' 
SELECT
    { [Показатели] } ON COLUMNS ,
    {[NonFilterColumnSet]} ON ROWS      
FROM  [ФО_МесОтч_СпрВнутрДолг]  
WHERE          
    (
        [Measures].[Факт ],
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов] ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта]          
    )          
  ]]>
  </query>
</root>