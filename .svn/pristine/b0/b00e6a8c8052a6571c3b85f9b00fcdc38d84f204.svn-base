<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id = "ZPN_0001_0001_list_of_dates">
    <![CDATA[ -- ZPN_0001_0001_list_of_dates
with
    member Measures.[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Filter
    (
        {
            [Период].[Период].[Год].Members
        },
        not ([ФНС_65н_Показатели].[Все].[Общая сумма задолженности - всего].[общая сумма задолженности по налогу] = 0)
    ) on rows
from [ФНС_28н_без расщепления]
  ]]>
  </query>

  <query id = "ZPN_0001_0001_list_of_regions">
    <![CDATA[ -- ZPN_0001_0001_list_of_regions
with
    member Measures.[Район]
    as '[Районы].[Сопоставимый].CurrentMember.UniqueName'
select
    {Measures.[Район]} on columns,
    Filter
    (
        {
            [Районы].[Сопоставимый].[Все районы].[Курганская область],
            [Районы].[Сопоставимый].[Все районы].[Свердловская область],
            [Районы].[Сопоставимый].[Все районы].[Тюменская область],
            [Районы].[Сопоставимый].[Все районы].[Челябинская область],
            [Районы].[Сопоставимый].[Все районы].[Ханты-Мансийский автономный округ],
            [Районы].[Сопоставимый].[Все районы].[Ямало-Ненецкий автономный округ]
        },
        not ([Measures].[За период], [ФНС_65н_Показатели].[Все].[Общая сумма задолженности - всего].[общая сумма задолженности по налогу]) = 0
    ) on rows
from [ФНС_28н_без расщепления]
  ]]>
  </query>

  <query id = "ZPN_0001_0001_chart1_stat_trud">
    <![CDATA[ -- ZPN_0001_0001_chart1_stat_trud
with
    member [Measures].[Объем среднемесячной заработной платы]
    as '
        (
            [Measures].[За период],
            [Труд].[Заработная плата].[Все показатели].[Объем среднемесячной заработной платы]
        ) / 1000000'
    member [Measures].[НДФЛ расчетный (13%)]
    as '
        (
            [Measures].[За период],
            [Труд].[Заработная плата].[Все показатели].[НДФЛ расчетный (13%)]
        ) / 1000000'
select
    {
        [Measures].[Объем среднемесячной заработной платы],
        [Measures].[НДФЛ расчетный (13%)]
    } on columns,
    non empty {
        filter
        (
            {
                Descendants
                (
                    [Период].[Год Квартал Месяц].[Данные всех периодов].[<%selected_year%>],
                    [Период].[Год Квартал Месяц].[Месяц],
                    SELF
                )
            },
            not ([Measures].[За период] < 0)
        )
    } on rows
from [СТАТ_Труд_Заработная плата]
where
    (
        [Территории].[РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].[<%selected_region%>],
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Субъект РФ],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[<%selected_action%>]
    )
    ]]>
  </query>

  <query id = "ZPN_0001_0001_chart1_fns28">
    <![CDATA[ -- ZPN_0001_0001_chart1_fns28
with
member [Measures].[ЗаПериод]
as '[Measures].[За период] / 1000000'
select
    { [Measures].[ЗаПериод] } on columns,
    non empty {
        filter
        (
            {
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[<%selected_year%>],
                    [Период].[Период].[Месяц],
                    SELF
                )
            },
            not ([Measures].[За период] < 0)
        )
    } on rows
from [ФНС_28н_без расщепления]
where
    (
        [ФНС_65н_Показатели].[Все].[Поступило - всего].[налога],
        [ОКВЭД].[Сопоставимый].[Все коды ОКВЭД].[<%selected_action%>],
        [Районы].[Сопоставимый].[Все районы].[<%selected_region%>],
        [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц].[Налог на доходы физических лиц с доходов, облагаемых по налоговой ставке, установленной пунктом 1 статьи 224 Налогового кодекса Российской Федерации]
    )    
    ]]>
  </query>

  <query id = "ZPN_0001_0001_chart2">
    <![CDATA[ -- ZPN_0001_0001_chart2
with
member [Measures].[ЗаПериод]
as 'iif([Measures].[За период] < 0,
    null,
    [Measures].[За период] / 1000000)'
select
    non empty {
            [Районы].[Сопоставимый].[Все районы].[Курганская область],
            [Районы].[Сопоставимый].[Все районы].[Свердловская область],
            [Районы].[Сопоставимый].[Все районы].[Тюменская область],
            [Районы].[Сопоставимый].[Все районы].[Челябинская область],
            [Районы].[Сопоставимый].[Все районы].[Ханты-Мансийский автономный округ],
            [Районы].[Сопоставимый].[Все районы].[Ямало-Ненецкий автономный округ]
        } on columns,
    non empty {
            {
                Descendants
                (
                    [Период].[Период].[Данные всех периодов].[<%selected_year%>],
                    [Период].[Период].[Месяц],
                    SELF
                )
            }
    } on rows
from [ФНС_28н_без расщепления]
where
    (
        [Measures].[ЗаПериод],
        [ФНС_65н_Показатели].[Все].[Общая сумма задолженности - всего].[общая сумма задолженности по налогу],
        [ОКВЭД].[Сопоставимый].[Все коды ОКВЭД].[<%selected_action%>],
        [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц].[Налог на доходы физических лиц с доходов, облагаемых по налоговой ставке, установленной пунктом 1 статьи 224 Налогового кодекса Российской Федерации]
    )    
    ]]>
  </query>

  <query id = "ZPN_0001_0001_chartLegend">
    <![CDATA[ -- ZPN_0001_0001_chartLegend
with
member [Measures].[Для выборки]
as '1000'
select
    {
            [Районы].[Сопоставимый].[Все районы].[Курганская область],
            [Районы].[Сопоставимый].[Все районы].[Свердловская область],
            [Районы].[Сопоставимый].[Все районы].[Тюменская область],
            [Районы].[Сопоставимый].[Все районы].[Челябинская область],
            [Районы].[Сопоставимый].[Все районы].[Ханты-Мансийский автономный округ],
            [Районы].[Сопоставимый].[Все районы].[Ямало-Ненецкий автономный округ]
        } on columns,
    {[Measures].[Для выборки]} on rows
from [ФНС_28н_без расщепления] 
    ]]>
  </query>
  
  <query id = "ZPN_0001_0001_chart3">
    <![CDATA[ -- ZPN_0001_0001_chart3
with
    member [Measures].[СНачалаГода]
    as '[Measures].[С начала года] / 1000000'
select
    {
        filter
        (
            {
            [Районы].[Сопоставимый].[Все районы].[Курганская область],
            [Районы].[Сопоставимый].[Все районы].[Свердловская область],
            [Районы].[Сопоставимый].[Все районы].[Тюменская область],
            [Районы].[Сопоставимый].[Все районы].[Челябинская область],
            [Районы].[Сопоставимый].[Все районы].[Ханты-Мансийский автономный округ],
            [Районы].[Сопоставимый].[Все районы].[Ямало-Ненецкий автономный округ]
        },
            not ([Measures].[С начала года] = 0)
        )
    } on columns,
    {[Measures].[СНачалаГода]} on rows 
from [ФНС_28н_без расщепления]
where
    (
        [ФНС_65н_Показатели].[Все].[Поступило - всего].[налога],
        [ОКВЭД].[Сопоставимый].[Все коды ОКВЭД].[<%selected_action%>],
        [Период].[Период].[Данные всех периодов].[<%selected_year%>],
        [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц].[Налог на доходы физических лиц с доходов, облагаемых по налоговой ставке, установленной пунктом 1 статьи 224 Налогового кодекса Российской Федерации]
    )
    ]]>
  </query>

  <query id = "ZPN_0001_0001_grid_fns28">
    <![CDATA[ -- ZPN_0001_0001_grid_fns28
with
    member [Measures].[НДФЛ поступило]
    as 'iif(
        (
            [Measures].[За период],
            [ФНС_65н_Показатели].[Все].[Поступило - всего].[налога]
        ) < 0,
        null,
        (
            [Measures].[За период],
            [ФНС_65н_Показатели].[Все].[Поступило - всего].[налога]
        )
    )'
    member [Measures].[Задолженность по НДФЛ]
    as '
        (
            [Measures].[За период],
            [ФНС_65н_Показатели].[Все].[Общая сумма задолженности - всего].[общая сумма задолженности по налогу]
        )'
    member [Measures].[Объем среднемесячной заработной платы]
    as '
        (
            [Measures].[За период]
        )'
select
    non empty {
        {
            filter
            (
                {
            [Районы].[Сопоставимый].[Все районы].[Курганская область],
            [Районы].[Сопоставимый].[Все районы].[Свердловская область],
            [Районы].[Сопоставимый].[Все районы].[Тюменская область],
            [Районы].[Сопоставимый].[Все районы].[Челябинская область],
            [Районы].[Сопоставимый].[Все районы].[Ханты-Мансийский автономный округ],
            [Районы].[Сопоставимый].[Все районы].[Ямало-Ненецкий автономный округ]
        },
                (
                    [Measures].[НДФЛ поступило] > 0
                ) or
                (
                    [Measures].[Задолженность по НДФЛ] > 0
                )
            )
        }
        *
        {
            [Measures].[Объем среднемесячной заработной платы],
            [Measures].[НДФЛ поступило],
            [Measures].[Задолженность по НДФЛ]
        }
    } on columns,
    {
        filter
        (
            Descendants
            (
                [Период].[Период].[Данные всех периодов].[<%selected_year%>],
                [Период].[Период].[Месяц],
                SELF
            ),
            not (
                [Measures].[НДФЛ поступило] = 0
            ) or
            not (
                [Measures].[Задолженность по НДФЛ] = 0
            )
        )
    } on rows
from [ФНС_28н_без расщепления]
where
    (
        [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц].[Налог на доходы физических лиц с доходов, облагаемых по налоговой ставке, установленной пунктом 1 статьи 224 Налогового кодекса Российской Федерации],
        [ОКВЭД].[Сопоставимый].[Все коды ОКВЭД].[<%selected_action%>]
    )
    ]]>
  </query>

  <query id = "ZPN_0001_0001_grid_stat_trud">
    <![CDATA[ -- ZPN_0001_0001_grid_stat_trud
with
    member [Measures].[Объем среднемесячной заработной платы]
    as '
        (
            [Measures].[За период],
            [Труд].[Заработная плата].[Все показатели].[Объем среднемесячной заработной платы]
        )'
select
    non empty
    {
        {
            [Территории].[РФ].[Все территории].[Российская Федерация].[Уральский федеральный округ].Children
        }
        *
        {
            [Measures].[Объем среднемесячной заработной платы]
        }
    } on columns,
    {
        filter
        (
            {
                Descendants
                (
                    [Период].[Год Квартал Месяц].[Данные всех периодов].[<%selected_year%>],
                    [Период].[Год Квартал Месяц].[Месяц],
                    SELF
                )
            },
            not ([Measures].[Объем среднемесячной заработной платы] = 0)
        )
    } on rows
from [СТАТ_Труд_Заработная плата]
where
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - Субъект РФ],
        [ОК].[ОКВЭД].[Все виды экономической деятельности].[<%selected_action%>]
    )
    ]]>
  </query>
  
</root>