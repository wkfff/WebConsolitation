CALCULATE;

SCOPE({[Measures].[За период]});
this = CalculationPassValue(
  IIF(isEmpty([Период__День ФК].[Период__День ФК].CurrentMember.DataMember),
    [Период__День ФК].[Период__День ФК].CurrentMember,
    [Период__День ФК].[Период__День ФК].CurrentMember.DataMember),
0)
;
END SCOPE;
CREATE MEMBER CURRENTCUBE.Measures.[С начала года] AS CalculationPassValue(
IIF(
[Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[(All)] or
[Период__Период].[Период__Период].CurrentMember.Level is [Период__Период].[Период__Период].[Год] or
([Период__Период].[Период__Период].CurrentMember Is OpeningPeriod([Период__Период].[Период__Период].CurrentMember.Level, Ancestor([Период__Период].[Период__Период].CurrentMember, [Период__Период].[Период__Период].[Год]))),
(Measures.[За период], [Период__Период].[Период__Период].CurrentMember),

Sum({OpeningPeriod([Период__Период].[Период__Период].CurrentMember.Level, Ancestor([Период__Период].[Период__Период].CurrentMember, [Период__Период].[Период__Период].[Год])):
[Период__Период].[Период__Период].CurrentMember}, Measures.[За период]))
, 1), FORMAT_STRING = "Currency";