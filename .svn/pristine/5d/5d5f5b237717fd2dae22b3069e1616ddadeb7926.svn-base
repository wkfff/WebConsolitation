<?xml version="1.0" encoding="windows-1251"?>
<root>
  <query id = "lastdate">
    <![CDATA[
select
    {
        [Measures].[Количество контрактов]
    } on columns,
    {
        --Tail
       -- (
            Filter
            (
                [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Квартал].AllMembers,
                [Measures].[Количество контрактов] > 0
            )
       -- ).Item(0)
    } DIMENSION PROPERTIES MEMBER_UNIQUE_NAME on rows
FROM [ЭО_Мониторинг_Контракты]
WHERE
    (
  --  <%region%>,
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Все способы закупок],
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]   
        }   
    )  

 
 ]]>

  </query>
  <query id = "years">
    <![CDATA[
select
    {
        [Measures].[Количество контрактов]
    } on columns,
    {
        
            Filter
            (
                [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Год].Members,
                [Measures].[Количество контрактов] > 0
            )
        
    }  on rows
FROM [ЭО_Мониторинг_Контракты]
WHERE
    (
   -- <%region%>,
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Все способы закупок],
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
        }
    )

 
 ]]>

  </query>
  <query id = "grid">
    <![CDATA[
SELECT
    NON EMPTY
    {
        {<%Descendants%>}
        *
        {
            [Measures].[Количество контрактов],
            [Measures].[Стоимость контракта]
        }
    } on columns,
    NON EMPTY
    {
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Способ закупки].AllMembers,
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Все способы закупок]
    } on rows
FROM [ЭО_Мониторинг_Контракты]
WHERE
    (
    --<%region%>,
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]
        }
    )

 
 ]]>

  </query>
  <query id = "chart1">
    <![CDATA[
SELECT
    NON EMPTY  
    {
        [Measures].[Количество контрактов]  
    } on columns,
    {
      <%Descendants%>
    } DIMENSION PROPERTIES MEMBER_UNIQUE_NAME on rows
FROM [ЭО_Мониторинг_Контракты]  
WHERE  
    (
  --  <%region%>,
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Все способы закупок]<%current_way%>,
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]  
        }  
    ) 
 
 ]]>

  </query>
  <query id = "chart2">
    <![CDATA[
SELECT
    NON EMPTY  
    {
        [Measures].[Стоимость контракта]  
    } on columns,
    {
      <%Descendants%>
    } DIMENSION PROPERTIES MEMBER_UNIQUE_NAME on rows
FROM [ЭО_Мониторинг_Контракты]  
WHERE  
    (
  --  <%region%>,
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Все способы закупок]<%current_way%>,
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]  
        }  
    )
 
 ]]>

  </query>
  <query id = "chart3">
    <![CDATA[
SELECT
    NON EMPTY
    {
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].[<%year%>] 
    } on columns,
    NON EMPTY 
    {
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Способ закупки].AllMembers  
    } on rows   
FROM [ЭО_Мониторинг_Контракты]   
WHERE   
    (
   -- <%region%>,
        [Measures].[Количество контрактов],
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]   
        }   
    )   
 
 ]]>

  </query>
  <query id = "chart4">
    <![CDATA[
SELECT
    NON EMPTY
    {
        [Мониторинг__Дата принятия сведений].[Мониторинг__Дата принятия сведений].[Данные всех периодов].[<%year%>] 
    } on columns,
    NON EMPTY 
    {
        [Мониторинг__Способы закупок].[Мониторинг__Способы закупок].[Способ закупки].AllMembers  
    } on rows   
FROM [ЭО_Мониторинг_Контракты]   
WHERE   
    (
   -- <%region%>,
        [Measures].[Стоимость контракта],
        {
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Подписан],
            [Мониторинг__Состояния контрактов].[Мониторинг__Состояния контрактов].[Все состояния].[Исполнен]   
        }   
    )    
 
 ]]>

  </query>
</root>