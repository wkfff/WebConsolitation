<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FK_0004_0001_lastDate">
    <![CDATA[
-- FK_0004_0001_lastDate
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    Tail 
    (
        Filter 
        (
            [Период].[Период].[День].Members,
            not IsEmpty([Measures].[Факт на дату]) 
        ) 
    ) on rows 
from [ФК_Остатки средств бюджета]           
  ]]>
  </query>
  
  <query id="FK_0004_0001_grid">
    <![CDATA[
-- FK_0004_0001_grid
with  
    member [Measures].[Наименование]  
    as '[Показатели].[Остатки средств].CurrentMember.Properties("Краткое наименование")' 
    member [Measures].[Факт на начало года ]  
    as '[Measures].[Факт на начало года] / 1000000000'   
    member [Measures].[Факт на дату ]  
    as '[Measures].[Факт на дату] / 1000000000'   
    member [Measures].[Изменение с начала года ]  
    as '[Measures].[Изменение с начала года] / 1000000000'  
    member [Measures].[Уровень ]
    as '[Показатели].[Остатки средств].CurrentMember.Properties("Уровень вложения показателя")'
    member [Measures].[Уникальное имя ]
    as '[Показатели].[Остатки средств].CurrentMember.UniqueName'
select
    {
        [Measures].[Наименование],
        [Measures].[Факт на начало года ],
        [Measures].[Факт на дату ] ,
        [Measures].[Изменение с начала года ],
        [Measures].[Уровень ],
        [Measures].[Уникальное имя ]
    } on columns,
    non empty  
    {
        [Показатели].[Остатки средств].[Все показатели].Children  
    } on rows  
From [ФК_Остатки средств бюджета]  
where  
    (
        <%selected_period%>
    )  
  ]]>
  </query>

  <query id="FK_0004_0001_restChart">
    <![CDATA[
-- FK_0004_0001_restChart
with 
    member [Measures].[Наименование] 
    as '[Показатели].[Остатки средств].CurrentMember.Properties("Краткое наименование")' 
    member [Measures].[Факт на дату ] 
    as '[Measures].[Факт на дату] / 1000000000' 

    member [Measures].[Хинт ]  
    as 'IIF  
        (
            [Показатели].[Остатки средств].CurrentMember is [Показатели].[Остатки средств].[Все показатели].[1000_Остатки средств федерального бюджета на ЕКС],
            "Объем остатков средств федерального бюджета на счете № 40105 «Средства федерального бюджета», открытом Федеральному казначейству РФ в учреждении Центрального банка РФ для учета средств федерального бюджета и осуществления операций по кассовым поступлениям в федеральный бюджет и кассовым выплатам из федерального бюджета.",
            IIF  
            (
                [Показатели].[Остатки средств].CurrentMember is [Показатели].[Остатки средств].[Все показатели].[2000_Средства ФБ, размещенные на депозиты],
                "Объем остатков средств федерального бюджета на счете № 410 «Депозиты Минфина России», открытом Федеральному казначейству РФ в учреждении Центрального банка РФ для учета средств федерального бюджета и осуществления операций по кассовым поступлениям в федеральный бюджет и кассовым выплатам из федерального бюджета.",
                IIF 
                (
                    [Показатели].[Остатки средств].CurrentMember is [Показатели].[Остатки средств].[Все показатели].[3000_Резервный Фонд (совокупный объем), в рублях],
                    "Часть средств федерального бюджета, подлежащих обособленному учету и управлению в целях осуществления нефтегазового трансферта в случае недостаточности нефтегазовых доходов для финансового обеспечения указанного трансферта (ст. 96.9 БК РФ). Резервный Фонд России сформирован 1 февраля 2008 года после разделения Стабилизационного фонда.",
                    IIF 
                    (
                        [Показатели].[Остатки средств].CurrentMember is [Показатели].[Остатки средств].[Все показатели].[5000_ФНБ (совокупный объем), в рублях],
                        "Часть средств федерального бюджета, подлежащих обособленному учету и управлению в целях обеспечения софинансирования добровольных пенсионных накоплений граждан РФ, а также обеспечения сбалансированности (покрытия дефицита) бюджета Пенсионного фонда РФ (ст. 96.10 БК РФ). Фонд национального благосостояния России сформирован 1 февраля 2008 года после разделения Стабилизационного фонда.",
                        "Совокупный объем остатков средств бюджетов сформированных на счетах  40116 «Средства для выплаты наличных денег организациям», 40201 «Средства бюджетов субъектов Российской Федерации», 40204 «Средства местных бюджетов», «Средства, поступившие во временное распоряжение бюджетных учреждений» и ряд других, открытых Федеральному казначейству РФ и его территориальным органам в кредитных учреждениях РФ для учета средств бюджетов разных уровней и осуществления операций по кассовым поступлениям в соответствующие бюджеты и кассовым выплатам из них."
                    ) 
                ) 
            )  
        )'
        
select
    {
        [Measures].[Наименование],
        [Measures].[Факт на дату ],
        [Measures].[Хинт ]
    } on columns,
    non empty 
    {
            [Показатели].[Остатки средств].[Все показатели].[1000_Остатки средств федерального бюджета на ЕКС],
            [Показатели].[Остатки средств].[Все показатели].[2000_Средства ФБ, размещенные на депозиты],
            [Показатели].[Остатки средств].[Все показатели].[3000_Резервный Фонд (совокупный объем), в рублях],
            [Показатели].[Остатки средств].[Все показатели].[5000_ФНБ (совокупный объем), в рублях],
            [Показатели].[Остатки средств].[Все показатели].[7000_Остатки на других счетах Казначейства России]
    } on rows 
From [ФК_Остатки средств бюджета] 
where ( <%selected_period%> ) 
  ]]>
  </query>

  <query id="FK_0004_0001_dynamicChart">
    <![CDATA[
-- FK_0004_0001_dynamicChart
with  
    set [Периоды]  
    as 'Tail  
        (
            Filter  
            (
                Descendants  
                (
                    [Период].[Период].[Данные всех периодов].[<%period_year%>],
                    [Период].[Период].[День],
                    SELF  
                ),
                not  
                (
                    [Период].[Период].CurrentMember is [Период].[Период].CurrentMember.Parent.DataMember  
                ) and  
                (
                    [Период].[Период].CurrentMember.Name <> "Заключительные обороты"  
                ) and  
                (
                    [Период].[Период].CurrentMember.Name <> "Данные года" 
                ) and 
                (
                    [Период].[Период].CurrentMember.Name <> "Остатки на начало года" 
                )and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                    [Период].[Период].CurrentMember.Properties("PKID") < <%selected_period%>.Properties("PKID")
                ) 
            ),
            30  
        ) +  
        {
            <%selected_period%>
        } + Head
        (
            Filter  
            (
                Descendants  
                (
                    [Период].[Период].[Данные всех периодов].[<%period_year%>],
                    [Период].[Период].[День],
                    SELF  
                ),
                not  
                (
                    [Период].[Период].CurrentMember is [Период].[Период].CurrentMember.Parent.DataMember  
                ) and  
                (
                    [Период].[Период].CurrentMember.Name <> "Заключительные обороты"  
                ) and  
                (
                    [Период].[Период].CurrentMember.Name <> "Данные года" 
                ) and 
                (
                    [Период].[Период].CurrentMember.Name <> "Остатки на начало года" 
                )and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                    [Период].[Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                    [Период].[Период].CurrentMember.Properties("PKID") > <%selected_period%>.Properties("PKID")
                ) 
            ),
            30  
        )'  
        
        
    member [Показатели].[Остатки средств].[Уникальное имя ] 
    as '[Период].[Период].CurrentMember.UniqueName' 
    member [Показатели].[Остатки средств].[Уникальное имя  ] 
    as '[Период].[Период].CurrentMember.UniqueName' 
    
    member [Показатели].[Остатки средств].[Выбранный показатель]
    as '<%selected_grid_indicator%> / 1000000000'
select
    {
        [Показатели].[Остатки средств].[Уникальное имя ],
        [Показатели].[Остатки средств].[Уникальное имя  ],
        [Показатели].[Остатки средств].[Выбранный показатель]
    } on columns,
    Filter 
    (
        [Периоды],
        not IsEmpty([Measures].[Факт на дату])
    ) on rows 
From [ФК_Остатки средств бюджета] 
where ( [Measures].[Факт на дату] )
  ]]>
  </query>

  <query id="FK_0004_0001_dynamicChartLimit">
    <![CDATA[
-- FK_0004_0001_dynamicChartLimit
with  
    member [Показатели].[Остатки средств].[Выбранный показатель]
    as '<%selected_grid_indicator%> / 1000000000'
select
    {
        [Measures].[Факт на начало года]
    } on columns,
    { [Показатели].[Остатки средств].[Выбранный показатель]} on rows 
From [ФК_Остатки средств бюджета] 
where ( [Период].[Период].[Данные всех периодов].[<%period_year%>] )
  ]]>
  </query>

</root>