<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FK_0001_0011_date">
    <![CDATA[
-- FK_0001_0011_detail_date 
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Исполнено]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца" and
                [Период].[Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from [ФК_МесОтч_Доходы]
]]>
</query>

<query id="FK_0001_0011_assessment_grid">
<![CDATA[
-- FK_0001_0011_assessment_grid
with
    member [КД].[Сопоставимый].[Собственные доходы, млн.руб.]
    as 'AGGREGATE
        (
            {
                {
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации]
                            }
                        }
                    ),
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]
                            }
                        }
                    )
                },
                {
                    [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    [КД].[Сопоставимый].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]
                }
            }
        )'
    member [КД].[Сопоставимый].[Межбюджетные трансферты ФБ (за исключением субвенций), млн.руб.]
    as 'AGGREGATE
        (
            {
                {
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]
                            }
                        }
                    )
                }
            }
        )'
    member [КД].[Сопоставимый].[Доходы]
    as 'Aggregate
        (
            {
            [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            [КД].[Сопоставимый].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]
            }
        )'

    member [КД].[Сопоставимый].[Группа по доле МТ] 
    as 'LookupCube
        (
            "[МФ РФ_Индикаторы БК и КУ]",
            "
            (
                [Период].[Период].[Данные всех периодов].[<%period_year%>],
                [Вариант].[БККУ].[Все].[По данным годовой отчетности],
                [МФ РФ].[Сопоставимый индикаторы БККУ].[Все индикаторы].[Группа, присвоенная субъекту РФ по доле МБТ],
                " + [Территории].[Сопоставимый].CurrentMember.UniqueName + "
            )"
        )'

    member [КД].[Сопоставимый].[Нормативное значение]
    as 'IIF
        (
            IsEmpty
            (
                [КД].[Сопоставимый].[Группа по доле МТ]
            ),
            null,
            IIF
            (
                [КД].[Сопоставимый].[Группа по доле МТ] = 1,
                0.1,
                0.15
            )
        )'
    member [КД].[Сопоставимый].[Дефицит бюджета]
    as 'LookupCube
        (
            "[ФК_МесОтч_Дефицит Профицит]",
            "
            (
                [Measures].[<%selectedItem%>],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Текущий дефицит]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Дефицит бюджета], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) < 0,
            -[КД].[Сопоставимый].[Дефицит бюджета],
            0
        )'
    member [КД].[Сопоставимый].[Поступления от продаж акций]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Иные источники внутреннего финансирования дефицитов бюджетов].[Акции и иные формы участия в капитале, находящиеся в государственной и муниципальной собственности].[Средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Поступления от продаж акций_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Поступления от продаж акций], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Поступления от продаж акций],
            0
        )'        
    member [КД].[Сопоставимый].[Снижение остатков средств бюджета]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[Изменение остатков средств на счетах по учету средств бюджета],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Снижение остатков средств бюджета_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Снижение остатков средств бюджета], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Снижение остатков средств бюджета],
            0
        )'
    member [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
    as '
        (
            [Measures].[<%selectedMap%>],
            [КД].[Сопоставимый].[Доходы]
        )'
    member [КД].[Сопоставимый].[Доля дефицита в доходах без безвозмездных поступлений]
    as 'IIF
        (
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] = 0,
            null,
            IIF
            (
                [КД].[Сопоставимый].[Поступления от продаж акций_] > 0 <%deficit_operation%> [КД].[Сопоставимый].[Снижение остатков средств бюджета_] > 0,
                (
                    [КД].[Сопоставимый].[Текущий дефицит] - [КД].[Сопоставимый].[Поступления от продаж акций_] - [КД].[Сопоставимый].[Снижение остатков средств бюджета_]
                )/
                (
                    [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
                ),
                [КД].[Сопоставимый].[Текущий дефицит] /
                (
                    [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
                )
            )
        )'
    member [КД].[Сопоставимый].[Наличие нарушения]
    as 'IIF
        (
             ([КД].[Сопоставимый].[Максимально допустимый дефицит (Федеральный закон №58-ФЗ)], [Период].[Период].[Данные всех периодов].<%period_day_fk%>)
             <= 
             ([КД].[Сопоставимый].[Текущий дефицит], [Период].[Период].[Данные всех периодов].<%period_day_fk%>),
             "Нарушение",
             " "            
        )'
    member [КД].[Сопоставимый].[Допустимый дефицит]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Поступления от продаж акций], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0 <%deficit_operation%>
            ([КД].[Сопоставимый].[Снижение остатков средств бюджета_], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] * [КД].[Сопоставимый].[Нормативное значение] + [КД].[Сопоставимый].[Поступления от продаж акций_] + [КД].[Сопоставимый].[Снижение остатков средств бюджета_],
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] * [КД].[Сопоставимый].[Нормативное значение]
        )'
    member [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Бюджетные кредиты от других бюджетов бюджетной системы Российской Федерации],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами],
            0
        )'
    member [КД].[Сопоставимый].[Максимально допустимый дефицит (Федеральный закон №58-ФЗ)]
    as 'IIF
        (
           ([КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
           [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_] + [КД].[Сопоставимый].[Допустимый дефицит],
           [КД].[Сопоставимый].[Допустимый дефицит]
        )
        '
    member [КД].[Сопоставимый].[Наличие нарушения (с учетом всех допущений)]
    as 'IIF
            (
              ([КД].[Сопоставимый].[Доля дефицита в доходах без безвозмездных поступлений], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) 
              >= 
              ([КД].[Сопоставимый].[Нормативное значение], [Период].[Период].[Данные всех периодов].<%period_day_fk%>),
              "Нарушение",
              " "
            )
        '
    member [КД].[Сопоставимый].[ФО]
    as '[Территории].[Сопоставимый].CurrentMember.Parent.Properties("Сокращенное наименование")'
select
    {
        [КД].[Сопоставимый].[ФО],
        [КД].[Сопоставимый].[Группа по доле МТ],
        [КД].[Сопоставимый].[Текущий дефицит],
        [КД].[Сопоставимый].[Максимально допустимый дефицит (Федеральный закон №58-ФЗ)],
        [КД].[Сопоставимый].[Допустимый дефицит],
        
        [КД].[Сопоставимый].[Нормативное значение],
        [КД].[Сопоставимый].[Поступления от продаж акций_],
        [КД].[Сопоставимый].[Снижение остатков средств бюджета_],
        [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений],
        [КД].[Сопоставимый].[Доля дефицита в доходах без безвозмездных поступлений],
        [КД].[Сопоставимый].[Наличие нарушения],
        [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_],
        [КД].[Сопоставимый].[Наличие нарушения (с учетом всех допущений)]
    } on columns,
    non empty Filter
    (
        [Территории].[Сопоставимый].[Субъект РФ].AllMembers,
        (
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                (
                    [Measures].[<%selectedItem%>]
                ) <> 0
            ) <%filter%>
        )
    ) on rows
from [ФК_МесОтч_Доходы]
where
    (
        [Уровни бюджета].[СКИФ].[Бюджет субъекта],
        [Период].[Период].[Данные всех периодов].<%period_day_fk%>
    )
  ]]>
  </query>

  <query id="FK_0001_0011_assessment_chart">
    <![CDATA[
-- FK_0001_0011_assessment_chart
-- <#[ФК_МесОтч_Доходы];[ФК_МесОтч_Дефицит Профицит];[ФК_МесОтч_Источники финансирования]#>
with
    member [КД].[Сопоставимый].[Собственные доходы, млн.руб.]
    as 'AGGREGATE
        (
            {
                {
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации]
                            }
                        }
                    ),
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]
                            }
                        }
                    )
                },
                {
                    [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    [КД].[Сопоставимый].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]
                }
            }
        )'
    member [КД].[Сопоставимый].[Межбюджетные трансферты ФБ (за исключением субвенций), млн.руб.]
    as 'AGGREGATE
        (
            {
                {
                    Except
                    (
                        [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].Children ,
                        {
                            {
                                [КД].[Сопоставимый].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Субвенции бюджетам субъектов Российской Федерации и муниципальных образований]
                            }
                        }
                    )
                }
            }
        )'
    member [КД].[Сопоставимый].[Доходы]
    as 'Aggregate
        (
            {
            [КД].[Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            [КД].[Сопоставимый].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]
            }
        )'


    member [КД].[Сопоставимый].[Группа по доле МТ] 
    as 'LookupCube
        (
            "[МФ РФ_Индикаторы БК и КУ]",
            "
            (
                [Период].[Период].[Данные всех периодов].[<%period_year%>],
                [Вариант].[БККУ].[Все].[По данным годовой отчетности],
                [МФ РФ].[Сопоставимый индикаторы БККУ].[Все индикаторы].[Группа, присвоенная субъекту РФ по доле МБТ],
                " + [Территории].[Сопоставимый].CurrentMember.UniqueName + "
            )"
        )'

    member [КД].[Сопоставимый].[Нормативное значение]
    as 'IIF
        (
            IsEmpty
            (
                [КД].[Сопоставимый].[Группа по доле МТ]
            ),
            null,
            IIF
            (
                [КД].[Сопоставимый].[Группа по доле МТ] = 1,
                0.1,
                0.15
            )
        )'
    member [КД].[Сопоставимый].[Дефицит бюджета]
    as 'LookupCube
        (
            "[ФК_МесОтч_Дефицит Профицит]",
            "
            (
                [Measures].[<%selectedItem%>],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Текущий дефицит]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Дефицит бюджета], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) < 0,
            -[КД].[Сопоставимый].[Дефицит бюджета],
            0
        )'
    member [КД].[Сопоставимый].[Поступления от продаж акций]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Иные источники внутреннего финансирования дефицитов бюджетов].[Акции и иные формы участия в капитале, находящиеся в государственной и муниципальной собственности].[Средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Поступления от продаж акций_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Поступления от продаж акций], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Поступления от продаж акций],
            0
        )'           
    member [КД].[Сопоставимый].[Снижение остатков средств бюджета]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[Изменение остатков средств на счетах по учету средств бюджета],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Снижение остатков средств бюджета_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Снижение остатков средств бюджета], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Снижение остатков средств бюджета],
            0
        )'
    member [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
    as '
        (
            [Measures].[<%selectedMap%>],
            [КД].[Сопоставимый].[Доходы]
        )'
    member [КД].[Сопоставимый].[Доля дефицита в доходах без безвозмездных поступлений]
    as 'IIF
        (
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] = 0,
            null,
            IIF
            (
                [КД].[Сопоставимый].[Поступления от продаж акций_] > 0 <%deficit_operation%> [КД].[Сопоставимый].[Снижение остатков средств бюджета_] > 0,
                (
                    [КД].[Сопоставимый].[Текущий дефицит] - [КД].[Сопоставимый].[Поступления от продаж акций_] - [КД].[Сопоставимый].[Снижение остатков средств бюджета_]
                )/
                (
                    [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
                ),
                [КД].[Сопоставимый].[Текущий дефицит] /
                (
                    [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений]
                )
            )
        )'
    member [КД].[Сопоставимый].[Наличие нарушения]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Доля дефицита в доходах без безвозмездных поступлений], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) 
            >= 
            ([КД].[Сопоставимый].[Нормативное значение], [Период].[Период].[Данные всех периодов].<%period_day_fk%>),
            "Нарушение",
            " "
        )'
    member [КД].[Сопоставимый].[Допустимый дефицит]
    as 'IIF
        (
            [КД].[Сопоставимый].[Поступления от продаж акций_] > 0 <%deficit_operation%> [КД].[Сопоставимый].[Снижение остатков средств бюджета_] > 0,
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] * [КД].[Сопоставимый].[Нормативное значение] + [КД].[Сопоставимый].[Поступления от продаж акций_] + [КД].[Сопоставимый].[Снижение остатков средств бюджета_],
            [КД].[Сопоставимый].[Доходы бюджета без безвозмездных поступлений] * [КД].[Сопоставимый].[Нормативное значение]
        )'
    member [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами]
    as 'LookupCube
        (
            "[ФК_МесОтч_Источники финансирования]",
            "
            (
                [Measures].[<%selectedMap%>],
                [КИФ].[Сопоставимый].[Все источники финансирования].[ИСТОЧНИКИ ВНУТРЕННЕГО ФИНАНСИРОВАНИЯ ДЕФИЦИТОВ БЮДЖЕТОВ].[Бюджетные кредиты от других бюджетов бюджетной системы Российской Федерации],
                " + MemberToStr
                (
                    [Территории].[Сопоставимый].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Уровни бюджета].[СКИФ].CurrentMember
                ) + ",
                " + MemberToStr
                (
                    [Период].[Период].CurrentMember
                ) + "
            )"
        )'
    member [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
            [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами],
            0
        )'
    member [КД].[Сопоставимый].[Максимально допустимый дефицит]
    as 'IIF
        (
           ([КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_], [Период].[Период].[Данные всех периодов].<%period_day_fk%>) > 0,
           [КД].[Сопоставимый].[Разница между полученными и погашенными бюджетными кредитами_] + [КД].[Сопоставимый].[Допустимый дефицит],
           [КД].[Сопоставимый].[Допустимый дефицит]
        )
        '
    member [КД].[Сопоставимый].[Наличие нарушения (с учетом всех допущений)]
    as 'IIF
            (
               [КД].[Сопоставимый].[Максимально допустимый дефицит] <= [КД].[Сопоставимый].[Текущий дефицит],
               "Нарушение",
               " "
            )
        '
    member [КД].[Сопоставимый].[ФО]
    as '[Территории].[Сопоставимый].CurrentMember.Parent.Properties("Сокращенное наименование")'
   
    member [КД].[Сопоставимый].[Превышение предельного дефицита]
    as 'IIF
        (
            ([КД].[Сопоставимый].[Текущий дефицит], [Период].[Период].[Данные всех периодов].<%period_day_fk%>)
            > 
            ([КД].[Сопоставимый].[<%variant_mes_otch%>], [Период].[Период].[Данные всех периодов].<%period_day_fk%>),
            "Превышение",
            " "
        )'
select
    {
        [КД].[Сопоставимый].[Текущий дефицит],
        [КД].[Сопоставимый].[Максимально допустимый дефицит],
        [КД].[Сопоставимый].[Допустимый дефицит],
        [КД].[Сопоставимый].[Превышение предельного дефицита]
    } on columns,
    non empty Filter
    (
        [Территории].[Сопоставимый].[Субъект РФ].AllMembers,
        (
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            ) and
            (
                (
                    [Measures].[<%selectedItem%>]
                ) <> 0
            ) <%filter%> <%fkr_filter%>
        )
    ) on rows
from [ФК_МесОтч_Доходы]
where
    (
        [Уровни бюджета].[СКИФ].[Бюджет субъекта],
        [Период].[Период].[Данные всех периодов].<%period_day_fk%>
    )
  ]]>
  </query>
  
</root>