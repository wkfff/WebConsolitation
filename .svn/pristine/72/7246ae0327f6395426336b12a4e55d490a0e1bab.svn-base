<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="date">
    <![CDATA[
-- fo_0035_0002_date
-- <#[ФО_Исполнение кассового плана]#>
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
            NonEmptyCrossjoin({[Период].[Период].Members})
        )
    } on rows 
from [ФО_Исполнение кассового плана] 
]]>
  </query>

  <query id="data">
    <![CDATA[
-- fo_0035_0001_data   
    select
    {
        [Measures].[<%measure_plan%>],
        [Measures].[<%measure_fact%>] 
    } on columns,
    {
         [Показатели].[ИспКасПлан].[Все].[<%measure_start_balance%>],
         [Показатели].[ИспКасПлан].[Все].[<%measure_end_balance%>],
         [Показатели].[ИспКасПлан].[Все].[КАССОВЫЕ ПОСТУПЛЕНИЯ - ВСЕГО],
         [Показатели].[ИспКасПлан].[Все].[КАССОВЫЕ ВЫПЛАТЫ - ВСЕГО]
    }
    on rows 
    from [ФО_Исполнение кассового плана] 
where 
    (
        <%period_cur_date%>  
    ) 
  ]]>
  </query>
  
  <query id="Execute">
    <![CDATA[
-- fo_0035_0002_Execute
-- <#[ФО_Исполнение кассового плана]#>
with 
    member Measures.[Код] 
    as '[Показатели].[ИспКасПлан].CurrentMember.Properties("Код")' 
select
    {
        Measures.[Код]
    } on columns,
    Except 
    (
        [Показатели].[ИспКасПлан].[Показатель].Members,
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано'] 
        } 
    ) on rows 
from [ФО_Исполнение кассового плана]
	]]>
  </query>

  <query id="ExecuteOutcome">
    <![CDATA[
-- fo_0035_0002_ExecuteOutcome
-- <#[ФО_Исполнение кассового плана_Расходы]#>
with 
    member Measures.[КВСР] 
    as '[Администратор].[ИспКасПланСопост].CurrentMember.Properties("Код")' 
select
    {
        Measures.[КВСР]
    } on columns,
    Except 
    (
        [Администратор].[ИспКасПланСопост].[ГРБС].Members,
        {
            [Администратор].[ИспКасПланСопост].[Все].[Несопоставленные данные] 
        } 
    ) on rows 
from [ФО_Исполнение кассового плана_Расходы]
	]]>
  </query>

  <query id="GridOutcome">
    <![CDATA[
-- fo_0035_0002_GridOutcome
-- <#[ФО_Исполнение кассового плана_Расходы]#>
with   
    member Measures.[План ]
    as '[Measures].[План] / 1000'
    member Measures.[Факт ]
    as '[Measures].[Факт] / 1000'
    member Measures.[Факт за день]
    as '[Measures].[Факт за период] / 1000'
select
    {        
        {
            Except
            (
                [Расходы].[ИспКасПлан].[Вид расходов].Members,
                {
                    [Расходы].[ИспКасПлан].[Все].['Значение не указано']
                }
            )
            *
            {
                [Measures].[План ],
                [Measures].[Факт ],
                [Measures].[Процент исполнения],
                [Measures].[Факт за день]
            }
        }
    } on columns,
     Descendants
        (
            [Период].[Период].[Данные всех периодов]<%period_quater%>,
            [Период].[Период].[День],
            SELF
        )  on rows
from <%cube_name%>
where
    (
        <%organization%>
    )
	]]>
  </query>

  <query id="ChartOutcome">
    <![CDATA[
-- fo_0035_0002_ChartOutcome
-- <#[ФО_Исполнение кассового плана_Расходы]#>
with 
    member [Measures].[Месяц]
    as '[Период].[Период].CurrentMember.Parent.Name'
    member Measures.[Факт за день]
    as 'IIF
        (
            IsEmpty
            (
                [Measures].[Факт за период]
            ),
            0,
            [Measures].[Факт за период] / 1000
        )'
select
    {
        {
            Except 
            (
                [Расходы].[ИспКасПлан].[Вид расходов].Members,
                {
                    [Расходы].[ИспКасПлан].[Все].['Значение не указано'],
                    [Расходы].[ИспКасПлан].[Все].[Итого] 
                } 
            ) 
            * { [Measures].[Факт за день] } }  + 
        {
            [Расходы].[ИспКасПлан].[Все].['Значение не указано'] 
        } 
        *  { [Measures].[Месяц] }          
    } on columns,
    Descendants 
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF 
    )  on rows 
from [ФО_Исполнение кассового плана_Расходы] 
where ( <%organization%> ) 
	]]>
  </query>

  <query id="GridRests">
    <![CDATA[
-- fo_0035_0002_Grid
-- <#[ФО_Исполнение кассового плана]#>
with
    member [Measures].[Факт, тыс.руб.]
    as '[Measures].[Факт] / 1000'
    member [Measures].[План, тыс.руб.]
    as '[Measures].[План] / 1000'
    member [Measures].[Изменение суммы остатка за день, тыс.руб.]
    as '[Measures].[Факт за период] / 1000'
select
    {
        [Measures].[План, тыс.руб.],
        [Measures].[Факт, тыс.руб.],
        [Measures].[Изменение суммы остатка за день, тыс.руб.]
    } on columns,
     Descendants
        (
            [Период].[Период].[Данные всех периодов]<%period_quater%>,
            [Период].[Период].[День],
            SELF
        )  on rows
from [ФО_Исполнение кассового плана]
where
    (
        [Показатели].[ИспКасПлан].[Все].[Остаток средств на конец квартала]
    )
	]]>
  </query>

  <query id="ChartRests">
    <![CDATA[
-- fo_0035_0002_Grid 
with
member [Measures].[Месяц]
    as '[Период].[Период].CurrentMember.Parent.Name'
    member [Measures].[Остаток ]
    as '[Measures].[Факт] / 1000'
select
    {       
       [Measures].[Остаток ],
       [Measures].[Месяц]
    } on columns,
     Descendants
        (
            [Период].[Период].[Данные всех периодов]<%period_quater%>,
            [Период].[Период].[День],
            SELF
        )  on rows
from [ФО_Исполнение кассового плана]
where
    (
        [Показатели].[ИспКасПлан].[Все].[Остаток средств на конец квартала]
    )
	]]>
  </query>

  <query id="ChartIncomes">
    <![CDATA[
-- fo_0035_0002_Grid
-- <#[ФО_Исполнение кассового плана]#>
with
member [Measures].[Месяц]
    as '[Период].[Период].CurrentMember.Parent.Name'
    member Measures.[<%selectedItem%>]
    as '[Measures].[Факт за период] / 1000'
select
    {
        [Measures].[<%selectedItem%>],
       [Measures].[Месяц]
    } on columns,
    Descendants
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF
    )  on rows
from [ФО_Исполнение кассового плана]
where
    (
        <%organization%>
    )
	]]>
  </query>

  <query id="GridIncomes">
    <![CDATA[
-- fo_0035_0002_Grid
-- <#[ФО_Исполнение кассового плана]#>
with
    member Measures.[План, тыс.руб.]
    as '[Measures].[План] / 1000'
    member Measures.[Факт, тыс.руб.]
    as '[Measures].[Факт] / 1000'
    member Measures.[Факт за день, тыс.руб.]
    as '[Measures].[Факт за период] / 1000'
select
    {
        {
            {
                [Measures].[План, тыс.руб.],
                [Measures].[Факт, тыс.руб.],
                [Measures].[Процент исполнения],
                [Measures].[Факт за день, тыс.руб.]
            }
        }
    } on columns,
     Descendants
        (
            [Период].[Период].[Данные всех периодов]<%period_quater%>,
            [Период].[Период].[День],
            SELF
        )  on rows
from  [ФО_Исполнение кассового плана]
where
    (
        <%organization%>
    )
	]]>
  </query>

  <query id="ChartIncomesAll">
    <![CDATA[
    -- <#[ФО_Исполнение кассового плана]#>
with 
    member [Measures].[Месяц] 
    as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день] 
    as 'IIF 
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000
        )' 
select
    {
        {
            [Показатели].[ИспКасПлан].[Все].[Доходы областного бюджета],
            [Показатели].[ИспКасПлан].[Все].[привлечения заемных средств],
            [Показатели].[ИспКасПлан].[Все].[возврат кредитов],
            [Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности] 
        } 
        * { [Measures].[Факт за день] } + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано']
        } 
        *  { [Measures].[Месяц] } 
    } on columns,
Descendants 
(
    [Период].[Период].[Данные всех периодов]<%period_quater%>,
    [Период].[Период].[День],
    SELF 
)  on rows 
from [ФО_Исполнение кассового плана]

	]]>
  </query>

  <query id="ChartOutcomesAll">
    <![CDATA[
-- <#[ФО_Исполнение кассового плана]#>
with 
    member [Measures].[Месяц] 
    as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день] 
    as 'IIF (IsEmpty([Measures].[Факт за период]), 0, [Measures].[Факт за период] / 1000)' 
select
    {
        {
            [Показатели].[ИспКасПлан].[Все].[Расходы - всего],
            [Показатели].[ИспКасПлан].[Все].[погашение долговых обязательств],
            [Показатели].[ИспКасПлан].[Все].[выдача кредитов],
            [Показатели].[ИспКасПлан].[Все].[кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации]
        } 
        * { [Measures].[Факт за день] }  + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано']
        } 
        *  { [Measures].[Месяц] } 
    } 
 on columns,
Descendants 
(
    [Период].[Период].[Данные всех периодов]<%period_quater%>,
    [Период].[Период].[День],
    SELF 
)  on rows 
from [ФО_Исполнение кассового плана]
	]]>
  </query>

  <query id="ChartBudgetIncomes">
    <![CDATA[
    -- <#[ФО_Исполнение кассового плана]#>
with 
    member [Measures].[Месяц] 
    as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день] 
    as '[Measures].[Факт за период] / 1000' 
select
    {
        {
            [Показатели].[ИспКасПлан].[Все].[собственные],
            [Показатели].[ИспКасПлан].[Все].[безвозмездные поступления]  
        } 
        * { [Measures].[Факт за день] } + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано']
        } 
        *  { [Measures].[Месяц] }  
    } 
 on columns,
Descendants 
(
    [Период].[Период].[Данные всех периодов]<%period_quater%>,
    [Период].[Период].[День],
    SELF 
)  on rows 
from [ФО_Исполнение кассового плана]
	]]>
  </query>

  <query id="ChartDeficite">
    <![CDATA[
    -- <#[ФО_Исполнение кассового плана]#>
	        
   with      
       member [Measures].[Месяц] 
       as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день]      
    as 'IIF      
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000      
        )'      
    member [Показатели].[ИспКасПлан].[Погашение долговых обязательств ]
    as '[Показатели].[ИспКасПлан].[Все].[погашение долговых обязательств]
        * -1'
    member [Показатели].[ИспКасПлан].[Выдача кредитов ]
    as '[Показатели].[ИспКасПлан].[Все].[выдача кредитов]
        * -1'
    member [Показатели].[ИспКасПлан].[Кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации ]
    as '[Показатели].[ИспКасПлан].[Все].[кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации]
        * -1'
select
    {
        {
            [Показатели].[ИспКасПлан].[Все].[привлечения заемных средств],
            [Показатели].[ИспКасПлан].[Погашение долговых обязательств ],
            [Показатели].[ИспКасПлан].[Выдача кредитов ],
            [Показатели].[ИспКасПлан].[Все].[возврат кредитов],
            [Показатели].[ИспКасПлан].[Кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации ],
            [Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]    
        }       
        * { [Measures].[Факт за день] }  + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано']
        } 
        *  { [Measures].[Месяц] }       
    } on columns,
Descendants 
(
    [Период].[Период].[Данные всех периодов]<%period_quater%>,
    [Период].[Период].[День],
    SELF 
)  on rows 
from [ФО_Исполнение кассового плана]
	]]>
  </query>

  <query id="GridDeficite">
    <![CDATA[
    -- <#[ФО_Исполнение кассового плана]#>  
    with    
    member Measures.[План, тыс.руб.]   
    as '[Measures].[План] / 1000'   
    member Measures.[Факт, тыс.руб.]       
    as '[Measures].[Факт] / 1000'   
    member Measures.[Факт за день, тыс.руб.]   
    as '[Measures].[Факт за период] / 1000'   
    member [Показатели].[ИспКасПлан].[Погашение долговых обязательств ]       
    as '[Показатели].[ИспКасПлан].[Все].[погашение долговых обязательств]       
        * -1'       
    member [Показатели].[ИспКасПлан].[Выдача кредитов ]       
    as '[Показатели].[ИспКасПлан].[Все].[выдача кредитов]       
        * -1'       
    member [Показатели].[ИспКасПлан].[Кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации ]       
    as '[Показатели].[ИспКасПлан].[Все].[кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации]       
        * -1'       
    member [Показатели].[ИспКасПлан].[Итог]   
    as '[Показатели].[ИспКасПлан].[Все].[привлечения заемных средств] + [Показатели].[ИспКасПлан].[Погашение долговых обязательств ] + [Показатели].[ИспКасПлан].[Выдача кредитов ] + [Показатели].[ИспКасПлан].[Все].[возврат кредитов] + [Показатели].[ИспКасПлан].[Кассовые выплаты на приобретение акций и иных форм участия в капитале в собственность субъектов Российской Федерации ] + [Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]'   
select
    {
        [Measures].[План, тыс.руб.],
        [Measures].[Факт, тыс.руб.],
        [Measures].[Процент исполнения],
        [Measures].[Факт за день, тыс.руб.]    
    } on columns,
    Descendants       
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF       
    ) on rows       
from [ФО_Исполнение кассового плана]   
where   
    (
        [Показатели].[ИспКасПлан].[Итог]  
    )
  ]]>
  </query>

  <query id="ChartOutcomeTotal">
    <![CDATA[
-- fo_0035_0002_ChartOutcome
-- <#[ФО_Исполнение кассового плана_Расходы]#>
with 
member [Measures].[Месяц] 
    as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день] 
    as 'IIF 
        (
            IsEmpty ( [Measures].[Факт за период] ),
            0,
            [Measures].[Факт за период] / 1000 
        )' 
select
    {
        {
            Except 
            (
                [Расходы].[ИспКасПлан].[Вид расходов].Members,
                {
                    [Расходы].[ИспКасПлан].[Все].['Значение не указано'],
                    [Расходы].[ИспКасПлан].[Все].[Итого] 
                } 
            ) 
         }
        * { [Measures].[Факт за день] }  + 
        {
            [Расходы].[ИспКасПлан].[Все].['Значение не указано'] 
        } 
        *  { [Measures].[Месяц] } 
    } on columns,
    Descendants 
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF 
    ) on rows 
from [ФО_Исполнение кассового плана_Расходы] 
	]]>
  </query>

  <query id="GridOutcomeTotal">
    <![CDATA[
-- fo_0035_0002_ChartOutcome
-- <#[ФО_Исполнение кассового плана_Расходы]#>
with
    member Measures.[План ]
    as '[Measures].[План] / 1000'
    member Measures.[Факт ]
    as '[Measures].[Факт] / 1000'
    member Measures.[Факт за день]
    as '[Measures].[Факт за период] / 1000'
select
    {
        {
            Except
            (
                [Расходы].[ИспКасПлан].[Вид расходов].Members,
                {
                    [Расходы].[ИспКасПлан].[Все].['Значение не указано']
                }
            )
            *
            {
                [Measures].[План ],
                [Measures].[Факт ],
                [Measures].[Процент исполнения],
                [Measures].[Факт за день]
            }
        }
    } on columns,
    Descendants 
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF 
    ) on rows 
from [ФО_Исполнение кассового плана_Расходы] 
	]]>
  </query>
</root>

