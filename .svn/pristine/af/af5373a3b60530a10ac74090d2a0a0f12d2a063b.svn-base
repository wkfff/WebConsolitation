<?xml version="1.0" encoding="Windows-1251"?>
<root>
  
  <query id="IT_0002_0001_incomes">
    <![CDATA[
-- IT_0002_0001_incomes
with     
    member [Период].[Период].[Темп роста плана]    
    as 'IIF    
        (
            IsEmpty    
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]   
                )    
            ) or    
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]   
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[План]   
            )/    
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]   
            )    
        )'    
    member [Период].[Период].[Темп роста уточненного плана]   
    as 'IIF   
        (
            IsEmpty   
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]   
                )   
            ) or   
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]   
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Уточненный план]   
            )/   
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]   
            )   
        )'   
    member [Период].[Период].[Темп роста факта]  
    as 'IIF  
        (
            IsEmpty  
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]  
                )  
            ) or  
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]  
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]  
            )/  
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]  
            )  
        )'  
    member [Период].[Период].[Темп роста ]     
    as 'IIF     
        (
            Measures.CurrentMember is [Measures].[План],
            [Период].[Период].[Темп роста плана],
            IIF   
            (
                Measures.CurrentMember is [Measures].[Уточненный план],
                [Период].[Период].[Темп роста уточненного плана],
                IIF  
                (
                    Measures.CurrentMember is [Measures].[Факт],
                    [Период].[Период].[Темп роста факта],
                    null  
                )  
            )   
        )' 
    member [Период].[Период].[1 п/г 2009 тыс.руб.] 
    as '[Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь]' 
    member [Период].[Период].[1 п/г 2010 тыс.руб.] 
    as '[Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь]' 
select
    {
        [Период].[Период].[1 п/г 2009 тыс.руб.],
        [Период].[Период].[1 п/г 2010 тыс.руб.],
        [Период].[Период].[Темп роста ]     
    } on columns,
    {
        [Measures].[План],
        [Measures].[Уточненный план],
        [Measures].[Факт],
        [Measures].[% исполнения]        
    }  on rows         
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]       
where      
    (
        [СвязьБезопасность].[Показатели].[Все].[Итого доходов]
    )
]]>
</query>

  <query id="IT_0002_0001_outcomes">
    <![CDATA[
-- IT_0002_0001_outcomes
with
    member [Период].[Период].[Темп роста плана]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]
                )
            ) or
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[План]
            )/
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            )
        )'
    member [Период].[Период].[Темп роста уточненного плана]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]
                )
            ) or
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Уточненный план]
            )/
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            )
        )'
    member [Период].[Период].[Темп роста факта]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                    [Measures].[Факт]
                )
            ) or
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            )/
            (
                [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                [Measures].[Факт]
            )
        )'
    member [Период].[Период].[Темп роста ]
    as 'IIF
        (
            Measures.CurrentMember is [Measures].[План],
            [Период].[Период].[Темп роста плана],
            IIF
            (
                Measures.CurrentMember is [Measures].[Уточненный план],
                [Период].[Период].[Темп роста уточненного плана],
                IIF
                (
                    Measures.CurrentMember is [Measures].[Факт],
                    [Период].[Период].[Темп роста факта],
                    null
                )
            )
        )'
    member [Период].[Период].[1 п/г 2009 тыс.руб.]
    as '[Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь]'
    member [Период].[Период].[1 п/г 2010 тыс.руб.]
    as '[Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь]'
select
    {
        [Период].[Период].[1 п/г 2009 тыс.руб.],
        [Период].[Период].[1 п/г 2010 тыс.руб.],
        [Период].[Период].[Темп роста ]
    } on columns,
    {
        [Measures].[План],
        [Measures].[Уточненный план],
        [Measures].[Факт],
        [Measures].[% исполнения]
    }  on rows
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]
where      
    (
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов]
    )
]]>
</query>

  <query id="IT_0002_0001_rests">
    <![CDATA[
-- IT_0002_0001_rests
with
    member [СвязьБезопасность].[Показатели].[Выручка от реализации услуг, тыс. руб]
    as 'Sum
        (
            {
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг охранной деятельности],
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг по договорам ТСО]
            }
        ) / 1000'
        member [СвязьБезопасность].[Показатели].[Прибыль (убыток) до налогообложения, тыс. руб]
    as '[СвязьБезопасность].[Показатели].[Все].[Прибыль (убыток) до налогообложения] / 1000'
    member [СвязьБезопасность].[Показатели].[Рентабельность деятельности (к затратам), %]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                    [Measures].[Факт]
                )
            ) or
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Прибыль (убыток) до налогообложения],
                [Measures].[Факт]
            )/
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            ) * 100
        )'
    member [СвязьБезопасность].[Показатели].[Затраты на 100 рублей выручки, руб.]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                    [Measures].[Факт]
                )
            ) or
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                [Measures].[Факт]
            )/
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            ) * 100
        )'
    member [СвязьБезопасность].[Показатели].[Соотношение ФОТ к доходам, %]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                    [Measures].[Факт]
                )
            ) or
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Заработная плата –всего],
                [Measures].[Факт]
            )/
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт]
            )
        )'
    member [Период].[Период].[1 п/г 2009]
    as '[Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь]'
    member [Период].[Период].[1 п/г 2010]
    as '[Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь]'
    member [Период].[Период].[Лучший филиал]
    as 'Tail
        (
            Order
            (
                filter
                (
                    [Филиалы],
                    not IsEmpty
                    (
                        (
                            [СвязьБезопасность].[Показатели].CurrentMember,
                            [Период].[Период].[1 п/г 2010]
                        )
                    )
                ),
                (
                    [СвязьБезопасность].[Показатели].CurrentMember,
                    [Период].[Период].[1 п/г 2010]
                ),
                ASC
            )
        ).Item(0).Properties("Name")'
    member [Период].[Период].[Лучший филиал значение]
    as '
        (
            Tail
            (
                Order
                (
                    filter
                    (
                        [Филиалы],
                        not IsEmpty
                        (
                            (
                                [СвязьБезопасность].[Показатели].CurrentMember,
                                [Период].[Период].[1 п/г 2010]
                            )
                        )
                    ),
                    (
                        [СвязьБезопасность].[Показатели].CurrentMember,
                        [Период].[Период].[1 п/г 2010]
                    ),
                    ASC
                )
            ).Item(0),
            [СвязьБезопасность].[Показатели].CurrentMember,
            [Период].[Период].[1 п/г 2010]
        )'
    member [Период].[Период].[Худший филиал]
    as 'Tail
        (
            Order
            (
                filter
                (
                    [Филиалы],
                    not IsEmpty
                    (
                        (
                            [СвязьБезопасность].[Показатели].CurrentMember,
                            [Период].[Период].[1 п/г 2010]
                        )
                    )
                ),
                (
                    [СвязьБезопасность].[Показатели].CurrentMember,
                    [Период].[Период].[1 п/г 2010]
                ),
                DESC
            )
        ).Item(0).Properties("Name")'
    member [Период].[Период].[Худший филиал значение]
    as '
        (
            Tail
            (
                Order
                (
                    filter
                    (
                        [Филиалы],
                        not IsEmpty
                        (
                            (
                                [СвязьБезопасность].[Показатели].CurrentMember,
                                [Период].[Период].[1 п/г 2010]
                            )
                        )
                    ),
                    (
                        [СвязьБезопасность].[Показатели].CurrentMember,
                        [Период].[Период].[1 п/г 2010]
                    ),
                    DESC
                )
            ).Item(0),
            [СвязьБезопасность].[Показатели].CurrentMember,
            [Период].[Период].[1 п/г 2010]
        )'
    set [Филиалы]
    as '
        {
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[Филиал ФГУП «СВЯЗЬ-безопасность» Управление ведомственной охраны по г. Москве, Московской области и Центральному федеральному округу],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[Филиал ФГУП «СВЯЗЬ-безопасность» Управление ведомственной охраны по г. Санкт-Петербургу, Ленинградской области и Северо-Западному федеральному округу],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[ФИЛИАЛ по ЮФО (г. Краснодар, Краснодарский край, Республика Адыгея и ЮФО)],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[ФИЛИАЛ по Приволжскому ФО],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[ФИЛИАЛ по Уральскому федеральному округу],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[ФИЛИАЛ по СФО],
            [СвязьБезопасность].[Филиалы].[Все].[Консолидированный ФГУП «СВЯЗЬ-безопасность»].[Филиал ФГУП «СВЯЗЬ - безопасность» - Управление ведомственной охраны по г. Владивостоку, Приморскому краю и Дальневосточному федеральному округу]
        }'
select
    {
        [Период].[Период].[1 п/г 2009],
        [Период].[Период].[1 п/г 2010],
        [Период].[Период].[Лучший филиал],
        [Период].[Период].[Лучший филиал значение],
        [Период].[Период].[Худший филиал],
        [Период].[Период].[Худший филиал значение]
    } on columns,
    { 
        [СвязьБезопасность].[Показатели].[Выручка от реализации услуг, тыс. руб],
        [СвязьБезопасность].[Показатели].[Прибыль (убыток) до налогообложения, тыс. руб],
        [СвязьБезопасность].[Показатели].[Рентабельность деятельности (к затратам), %],
        [СвязьБезопасность].[Показатели].[Затраты на 100 рублей выручки, руб.],
        [СвязьБезопасность].[Показатели].[Соотношение ФОТ к доходам, %]
    }     on rows
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]
]]>
</query>

  <query id="IT_0002_0001_assesment">
    <![CDATA[
-- IT_0002_0001_assesment
with 
    member [СвязьБезопасность].[Показатели].[Выручка от реализации услуг, тыс. руб] 
    as 'Sum 
        (
            {
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг охранной деятельности],
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг по договорам ТСО] 
            } 
        ) / 1000' 
    member [СвязьБезопасность].[Показатели].[Прибыль (убыток) до налогообложения, тыс. руб] 
    as '[СвязьБезопасность].[Показатели].[Все].[Прибыль (убыток) до налогообложения] / 1000' 
    member [СвязьБезопасность].[Показатели].[Рентабельность деятельности (к затратам), %]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                    [Measures].[Факт]
                )
            ) or
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                [Measures].[Факт]
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Прибыль (убыток) до налогообложения],
                [Measures].[Факт]
            )/
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                [Measures].[Факт]
            )
            * 100
        )'
    member [СвязьБезопасность].[Показатели].[Затраты на 100 рублей выручки, руб.] 
    as 'IIF 
        (
            IsEmpty 
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                    [Measures].[Факт] 
                ) 
            ) or 
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт] 
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                [Measures].[Факт] 
            )/ 
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт] 
            ) 
            * 100 
        )' 
    member [СвязьБезопасность].[Показатели].[Соотношение ФОТ к доходам, %] 
    as 'IIF 
        (
            IsEmpty 
            (
                (
                    [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                    [Measures].[Факт] 
                ) 
            ) or 
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт] 
            ) = 0,
            null,
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Заработная плата –всего],
                [Measures].[Факт] 
            )/ 
            (
                [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                [Measures].[Факт] 
            ) 
        )' 
    member [Период].[Период].[1 п/г 2009] 
    as '[Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь]' 
    member [Период].[Период].[1 п/г 2010] 
    as '[Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь]' 
    member [Период].[Период].[Лучший филиал] 
    as 'Tail 
        (
            Order 
            (
                filter 
                (
                    [Филиалы],
                    not IsEmpty 
                    (
                        (
                            [СвязьБезопасность].[Показатели].CurrentMember,
                            [Период].[Период].[1 п/г 2010] 
                        ) 
                    ) 
                ),
                (
                    [СвязьБезопасность].[Показатели].CurrentMember,
                    [Период].[Период].[1 п/г 2010] 
                ),
                ASC 
            ) 
        ).Item(0).Properties("Name")'
    member [Период].[Период].[Лучший филиал значение] 
    as ' 
        (
            Tail 
            (
                Order 
                (
                    filter 
                    (
                        [Филиалы],
                        not IsEmpty 
                        (
                            (
                                [СвязьБезопасность].[Показатели].CurrentMember,
                                [Период].[Период].[1 п/г 2010] 
                            ) 
                        ) 
                    ),
                    (
                        [СвязьБезопасность].[Показатели].CurrentMember,
                        [Период].[Период].[1 п/г 2010] 
                    ),
                    ASC 
                ) 
            ).Item(0),
            [СвязьБезопасность].[Показатели].CurrentMember,
            [Период].[Период].[1 п/г 2010] 
        )' 
    member [Период].[Период].[Худший филиал] 
    as 'Tail 
        (
            Order 
            (
                filter 
                (
                    [Филиалы],
                    not IsEmpty 
                    (
                        (
                            [СвязьБезопасность].[Показатели].CurrentMember,
                            [Период].[Период].[1 п/г 2010] 
                        ) 
                    ) 
                ),
                (
                    [СвязьБезопасность].[Показатели].CurrentMember,
                    [Период].[Период].[1 п/г 2010] 
                ),
                DESC 
            ) 
        ).Item(0).Properties("Name")'
    member [Период].[Период].[Худший филиал значение] 
    as ' 
        (
            Tail 
            (
                Order 
                (
                    filter 
                    (
                        [Филиалы],
                        not IsEmpty 
                        (
                            (
                                [СвязьБезопасность].[Показатели].CurrentMember,
                                [Период].[Период].[1 п/г 2010] 
                            ) 
                        ) 
                    ),
                    (
                        [СвязьБезопасность].[Показатели].CurrentMember,
                        [Период].[Период].[1 п/г 2010] 
                    ),
                    DESC 
                ) 
            ).Item(0),
            [СвязьБезопасность].[Показатели].CurrentMember,
            [Период].[Период].[1 п/г 2010] 
        )' 
    set [Филиалы] 
    as ' 
        {
            {
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[ЦФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[СЗФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[ЮФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[ПФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[УФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[СФО],
                [СвязьБезопасность].[Филиалы].[Все].[Консолидированный].[ДФО]
            } 
        }' 
select
    {
        [Период].[Период].[1 п/г 2009],
        [Период].[Период].[1 п/г 2010],
        [Период].[Период].[Лучший филиал],
        [Период].[Период].[Лучший филиал значение],
        [Период].[Период].[Худший филиал],
        [Период].[Период].[Худший филиал значение] 
    } on columns,
    {
        [СвязьБезопасность].[Показатели].[Выручка от реализации услуг, тыс. руб],
        [СвязьБезопасность].[Показатели].[Прибыль (убыток) до налогообложения, тыс. руб],
        [СвязьБезопасность].[Показатели].[Рентабельность деятельности (к затратам), %],
        [СвязьБезопасность].[Показатели].[Затраты на 100 рублей выручки, руб.],
        [СвязьБезопасность].[Показатели].[Соотношение ФОТ к доходам, %] 
    }     on rows 
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]
]]>
  </query>
  
  <query id="IT_0002_0001_dayRests">
    <![CDATA[
    --IT_0002_0001_dayRests
    with  
    member [Measures].[Распределение по банкам] 
    as 'IIF 
        (
            IsEmpty 
            (
                (
                    [СвязьБезопасность].[Банки].[Все],
                    [Measures].[Остаток] 
                ) 
            ) or 
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток] 
            ) = 0 or 
            (
                [СвязьБезопасность].[Банки].CurrentMember is    [СвязьБезопасность].[Банки].[Всего]
            ),
            null,
            (
                [СвязьБезопасность].[Банки].CurrentMember,
                [Measures].[Остаток] 
            )/ 
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток] 
            )
        )'  
    member [СвязьБезопасность].[Банки].[Всего] 
    as '[СвязьБезопасность].[Банки].[Все]'  
    member [Measures].[Остаток тыс.руб.]
    as '[Measures].[Остаток] / 1000'  
    select
    {
        [Measures].[Остаток тыс.руб.],
        [Measures].[Распределение по банкам] 
    } on columns,
    {
        [СвязьБезопасность].[Банки].[Всего],
        [СвязьБезопасность].[Банки].[Все].[ОАО "АКБ "Связь банк"],
        [СвязьБезопасность].[Банки].[Все].[ОАО "Морской Акционерный банк"]  
    } on rows                               
from [СВЯЗЬБЕЗОП_Среднедневные остатки]    
where 
    (
        [Период].[Период].[Данные всех периодов].[2010].[Полугодие 2].[Квартал 3].[Сентябрь]
    ) 
  ]]>
  </query>

  <query id="IT_0002_0001_Chart">
    <![CDATA[
    --IT_0002_0001_Chart
with      
    member [Период].[Период].[1 полугодие 2009 года ]     
    as '[Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь]'     
    member [Период].[Период].[1 полугодие 2010 года ]     
    as '[Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь]'  
    member [СвязьБезопасность].[Показатели].[Доходы]  
    as ' 
        (
            [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
            [Measures].[Факт] 
        ) / 1000'
    member [СвязьБезопасность].[Показатели].[Расходы] 
    as ' 
        (
            [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
            [Measures].[Факт] 
        ) / 1000'   
select
    {
        [Период].[Период].[1 полугодие 2009 года ],
        [Период].[Период].[1 полугодие 2010 года ]     
    } on columns,
    {
        [СвязьБезопасность].[Показатели].[Доходы],
        [СвязьБезопасность].[Показатели].[Расходы]
    }     on rows    
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]  
  ]]>
  </query>

  <query id="IT_0002_0001_BankChart">
    <![CDATA[
    --IT_0002_0001_BankChart
    with 
    member [Measures].[Распределение по банкам] 
    as 'IIF 
        (
            IsEmpty 
            (
                (
                    [СвязьБезопасность].[Банки].[Все],
                    [Measures].[Остаток] 
                ) 
            ) or 
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток] 
            ) = 0 or 
            (
                [СвязьБезопасность].[Банки].CurrentMember is    [СвязьБезопасность].[Банки].[Всего] 
            ),
            null,
            (
                [СвязьБезопасность].[Банки].CurrentMember,
                [Measures].[Остаток] 
            )/ 
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток] 
            ) 
        )' 
    member [СвязьБезопасность].[Банки].[Всего] 
    as '[СвязьБезопасность].[Банки].[Все]' 
    member [СвязьБезопасность].[Банки].[ОАО "АКБbr"Связь банк"] 
    as '[СвязьБезопасность].[Банки].[Все].[ОАО "АКБ "Связь банк"]' 
    member [СвязьБезопасность].[Банки].[ОАО "МорскойbrАкционерныйbrбанк"] 
    as '[СвязьБезопасность].[Банки].[Все].[ОАО "Морской Акционерный банк"]' 
    member [Measures].[Остаток ] 
    as '[Measures].[Остаток] / 1000' 
select
    {
        [Measures].[Распределение по банкам] 
    } on columns,
    {
         [СвязьБезопасность].[Банки].[ОАО "АКБbr"Связь банк"] ,
        [СвязьБезопасность].[Банки].[ОАО "МорскойbrАкционерныйbrбанк"] 
    } on rows 
from [СВЯЗЬБЕЗОП_Среднедневные остатки] 
where 
    (
        [Период].[Период].[Данные всех периодов].[2010].[Полугодие 2].[Квартал 3].[Сентябрь] 
    ) 
  ]]>
  </query>

  <query id="IT_0002_0002">
    <![CDATA[
      -- IT_0002_0002
      with      
          member [Measures].[Доля в общем объёме доходов]     
          as 'IIF        
              (
                  IsEmpty        
                  (
                      (
                          [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                          [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                          [Measures].[Факт]        
                      )        
                  ) or        
                  (
                      [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]        
                  ) = 0       or 
                  (
                      [СвязьБезопасность].[Показатели].CurrentMember is [СвязьБезопасность].[Показатели].[Все].[Итого доходов]
                  ),
                  1,
                  (
                      [СвязьБезопасность].[Показатели].CurrentMember,
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]        
                  )/        
                  (
                      [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]        
                  )        
              )'        
          member [Measures].[Темп роста к прошлому году]      
          as 'IIF      
              (
                  IsEmpty      
                  (
                      (
                          [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                          [Measures].[Факт]      
                      )      
                  ) or      
                  (
                      [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  ) = 0 ,
                  null,
                  (
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  )/      
                  (
                      [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  )      
              )'      
          member [Measures].[1 п/г 2009 года тыс.руб.]        
          as '       
              (
                  [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[Факт]       
              ) / 1000'        
          member [Measures].[План на 1 п/г 2010 года, тыс.руб.]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [План]      
              ) / 1000'      
          member [Measures].[1 п/г 2010 года тыс.руб.]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[Факт]      
              ) / 1000'       
          member [Measures].[% исполнения ]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[% исполнения]      
              )'          
      select
          {
              [Measures].[1 п/г 2009 года тыс.руб.],
              [Measures].[План на 1 п/г 2010 года, тыс.руб.],
              [Measures].[1 п/г 2010 года тыс.руб.],
              [Measures].[% исполнения ],
              [Measures].[Темп роста к прошлому году],
              [Measures].[Доля в общем объёме доходов]  
          } on columns,
          {
              {
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов],
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг охранной деятельности],
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация услуг по договорам ТСО],
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Прочие доходы от основной деятельности],
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Реализация прочего имущества],
                  [СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Внереализационные доходы]
              }      
          }  on rows        
      from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов] 
    ]]>
  </query>

  <query id="IT_0002_0003">
    <![CDATA[
      -- IT_0002_0003
          with      
           member [Measures].[Доля в общем объёме расходов]
          as 'IIF
              (
                  IsEmpty
                  (
                      (
                          [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                          [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                          [Measures].[Факт]
                      )
                  ) or
                  (
                      [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]
                  ) = 0       or
                  (
                      [СвязьБезопасность].[Показатели].CurrentMember is [СвязьБезопасность].[Показатели].[Все].[Итого доходов]
                  ),
                  1,
                  (
                      [СвязьБезопасность].[Показатели].CurrentMember,
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]
                  )/
                  (
                      [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]
                  ) 
              )'
          member [Measures].[Темп роста к прошлому году]      
          as 'IIF      
              (
                  IsEmpty      
                  (
                      (
                          [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                          [Measures].[Факт]      
                      )      
                  ) or      
                  (
                      [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  ) = 0 ,
                  null,
                  (
                      [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  )/      
                  (
                      [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                      [Measures].[Факт]      
                  )      
              )'      
          member [Measures].[1 п/г 2009 года тыс.руб.]        
          as '       
              (
                  [Период].[Период].[Данные всех периодов].[2009].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[Факт]       
              ) / 1000'        
          member [Measures].[План на 1 п/г 2010 года, тыс.руб.]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [План]      
              ) / 1000'      
          member [Measures].[1 п/г 2010 года тыс.руб.]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[Факт]      
              ) / 1000'       
          member [Measures].[% исполнения ]      
          as '      
              (
                  [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 2].[Июнь],
                  [Measures].[% исполнения]      
              )' 
          member [СвязьБезопасность].[Показатели].[Внереализа- ционные доходы]       
          as '[СвязьБезопасность].[Показатели].[Все].[Итого доходов].[Внереализационные доходы]     ' 
      select
          {
              [Measures].[1 п/г 2009 года тыс.руб.],
              [Measures].[План на 1 п/г 2010 года, тыс.руб.],
              [Measures].[1 п/г 2010 года тыс.руб.],
              [Measures].[% исполнения ],
              [Measures].[Темп роста к прошлому году],
              [Measures].[Доля в общем объёме расходов]  
          } on columns,
    {      
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Заработная плата –всего],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Услуги сторонних организаций производственного характера],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Материалы],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Командировочные расходы],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Форменная одежда],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Расходы по охране труда и промышленной безопасности],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Содержание и уход за собаками],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Прочие расходы, связанные с производством],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Арендные платежи],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Коммунальные услуги],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Услуги связи],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Расходы на ремонт],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Амортизация],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Лизинг],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Расходы на рекламу],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Информационно-консультационные услуги],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Страхование],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Налоги и обязательные платежи],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Финансовые расходы],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Прочие общехозяйственные расходы],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Расходы, связанные с реализацией имущества],
        [СвязьБезопасность].[Показатели].[Все].[Итого расходов].[Внереализационные расходы]             
             
    }  on rows         
from  [СВЯЗЬБЕЗОП_БюджетДоходовРасходов]         
    ]]>
  </query>

  <query id="IT_0002_0004">
    <![CDATA[
      -- IT_0002_0004
    with   
    member [Measures].[Период ] 
    as '[Период].[Период].CurrentMember.Name + " " + [Период].[Период].CurrentMember.Parent.Parent.Parent.Name'
    member [Measures].[Доля]   
    as 'IIF   
        (
            IsEmpty   
            (
                (
                    [СвязьБезопасность].[Банки].[Все],
                    [Measures].[Остаток]   
                )   
            ) or   
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток]   
            ) = 0 or   
            (
                [СвязьБезопасность].[Банки].CurrentMember is    [СвязьБезопасность].[Банки].[Все]   
            ),
            null,
            (
                [СвязьБезопасность].[Банки].CurrentMember,
                [Measures].[Остаток]   
            )/   
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток]   
            )   
        )'   
    member [Measures].[Остаток, тыс.руб.]   
    as '[Measures].[Остаток] / 1000'   
select
    {
        {
            [СвязьБезопасность].[Банки].[Все]   
        }   
        *   
        {
            [Measures].[Период ],
            [Measures].[Остаток, тыс.руб.]
        } +   
        {
            [СвязьБезопасность].[Банки].[Все].[ОАО "АКБ "Связь банк"],
            [СвязьБезопасность].[Банки].[Все].[ОАО "Морской Акционерный банк"]   
        }   
        *   
        {
            [Measures].[Остаток, тыс.руб.],
            [Measures].[Доля]   
        }   
    } on columns,
    {
        filter  
        (
            Descendants  
            (
                [Период].[Период].[Данные всех периодов],
                [Период].[Период].[Месяц],
                self   
            ),
            not isEmpty 
            (
                [Measures].[Остаток, тыс.руб.] 
            )  
        )  
    } on rows   
from   [СВЯЗЬБЕЗОП_Среднедневные остатки]
    ]]>
  </query>

  <query id="IT_0002_0004_Chart">
    <![CDATA[
      -- IT_0002_0004_Chart
       with
    member [Measures].[Период ]
    as '[Период].[Период].CurrentMember.Name + " " + [Период].[Период].CurrentMember.Parent.Parent.Parent.Name'
    member [Measures].[Доля]
    as 'IIF
        (
            IsEmpty
            (
                (
                    [СвязьБезопасность].[Банки].[Все],
                    [Measures].[Остаток]
                )
            ) or
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток]
            ) = 0 or
            (
                [СвязьБезопасность].[Банки].CurrentMember is    [СвязьБезопасность].[Банки].[Все]
            ),
            null,
            (
                [СвязьБезопасность].[Банки].CurrentMember,
                [Measures].[Остаток]
            )/
            (
                [СвязьБезопасность].[Банки].[Все],
                [Measures].[Остаток]
            )
        )'
    member [Measures].[Остаток, тыс.руб.]
    as '[Measures].[Остаток] / 1000'
select
    {
        {
            [СвязьБезопасность].[Банки].[Все]
        }
        *
        {
            [Measures].[Период ]
        } +
        {
            [СвязьБезопасность].[Банки].[Все].[ОАО "АКБ "Связь банк"],
            [СвязьБезопасность].[Банки].[Все].[ОАО "Морской Акционерный банк"]
        }
        *
        {
            [Measures].[Остаток, тыс.руб.]
        }
    } on columns,
    {
        filter
        (
            Descendants
            (
                [Период].[Период].[Данные всех периодов],
                [Период].[Период].[Месяц],
                self
            ),
            not isEmpty
            (
                [Measures].[Остаток, тыс.руб.]
            )
        )
    } on rows
from   [СВЯЗЬБЕЗОП_Среднедневные остатки]
          ]]>
  </query>
  
</root>