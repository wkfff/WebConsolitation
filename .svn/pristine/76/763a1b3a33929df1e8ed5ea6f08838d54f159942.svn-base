<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0045_0001_date">
    <![CDATA[
-- FO_0045_0001_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Месяц],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[Значение]
                    )
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
                ) and
                (
                   [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
                )
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from [ФО_Государственный долг]
]]>
  </query>

  <query id="FO_0045_0001_grid">
    <![CDATA[
-- FO_0045_0001_grid
with                   
    set [Показатели]                   
    as 'Filter     
        (
            Descendants                 
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Все].[Объем государственного долга автономного округа, всего],
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Вид долгового обязательства],
                SELF     
            ),
            not                 
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].CurrentMember is [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].CurrentMember.Parent.DataMember     
            )                 
        )'               
    member [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Итого ]               
    as 'Aggregate({[Показатели]})'      
    member [Период__Период].[Период__Период].[Месяц текущего года]     
    as '[Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]'     
    member [Период__Период].[Период__Период].[Месяц предыдущего года]     
    as 'ParallelPeriod    
        (
            [Период__Период].[Период__Период].[Год],
            1,
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]    
        )'      
    member [Период__Период].[Период__Период].[Отклонение]   
    as 'IIF  
        (
            IsEmpty  
            (
                [Период__Период].[Период__Период].[Месяц текущего года]  
            ) or IsEmpty  
            (
                [Период__Период].[Период__Период].[Месяц предыдущего года]  
            ),
            null,
            [Период__Период].[Период__Период].[Месяц текущего года] - [Период__Период].[Период__Период].[Месяц предыдущего года]  
        )'   
    member [Период__Период].[Период__Период].[Темп роста]  
    as 'IIF  
        (
            IsEmpty  
            (
                [Период__Период].[Период__Период].[Месяц предыдущего года]  
            ) or [Период__Период].[Период__Период].[Месяц предыдущего года] = 0,
            null,
            1000 * [Период__Период].[Период__Период].[Месяц текущего года] / [Период__Период].[Период__Период].[Месяц предыдущего года]  
        )'  
    member [Период__Период].[Период__Период].[Удельный вес]  
    as 'IIF  
        (
            IsEmpty  
            (
                (
                    [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Итого ],
                    [Период__Период].[Период__Период].[Месяц текущего года] 
                )  
            ) or  
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Итого ],
                [Период__Период].[Период__Период].[Месяц текущего года] 
            ) = 0,
            null,
            1000 * [Период__Период].[Период__Период].[Месяц текущего года] /  
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Итого ],
                [Период__Период].[Период__Период].[Месяц текущего года] 
            )  
        )'  
    member [Measures].[Сумма государственного долга]    
    as '[Measures].[Значение] / 1000'  
    member [Measures].[Сумма государственного долга на душу населения] 
    as '[Measures].[Значение] / 1000 / [Measures].[Численность]' 
    
    member [Measures].[Численность] 
    as 'IIF
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Месяц предыдущего года],
            <%last_year_population%>,
            <%current_year_population%>
        )'    
        
    member [Measures].[Собственные доходы]          
    as 'LookupCube              
        (
            "[ФО_МесОтч_Доходы]",
            "Sum                 
            (
                {
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от нерезидентов],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ ГОСУДАРСТВЕННЫХ (МУНИЦИПАЛЬНЫХ) ОРГАНИЗАЦИЙ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ ОТ НЕГОСУДАРСТВЕННЫХ ОРГАНИЗАЦИЙ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[ПРОЧИЕ БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Перечисления для осуществления возврата (зачета) излишне уплаченных или излишне взысканных сумм налогов, сборов и иных платежей, а также сумм процентов за несвоевременное осуществление такого возврата и процентов, начисленных на излишне взысканные суммы],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[ДОХОДЫ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ ОТ ВОЗВРАТА ОСТАТКОВ СУБСИДИЙ, СУБВЕНЦИЙ И ИНЫХ МЕЖБЮДЖЕТНЫХ ТРАНСФЕРТОВ, ИМЕЮЩИХ ЦЕЛЕВОЕ НАЗНАЧЕНИЕ, ПРОШЛЫХ ЛЕТ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[ВОЗВРАТ ОСТАТКОВ СУБСИДИЙ, СУБВЕНЦИЙ И ИНЫХ МЕЖБЮДЖЕТНЫХ ТРАНСФЕРТОВ, ИМЕЮЩИХ ЦЕЛЕВОЕ НАЗНАЧЕНИЕ, ПРОШЛЫХ ЛЕТ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Дотации бюджетам субъектов Российской Федерации и муниципальных образований],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Субсидии бюджетам субъектов Российской Федерации и муниципальных образований (межбюджетные субсидии)],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Иные межбюджетные трансферты],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Межбюджетные трансферты бюджетам государственных внебюджетных фондов],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ].[Безвозмездные поступления от других бюджетов бюджетной системы Российской Федерации].[Прочие безвозмездные поступления от других бюджетов бюджетной системы],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]                
                },
                (
                    [Measures].[Годовые назначения],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].CurrentMember,
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта],
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Данные конс. отчета субъекта в разрезе городов и районов (5+7+10)],
                    [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Бюджет Субъекта - Ханты-Мансийский автономный округ],
                    " + MemberToStr             
                    (
                        [Период__Период].[Период__Период].CurrentMember             
                    ) + "             
                )                 
            ) "                 
        ) / 1000 '       
    member [Measures].[Собственные доходы текущий год]   
    as '  
        (
            [Measures].[Собственные доходы],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]
        )  '     
    member [Measures].[Собственные доходы прошлый год]  
    as '  
        (
            [Measures].[Собственные доходы],
            ParallelPeriod    
            (
                [Период__Период].[Период__Период].[Год],
                1,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]    
            )
        )  '
    member [Measures].[Собственные доходы отклонение]
    as '
        (
            [Measures].[Собственные доходы],
            [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]
        ) -
        (
            [Measures].[Собственные доходы],
            ParallelPeriod    
            (
                [Период__Период].[Период__Период].[Год],
                1,
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]    
            )
        )  '
   member [Measures].[Уровень государственного долга к утвержденному годовому объему собственных доходов]          
    as 'IIF             
        (
            [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Месяц предыдущего года],
            IIF      
            (
                IsEmpty      
                (
                    [Measures].[Собственные доходы прошлый год]   
                ) or       
                (
                    [Measures].[Собственные доходы прошлый год]   
                ) = 0,
                null,
                (
                    [Measures].[Сумма государственного долга],
                    [Период__Период].[Период__Период].[Месяц предыдущего года]         
                ) /         
                (
                    [Measures].[Собственные доходы прошлый год] 
                )  
            ),
            IIF             
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Месяц текущего года],
                IIF     
                (
                    IsEmpty     
                    (
                        [Measures].[Собственные доходы текущий год]   
                    ) or     
                    (
                        [Measures].[Собственные доходы текущий год]   
                    ) = 0,
                    null,
                    (
                        [Measures].[Сумма государственного долга],
                        [Период__Период].[Период__Период].[Месяц текущего года]        
                    ) /       
                    (
                        [Measures].[Собственные доходы текущий год] 
                    )  
                ),
                IIF 
                (
                    IsEmpty 
                    (
                        [Measures].[Собственные доходы прошлый год] 
                    ) or 
                    (
                        [Measures].[Собственные доходы прошлый год] 
                    ) = 0,
                    null,
                    (
                        [Measures].[Сумма государственного долга],
                        [Период__Период].[Период__Период].[Месяц текущего года] 
                    ) / 
                    (
                        [Measures].[Собственные доходы прошлый год] 
                    ) 
                ) - IIF 
                (
                    IsEmpty 
                    (
                        [Measures].[Собственные доходы текущий год] 
                    ) or 
                    (
                        [Measures].[Собственные доходы текущий год] 
                    ) = 0,
                    null,
                    (
                        [Measures].[Сумма государственного долга],
                        [Период__Период].[Период__Период].[Месяц предыдущего года] 
                    ) / 
                    (
                        [Measures].[Собственные доходы текущий год] 
                    ) 
                ) 
            )             
        )'         
select
    {
        {
            {
                [Measures].[Сумма государственного долга] 
            } 
            * 
            {
                [Период__Период].[Период__Период].[Месяц предыдущего года],
                [Период__Период].[Период__Период].[Месяц текущего года],
                [Период__Период].[Период__Период].[Отклонение],
                [Период__Период].[Период__Период].[Темп роста],
                [Период__Период].[Период__Период].[Удельный вес] 
            } 
        } + 
        {
            {
                [Measures].[Сумма государственного долга на душу населения]
            } 
            * 
            {
                [Период__Период].[Период__Период].[Месяц предыдущего года],
                [Период__Период].[Период__Период].[Месяц текущего года],
                [Период__Период].[Период__Период].[Отклонение]
            } 
        }  +                 
        {
            {
                [Measures].[Уровень государственного долга к утвержденному годовому объему собственных доходов]          
            }               
            *                 
            {
                [Период__Период].[Период__Период].[Месяц предыдущего года],
                [Период__Период].[Период__Период].[Месяц текущего года],
                [Период__Период].[Период__Период].[Отклонение]                 
            }                 
        } 
    } on columns,
    {
        [Показатели] +          
        {
            [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Итого ]     
        }            
    } on rows     
from [ФО_Государственный долг] 
    ]]>
  </query>

  <query id="FO_0045_0001_chart">
    <![CDATA[
-- FO_0045_0001_chart
with    
    set [Показатели]    
    as 'Filter    
        (
            Descendants    
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Все].[Объем государственного долга автономного округа, всего],
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Вид долгового обязательства],
                SELF    
            ),
            not    
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].CurrentMember is [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].CurrentMember.Parent.DataMember    
            )    
        )'  
    member [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Аггрегированные показатели] 
    as 'Aggregate ( { [Показатели] } )'   
    set [Периоды]    
    as 'Filter    
        (
            Descendants    
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF    
            ),
            not    
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember   
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"  
            )  
        )'     
    member [Measures].[Сумма государственного долга]    
    as 'IIF
       (
          [Measures].[Значение] = null,
          0,
          [Measures].[Значение] / 1000
       )'     
select
    { [Показатели] } on columns,
    Filter  
    (
        [Периоды],
        not IsEmpty    
        (
            (
                [Показатели__Виды ГосДолгОбязательств].[Показатели__Виды ГосДолгОбязательств].[Аггрегированные показатели],
                [Measures].[Значение] 
            ) 
        ) 
    ) on rows from [ФО_Государственный долг]    
where    
    (
        [Measures].[Сумма государственного долга]   
    )    
    ]]>
  </query>

  <query id="FO_0045_0001_population">
    <![CDATA[
-- FO_0045_0001_population
with 
    member Measures.[isMRGO] 
    as 'not
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Консолидированный бюджет - Ханты-Мансийский автономный округ]
        ) '  
    member Measures.[Численность постоянного населения по МО] 
    as 'IIF 
        (
            not(Measures.[isMRGO]),
            Sum 
            (
                [Города и районы],
                Measures.[Численность постоянного населения по МО]
            ),
            1000 *Measures.[За период] 
        )  '  
    member Measures.[Численность постоянного населения] 
    as 'IIF 
        (
            not IsEmpty 
            (
                (
                    Measures.[Численность постоянного населения по МО],
                    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember
                ) 
            ),
            (
                Measures.[Численность постоянного населения по МО],
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember
            ),
            (
                Tail 
                (
                    Filter 
                    (
                        {
                            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2000] : [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.PrevMember
                        },
                        not IsEmpty 
                        (
                            Measures.[Численность постоянного населения по МО] 
                        ) 
                    ) 
                ).Item(0),
                Measures.[Численность постоянного населения по МО] 
            ) 
        )'  

   member Measures.[Численность постоянного населения в текущем году]
   as '(Measures.[Численность постоянного населения], [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember )'

   member Measures.[Численность постоянного населения в прошлом году]
   as '(Measures.[Численность постоянного населения], [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.PrevMember )'
        
    set [Города] 
    as 'Filter 
        (
            Descendants 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 02],
                SELF 
            ),
            not 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember 
            ) and 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО" 
            ) 
        )' 
    set [Районы] 
    as 'Filter 
        (
            Descendants 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 02],
                SELF 
            ),
            not 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember 
            ) and 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" 
            ) 
        )' 
    set [Города и районы] 
    as '[Города] + [Районы]'  
select
    {
       Measures.[Численность постоянного населения в прошлом году],
       Measures.[Численность постоянного населения в текущем году]
    } on columns,
    {
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Консолидированный бюджет - Ханты-Мансийский автономный округ]  
    } on rows 
from [СТАТ_Население_Численность и состав] 
where 
    (
        [Население__Численность и состав].[Население__Численность и состав].[Все показатели].[Численность населения на начало года],
        [Группировки__Население_Численность и состав].[Группировки__Население_Численность и состав].[Все группировки].[По городам и районам],
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%period_year%>] 
    ) 
    ]]>
  </query>

  <query id="FO_0045_0001_chartLimitLine">
    <![CDATA[
-- FO_0045_0001_chartLimitLine
WITH  
    MEMBER [КД__Сопоставимый План].[КД__Сопоставимый План].[Доходы] 
    AS ' Aggregate  
        (
            {
                {
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    [КД__Сопоставимый План].[КД__Сопоставимый План].[Все коды доходов].[ДОХОДЫ ОТ ПРИНОСЯЩЕЙ ДОХОД ДЕЯТЕЛЬНОСТИ]  
                }  
            }  
        ) / 1000'
SELECT
    {
        [Measures].[Годовые назначения]
    } ON COLUMNS 
FROM [ФО_МесОтч_Доходы]  
WHERE  
    (
        [КД__Сопоставимый План].[КД__Сопоставимый План].[Доходы],
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Бюджет Субъекта - Ханты-Мансийский автономный округ] ,
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>] ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта] ,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Данные конс. отчета субъекта в разрезе городов и районов (5+7+10)]  
    )   
    ]]>
  </query>

</root>