<?xml version="1.0" encoding="Windows-1251"?>
<root>
    <query id="FW_0003_0001_date">
        <![CDATA[
-- FW_0003_0001_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                [Период__Период].[Период__Период].[День].Members,
                not IsEmpty
                (
                    (
                        [Measures].[Количество пожаров с начала года],
                        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
                        [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2011],
                        [Источники данных].[Источники данных].[Все источники данных] 
                    )
                ) and [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
            ),
            1 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from  [Лесхоз_Сводная ведомость] 
  ]]>
    </query>

    <query id="FW_0003_0001_data">
        <![CDATA[
-- FW_0003_0001_data
with   
    member measures.[stateId]   
    as '[Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества]   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2010]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 1)
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2009]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 2) 
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2008]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 3)
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2007]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 4)
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2006]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 5)
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2005]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod([Период__Период].[Период__Период].[Год], 6)
        )'   
    member [Measures].[Количество пожаров с начала года ]  
    as 'IIF   
        (
            [Measures].[Количество пожаров с начала года] = 0,
            null,
            [Measures].[Количество пожаров с начала года]  
        )'   
    member [Measures].[Охваченная лесная площадь пожаров ]  
    as 'IIF  
        (
            [Measures].[Охваченная лесная площадь пожаров] = 0,
            null,
            [Measures].[Охваченная лесная площадь пожаров]  
        )'  
    member [Measures].[Охваченная нелесная площадь пожаров ]  
    as 'IIF  
        (
            [Measures].[Охваченная нелесная площадь пожаров] = 0,
            null,
            [Measures].[Охваченная нелесная площадь пожаров]  
        )'  
    member [Measures].[Действует пожаров ]  
    as 'IIF  
        (
            [Measures].[Действует пожаров] = 0,
            null,
            [Measures].[Действует пожаров]  
        )'  
    member [Measures].[Лесная площадь действующих пожаров ]  
    as 'IIF  
        (
            [Measures].[Лесная площадь действующих пожаров] = 0,
            null,
            [Measures].[Лесная площадь действующих пожаров]  
        )'  
    member [Measures].[Локализовано пожаров ]  
    as 'IIF  
        (
            [Measures].[Локализовано пожаров] = 0,
            null,
            [Measures].[Локализовано пожаров]  
        )'
    member [Measures].[Лесная площадь локализованных пожаров ] 
    as 'IIF 
        (
            [Measures].[Лесная площадь локализованных пожаров] = 0,
            null,
            [Measures].[Лесная площадь локализованных пожаров] 
        )' 
    member [Measures].[Ликвидировано пожаров ] 
    as 'IIF 
        (
            [Measures].[Ликвидировано пожаров] = 0,
            null,
            [Measures].[Ликвидировано пожаров] 
        )' 
    member [Measures].[Лесная площадь ликвидированных пожаров ] 
    as 'IIF 
        (
            [Measures].[Лесная площадь ликвидированных пожаров] = 0,
            null,
            [Measures].[Лесная площадь ликвидированных пожаров] 
        )' 
select
    {
        [Measures].[Количество пожаров с начала года ],
        [Measures].[Охваченная лесная площадь пожаров ],
        [Measures].[Охваченная нелесная площадь пожаров ],
        [Measures].[Действует пожаров ],
        [Measures].[Лесная площадь действующих пожаров ],
        [Measures].[Локализовано пожаров ],
        [Measures].[Лесная площадь локализованных пожаров ],
        [Measures].[Ликвидировано пожаров ],
        [Measures].[Лесная площадь ликвидированных пожаров ],
        measures.[stateId]   
    }  on columns,
    {
        filter   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
            not [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember is [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества] and not [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember is [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества].[Значение не указано]   
        ),
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2010],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2009],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2008],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2007],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2006],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2005]   
    } on rows   
from  [Лесхоз_Сводная ведомость]   
WHERE   
    (
        <%period_cur_date%>   
    )   
  ]]>
    </query>

    <query id="FW_0003_0001_chart">
        <![CDATA[
-- FW_0003_0001_chart
with   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]       
    as '       
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества]       
        )'        
    member [Measures].[Действует пожаров ]       
    as '[Measures].[Действует пожаров] - [Measures].[Локализовано пожаров]'     
    member [Measures].[Действует ]       
    as ' [Measures].[Лесная площадь действующих пожаров] - [Measures].[Лесная площадь локализованных пожаров]'   
    member [Measures].[Локализовано пожаров ]       
    as '[Measures].[Локализовано пожаров]'       
    member [Measures].[Локализовано ]       
    as ' [Measures].[Лесная площадь локализованных пожаров]'       
    member [Measures].[Ликвидировано пожаров ]       
    as '   
        (
            [Measures].[Ликвидировано пожаров],
            <%period_cur_date%>   
        ) -    
        (
            [Measures].[Ликвидировано пожаров],
            <%period_last_date%>
        )'    
    member [Measures].[Ликвидировано ]       
    as ' 
        (
            [Measures].[Лесная площадь ликвидированных пожаров],
            <%period_cur_date%>
        ) - 
        (
            [Measures].[Лесная площадь ликвидированных пожаров],
            <%period_last_date%>
        )' 
select
    {
        [Measures].[Действует ],
        [Measures].[Локализовано ],
        [Measures].[Ликвидировано ],
        [Measures].[Действует пожаров ],
        [Measures].[Локализовано пожаров ],
        [Measures].[Ликвидировано пожаров ]           
    }  on columns,
    {
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]       
    } on rows       
from  [Лесхоз_Сводная ведомость]       
WHERE       
    (
        <%period_cur_date%>
    ) 
  ]]>
    </query>


    <query id="FW_0003_0001_data_v">
        <![CDATA[
-- FW_0003_0001_data_v
with                        
    member measures.[stateId]                        
    as '[Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")'                       
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Белоярский]  
    as 'null' 
    set [Белоярский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Белоярский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Белоярский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Березовский]  
    as 'null' 
    set [Березовский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Березовский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Березовский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Кондинский]  
    as 'null'
    set [Кондинский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Кондинский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Кондинский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нефтеюганский]  
    as 'null'
    set [Нефтеюганский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нефтеюганский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нефтеюганский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нижневартовский]  
    as 'null'
    set [Нижневартовский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нижневартовский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Нижневартовский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Октябрьский]  
    as 'null'
    set [Октябрьский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Октябрьский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Октябрьский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Советский]  
    as 'null'
    set [Советский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Советский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Советский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Сургутский]  
    as 'null'
    set [Сургутский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Сургутский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Сургутский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Ханты-Мансийский]  
    as 'null'
    set [Ханты-Мансийский]  
    as '  
        {
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Ханты-Мансийский],
            filter  
            (
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].Members,
                [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Ханты-Мансийский].Name = [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].CurrentMember.Properties("Описание")  
            )  
        }'  
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества]   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2010]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                1  
            )   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2009]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                2  
            )   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2008]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                3  
            )   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2007]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                4  
            )   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2006]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                5  
            )   
        )'   
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2005]   
    as '   
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
            ParallelPeriod  
            (
                [Период__Период].[Период__Период].[Год],
                6  
            )   
        )'   
    member [Measures].[Количество пожаров с начала года ]   
    as 'IIF   
        (
            [Measures].[Количество пожаров с начала года] = 0,
            null,
            [Measures].[Количество пожаров с начала года]   
        )'   
    member [Measures].[Охваченная лесная площадь пожаров ]   
    as 'IIF   
        (
            [Measures].[Охваченная лесная площадь пожаров] = 0,
            null,
            [Measures].[Охваченная лесная площадь пожаров]   
        )'   
    member [Measures].[Охваченная нелесная площадь пожаров ]   
    as 'IIF   
        (
            [Measures].[Охваченная нелесная площадь пожаров] = 0,
            null,
            [Measures].[Охваченная нелесная площадь пожаров]   
        )'   
    member [Measures].[Действует пожаров ]   
    as 'IIF   
        (
            [Measures].[Действует пожаров] = 0,
            null,
            [Measures].[Действует пожаров]   
        )'   
    member [Measures].[Лесная площадь действующих пожаров ]   
    as 'IIF   
        (
            [Measures].[Лесная площадь действующих пожаров] = 0,
            null,
            [Measures].[Лесная площадь действующих пожаров]   
        )'   
    member [Measures].[Локализовано пожаров ]   
    as 'IIF   
        (
            [Measures].[Локализовано пожаров] = 0,
            null,
            [Measures].[Локализовано пожаров]   
        )'   
    member [Measures].[Лесная площадь локализованных пожаров ]   
    as 'IIF   
        (
            [Measures].[Лесная площадь локализованных пожаров] = 0,
            null,
            [Measures].[Лесная площадь локализованных пожаров]   
        )'   
    member [Measures].[Ликвидировано пожаров ]   
    as 'IIF   
        (
            [Measures].[Ликвидировано пожаров] = 0,
            null,
            [Measures].[Ликвидировано пожаров]   
        )'   
    member [Measures].[Лесная площадь ликвидированных пожаров ]   
    as 'IIF   
        (
            [Measures].[Лесная площадь ликвидированных пожаров] = 0,
            null,
            [Measures].[Лесная площадь ликвидированных пожаров]   
        )' 
        member [Measures].[работает ВС ]
    as 'IIF
        (
            [Measures].[работает ВС] = 0,
            null,
            [Measures].[работает ВС]
        )'
        member [Measures].[работает ПХС ]
    as 'IIF
        (
            [Measures].[работает ПХС] = 0,
            null,
            [Measures].[работает ПХС]
        )'
        member [Measures].[работает АПС ]
    as 'IIF
        (
            [Measures].[работает АПС] = 0,
            null,
            [Measures].[работает АПС]
        )'
        member [Measures].[работает Б ]
    as 'IIF
        (
            [Measures].[работает Б] = 0,
            null,
            [Measures].[работает Б]
        )'
        member [Measures].[работает Т ]
    as 'IIF
        (
            [Measures].[работает Т] = 0,
            null,
            [Measures].[работает Т]
        )'
        member [Measures].[работает А ]
    as 'IIF
        (
            [Measures].[работает А] = 0,
            null,
            [Measures].[работает А]
        )'
select
    {
        [Measures].[Количество пожаров с начала года ],
        [Measures].[Охваченная лесная площадь пожаров ],
        [Measures].[Охваченная нелесная площадь пожаров ],
        [Measures].[Действует пожаров ],
        [Measures].[Лесная площадь действующих пожаров ],
        [Measures].[Локализовано пожаров ],
        [Measures].[Лесная площадь локализованных пожаров ],
        [Measures].[Ликвидировано пожаров ],
        [Measures].[Лесная площадь ликвидированных пожаров ],
        [Measures].[работает ВС ],
        [Measures].[работает ПХС ],
        [Measures].[работает АПС ],
        [Measures].[работает Б ],
        [Measures].[работает Т ],
        [Measures].[работает А ],
        measures.[stateId]    
    }  on columns,
    {        
        [Березовский],
        [Кондинский],
        [Нефтеюганский],
        [Нефтеюганский],
        [Нижневартовский],
        [Октябрьский],
        [Советский],
        [Сургутский],
        [Ханты-Мансийский],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2010],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2009],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2008],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2007],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2006],
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[2005]   
    } on rows     
from  [Лесхоз_Сводная ведомость]
WHERE   
    (
        <%period_cur_date%>   
    )   
  ]]>
    </query>

    <query id="FW_0003_0001_max">
        <![CDATA[
-- FW_0003_0001_max
with             
    member [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]             
    as '             
        (
            [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
            [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества]             
        )'             
    member [Measures].[Действует пожаров ]             
    as '[Measures].[Действует пожаров] - [Measures].[Локализовано пожаров]'             
    member [Measures].[Лесная площадь действующих пожаров ]             
    as ' [Measures].[Лесная площадь действующих пожаров] - [Measures].[Лесная площадь локализованных пожаров]'             
    member [Measures].[Локализовано пожаров ]             
    as '[Measures].[Локализовано пожаров]'             
    member [Measures].[Лесная площадь локализованных пожаров ]             
    as ' [Measures].[Лесная площадь локализованных пожаров]'             
    member [Measures].[Ликвидировано пожаров ]             
    as '             
        (
            [Measures].[Ликвидировано пожаров],
            [Период__Период].[Период__Период].CurrentMember             
        ) - 
        (
            IIF 
            (
                [Период__Период].[Период__Период].CurrentMember is <%period_last_date%>,
                (
                    [Measures].[Ликвидировано пожаров],
                    Tail 
                    (
                        Filter 
                        (
                            [Период__Период].[Период__Период].[День].Members,
                            not IsEmpty 
                            (
                                (
                                    [Measures].[Количество пожаров с начала года],
                                    [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
                                    [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
                                    [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2011],
                                    [Источники данных].[Источники данных].[Все источники данных] 
                                ) 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
                            )  and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") < <%period_last_date%>.Properties("PKID") 
                            ) 
                        ) 
                    ).Item(0) 
                ),
                (
                    [Measures].[Ликвидировано пожаров],
                    Tail 
                    (
                        Filter 
                        (
                            [Период__Период].[Период__Период].[День].Members,
                            not IsEmpty 
                            (
                                (
                                    [Measures].[Количество пожаров с начала года],
                                    [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
                                    [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
                                    [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2011],
                                    [Источники данных].[Источники данных].[Все источники данных] 
                                ) 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
                            )  and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <<%period_cur_date%> .Properties("PKID") 
                            ) 
                        ) 
                    ).Item(0) 
                ) 
            ) 
        )' 
    member [Measures].[Лесная площадь ликвидированных пожаров ]             
    as '          
        (
            [Measures].[Лесная площадь ликвидированных пожаров],
            [Период__Период].[Период__Период].CurrentMember 
        ) - 
        (
            IIF 
            (
                [Период__Период].[Период__Период].CurrentMember is <%period_last_date%>,
                (
                    [Measures].[Лесная площадь ликвидированных пожаров],
                    Tail 
                    (
                        Filter 
                        (
                            [Период__Период].[Период__Период].[День].Members,
                            not IsEmpty 
                            (
                                (
                                    [Measures].[Количество пожаров с начала года],
                                    [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
                                    [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
                                    [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2011],
                                    [Источники данных].[Источники данных].[Все источники данных] 
                                ) 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
                            )  and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") < <%period_last_date%>.Properties("PKID") 
                            ) 
                        ) 
                    ).Item(0) 
                ),
                (
                    [Measures].[Лесная площадь ликвидированных пожаров],
                    Tail 
                    (
                        Filter 
                        (
                            [Период__Период].[Период__Период].[День].Members,
                            not IsEmpty 
                            (
                                (
                                    [Measures].[Количество пожаров с начала года],
                                    [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Все участковые лесничества],
                                    [Лесхоз__Лесничество].[Лесхоз__Лесничество].[Все лесничества],
                                    [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2011],
                                    [Источники данных].[Источники данных].[Все источники данных] 
                                ) 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" 
                            ) and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты" 
                            )  and 
                            (
                                [Период__Период].[Период__Период].CurrentMember.Properties("PKID") <<%period_cur_date%> .Properties("PKID") 
                            ) 
                        ) 
                    ).Item(0) 
                ) 
            ) 
        )'  
    member [Measures].[Мах по площади]             
    as ' Max             
        (
            {
                {
                    [Measures].[Лесная площадь действующих пожаров ],
                    [Measures].[Лесная площадь локализованных пожаров ],
                    [Measures].[Лесная площадь ликвидированных пожаров ]             
                }             
                *             
                {
                    <%period_last_date%>,
                   <%period_cur_date%>              
                }             
            },
            [Measures].CurrentMember             
        )'             
    member [Measures].[Мах по количеству]             
    as ' Max             
        (
            {
                {
                    [Measures].[Действует пожаров ],
                    [Measures].[Локализовано пожаров ],
                    [Measures].[Ликвидировано пожаров ]             
                }             
                *             
                {
                    <%period_last_date%>,
                   <%period_cur_date%>              
                }             
            },
            [Measures].CurrentMember             
        )'        
 select
    {
        [Measures].[Мах по площади],
        [Measures].[Мах по количеству] 
    } on columns           
from  [Лесхоз_Сводная ведомость]             
where             
    (
        [Лесхоз__Участковое лесничество].[Лесхоз__Участковое лесничество].[Итого:]             
    )
  ]]>
    </query>

</root>