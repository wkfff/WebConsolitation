<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="ORG_0003_0007_list_of_dates">
    <![CDATA[ -- name: ORG_0003_0007_list_of_dates
select
    {[Measures].[Средняя цена]} on columns,
    {
        filter
        (
            [Период].[День].[День].members,
            [Measures].[Средняя цена] > 0
        )
    } on rows
from [ОРГАНИЗАЦИИ_Цены и тарифы]
where 
    (
        [Территории].[РФ].[Все территории].[Российская Федерация].[Северо-Западный федеральный округ].[Вологодская область].[Вологодская область],
        [Источники данных].[Все источники данных].[СТАТ Отчетность - МО Вологодской области],
        [Организации].[Предприятия торговли].[Все организации].[Значение не указано],
        [Организации].[Тип цены].[Все типы цен].[Розничная цена],
        [Организации].[Товары и услуги].[Все товары и услуги].[Продовольственные товары] 
    )
    ]]>
  </query>

  <query id ="ORG_0003_0007_list_of_food">
    <![CDATA[ -- name:ORG_0003_0007_list_of_food
with
member [Measures].[Единица измерения]
as '[Организации].[Товары и услуги].CurrentMember.Properties("Единица измерения")'
select
    {[Measures].[Средняя цена], [Measures].[Единица измерения]} on columns,
    {
        filter
        (
            descendants
            (
                [Организации].[Товары и услуги].[Все товары и услуги].[Продовольственные товары],
                [Организации].[Товары и услуги].[Уровень 3]
            ),
            [Measures].[Средняя цена] > 0
        )
    } on rows
from [ОРГАНИЗАЦИИ_Цены и тарифы]
where
    (
        [Территории].[РФ].[Все территории].[Российская Федерация].[Северо-Западный федеральный округ].[Вологодская область].[Вологодская область],
        [Источники данных].[Все источники данных].[СТАТ Отчетность - МО Вологодской области],
        [Организации].[Предприятия торговли].[Все организации].[Значение не указано],
        [Организации].[Тип цены].[Все типы цен].[Розничная цена]
    )
    ]]>
  </query>

  <query id = "ORG_0003_0007_grid">
    <![CDATA[ -- ORG_0003_0007_grid
select
    CrossJoin
    (
        {
            <%year_date%>,
            <%previous_date%>,
            <%selected_date%>
        },
        {[Measures].[Средняя цена]}
    ) on columns,
    non empty
    {
        filter
        (
            [Территории].[РФ].[Все территории].[Российская Федерация].[Северо-Западный федеральный округ].[Вологодская область].[Вологодская область].Children,
            [Measures].[Средняя цена] > 0
        )
    } on rows
from [ОРГАНИЗАЦИИ_Цены и тарифы]
where
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - МО Вологодской области],
        [Организации].[Предприятия торговли].[Все организации].[Значение не указано],
        [Организации].[Тип цены].[Все типы цен].[Розничная цена],
        <%selected_food%>
    )
    ]]>
  </query>

  <query id = "ORG_0003_0007_chart">
    <![CDATA[ -- ORG_0003_0007_chart
select
    { [Measures].[Средняя цена] } on columns,
    non empty order(
    {
        filter
        (
            [Территории].[РФ].[Все территории].[Российская Федерация].[Северо-Западный федеральный округ].[Вологодская область].[Вологодская область].Children,
            [Measures].[Средняя цена] > 0
        )
    }, ([Measures].[Средняя цена]), asc) on rows
from [ОРГАНИЗАЦИИ_Цены и тарифы]
where
    (
        [Источники данных].[Все источники данных].[СТАТ Отчетность - МО Вологодской области],
        [Организации].[Предприятия торговли].[Все организации].[Значение не указано],
        [Организации].[Тип цены].[Все типы цен].[Розничная цена],
        <%selected_date%>,
        <%selected_food%>
    )
    ]]>
  </query>

</root>