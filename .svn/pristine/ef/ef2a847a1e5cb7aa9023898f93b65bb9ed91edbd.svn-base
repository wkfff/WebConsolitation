<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="ComboDates">
    <![CDATA[
    
    with 
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам] 
    as '
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
        )'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]   
    as '   

                ([Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий])
                /([Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)])

        '  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек] 
    as '
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]
        )'
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[sum-report-field] 
    as 'sum
        (
            {   
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Начисленная среднемесячная заработная плата в расчете на одного работника предприятий и организаций - всего],
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Реальная начисленная заработная плата, в % к соответствующему периоду предыдущего года],
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Номинальная начисленная заработная плата, в % к соответствующему периоду предыдущего года] 
                
            },
            [Measures].[Значение]
        )' 
    member [UniqueName]
    as '[Период__Период].[Период__Период].currentmember.uniquename' 
    member [Mounth] 
    as '[Период__Период].[Период__Период].currentmember.parent.name'
    member [Year]
    as '[Период__Период].[Период__Период].currentmember.name'
select
    non empty
    {
[Mounth] ,
        [Year],
        [UniqueName]
    } on columns,
    non empty 
    {
        Filter
        (
            --[Период__Период].[Период__Период].[День].members,
            [Период__Период].[Период__Период].[Год].members,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[sum-report-field]>0 
        )  
    }on rows 
from [СТАТ_Мониторинг ситуации на рынке труда] 
/*where 
    (
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО] 
    ) */
    ]]>
  </query>
  <query id = "ComboRegion">
    <![CDATA[with
     member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]
    as '
        (

            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]
    as '

                ([Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий])
                /([Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)])

        '
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]
    as '
        (
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]
        )'


    member [Показатели__Рынок труда].[Показатели__Рынок труда].[sum]
    as '                 
[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]  +
[Показатели__Рынок труда].[Все].[Начисленная среднемесячная заработная плата в расчете на одного работника крупных и средних организаций - всего]+
[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)]+
[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
          
        '
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[UName]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].currentmember.uniquename'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Parent]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].currentmember.parent.name'
SELECT
    {
        [Показатели__Рынок труда].[Показатели__Рынок труда].[UName],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Parent]
    } on columns ,
    non empty
    {
        Order
        (
            filter
            (
                [Территории__Сопоставимый].[Территории__Сопоставимый].[МР ГО].members,
                not IsEmpty
                (
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[sum]
                )-- and not [Территории__Сопоставимый].[Территории__Сопоставимый].currentmember.is_datamember
            ),
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Parent]
        )
    }on rows
FROM [СТАТ_Мониторинг ситуации на рынке труда] 
    ]]>
  </query>

  <query id = "PeriodAlovalebleFirstGrid">
    <![CDATA[
    --PeriodAlovalebleFirstGrid    
    with
    set [set_test]
    as
    '
filter([Период__Период].[Период__Период].[День].members,
           [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)]>0)
    '
member [Период__Период].[Период__Период].[Last]
as '        Max([set_test])'
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]  
    as '  
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]  
        )'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]  
    as '   
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий] 
        ) / 
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  '  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]  
    as '  
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]  
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_PP]
    as '[Период__Период].[Период__Период].currentmember.parent.parent.parent.parent.name'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_P]
    as '[Период__Период].[Период__Период].currentmember.parent.name'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_U]
    as '[Период__Период].[Период__Период].currentmember.unique_name'
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[sumf] 
    as 'Sum({<%Fields%>}, [Measures].[Значение])'
         
SELECT
    {
    [Показатели__Рынок труда].[Показатели__Рынок труда].[day_P],
    [Показатели__Рынок труда].[Показатели__Рынок труда].[day_U]

    }on rows  ,
   non empty {
   
   filter(
       [Период__Период].[Период__Период].[День].members,
       [Показатели__Рынок труда].[Показатели__Рынок труда].[sumf]>0
       <%Comennt%>and[Показатели__Рынок труда].[Показатели__Рынок труда].[day_PP]="<%SelectUserYear%>"
       )
           } on columns
FROM [СТАТ_Мониторинг ситуации на рынке труда]  
where  
    (
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область] 
        --<%ActiveRegion%>
    )
    ]]>
  </query>
  <query id = "PeriodAlovalebleSecondGrid">
    <![CDATA[   
    --PeriodAlovalebleSecondGrid
    with
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]
    as '
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]
    as '
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
        ) /
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  '
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]
    as '
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_PP]
    as '[Период__Период].[Период__Период].currentmember.parent.parent.parent.parent.name'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_P]
    as '[Период__Период].[Период__Период].currentmember.parent.name'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[day_U]
    as '[Период__Период].[Период__Период].currentmember.unique_name'

    member [Показатели__Рынок труда].[Показатели__Рынок труда].[sumf]
    as 'Sum({        <%Fields%>}, [Measures].[Значение])'

SELECT
    {
    [Показатели__Рынок труда].[Показатели__Рынок труда].[day_P],
    [Показатели__Рынок труда].[Показатели__Рынок труда].[day_U]

    }on rows  ,
   non empty {

   filter( 
       [Период__Период].[Период__Период].[День].members,
       [Показатели__Рынок труда].[Показатели__Рынок труда].[sumf]>0 
       <%Comennt%>and [Показатели__Рынок труда].[Показатели__Рынок труда].[day_PP]="<%SelectUserYear%>"
       ) 
           } on columns
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where (<%ActiveRegion%>)
    ]]>
  </query>

  <query id = "Grid">
    <![CDATA[
    --Grid
    with
    <%WithZoneDate%>
    
    
          set [set_test]
    as
    '
filter([Период__Период].[Период__Период].[День].members,
           [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)]>0)
    '
member [Период__Период].[Период__Период].[Last]
as '        Max([set_test])'
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]  
    as '  
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]  
        )'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]  
    as ' iif(  (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  <>0,
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий] 
        ) / 
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  ,null)'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]  
    as '  
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]  
        )'  
        
  member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднемесячная номинальная начисленная заработная плата работников крупных и средних организаций, руб.]  
    as '  
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Все].[Начисленная среднемесячная заработная плата в расчете на одного работника крупных и средних организаций - всего]
        )'  
        
    SELECT
    {
     <%Fields%>
    }on rows  ,
    {   
        <%Dates%>
    } on columns   
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where 
    (
        <%ActiveRegion%> --,[Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО]
    ) 
    ]]>
  </query>

  <query id = "Chart">
    <![CDATA[
    --Grid
    with
    <%WithZoneDate%>
    
    
          set [set_test]
    as
    '
filter([Период__Период].[Период__Период].[День].members,
           [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)]>0)
    '
member [Период__Период].[Период__Период].[Last]
as '        Max([set_test])'
    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]  
    as '  
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]  
        )'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]  
    as ' iif(  (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  <>0,
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий] 
        ) / 
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
            [Период__Период].[Период__Период].[Last]
        )  ,null)'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]  
    as '  
        (
            <%ActiveRegion%>,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]  
        )'  
        
    member [Территории__Сопоставимый].[Территории__Сопоставимый].[Новосибирская область ]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember'
    SELECT
    { 
    [Территории__Сопоставимый].[Территории__Сопоставимый].[Новосибирская область ],
    <%ActiveRegion%>   
    
     
     
    }on rows  ,
    {   
        <%Dates%>
    } on columns   
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where 
    (
     <%Fields%>    --,[Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО]
    ) 
    ]]>
  </query>
  
  
  <query id = "Grid_Rf">
    <![CDATA[
    --grid_rf
    with
 member [Территории__Сопоставимый].[Территории__Сопоставимый].[year]
 as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].currentmember.parent.parent.parent.name'
 member [Территории__Сопоставимый].[Территории__Сопоставимый].[name]
 as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].currentmember.name'
 member [Территории__Сопоставимый].[Территории__Сопоставимый].[DisplayName]
 as 'iif([Территории__Сопоставимый].[Территории__Сопоставимый].[name]="Январь",
 "январь "+ [Территории__Сопоставимый].[Территории__Сопоставимый].[year] + " года",
 "январь - "+[Территории__Сопоставимый].[Территории__Сопоставимый].[name]+" "+ [Территории__Сопоставимый].[Территории__Сопоставимый].[year] + " года")'
 
member [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Среднемесячная номинальная начисленная заработная плата работников организаций]
as '[СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Уровень жизни населения].[Среднемесячная номинальная начисленная заработная плата работников организаций]'

    member [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Реальная начисленная заработная плата, к предыдущему году] 
    as '[СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Уровень жизни населения].[Реальная начисленная заработная плата, к предыдущему году]' 
member [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация ]
as '[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].DataMember'
member [Территории__Сопоставимый].[Территории__Сопоставимый].[Новосибирская область ]
as '[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация].[Сибирский федеральный округ].[Новосибирская область].DataMember'

SELECT
    non empty
    {
    filter(
[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Месяц].members,

not [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].currentmember.is_datamember
and      [Measures].[За период] > 0
and (1=2  <%Dates%>))
    }on rows  ,
    non empty 
    {
    [Территории__Сопоставимый].[Территории__Сопоставимый].[DisplayName],
   	[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация ],
            	[Территории__Сопоставимый].[Территории__Сопоставимый].[Новосибирская область ]   	
    } on columns
FROM [СТАТ_СЭП_Годовой сборник]
where
    (
     [Measures].[За период],
     <%Fields%>
    )
    ]]>
  </query>
  <query id = "GridRang">
    <![CDATA[
    --GridRang
with   
    <%WithZoneDate%>
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Уровень регистрируемой безработицы, % от численности экономически активного населения ]
    as '(--<%ActiveRegion%>.datamember,
    [Показатели__Рынок труда].[Показатели__Рынок труда].[Уровень регистрируемой безработицы, % от численности экономически активного населения])'    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Уровень трудоустройства ]
    as '(--<%ActiveRegion%>.datamember,
    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Уровень трудоустройства ищущих работу граждан])'
SELECT
    {
       [Показатели__Рынок труда].[Показатели__Рынок труда].[<%FieldForRang%>]
    } on columns,
    non empty
    {
        order
        (
        filter(<%ActiveRegion%>.parent.children,
            not [Территории__Сопоставимый].[Территории__Сопоставимый].currentmember.is_datamember),
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[<%FieldForRang%>]
        ) 
    }on rows 
FROM [СТАТ_Мониторинг ситуации на рынке труда]   
where   
    (
        [Период__Период].[Период__Период].[<%DateForRang%>],
        [Measures].[Значение]
    )]]>
  </query>
  <query id = "Chart">
    <![CDATA[
    --Chart
    with
    <%WithZoneDate%>
    SELECT
    {
           <%ActiveRegion%>.datamember ,
           <%ActiveRegion%>.parent.datamember
    }   on columns,
    non empty    
    {
        <%Dates%>
    }on rows
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where (<%ChangeNavigatorChart%>,
[Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО])]]>
  </query>
  <query id = "Chart2">
    <![CDATA[
    --Chart2
    with
    <%WithZoneDate%>
    SELECT
    {
    <%ChangeNavigatorChart%>
    } on rows ,
    non empty    
    {
        <%Dates%>
    } on columns
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where (<%ActiveRegion%>,
[Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО])]]>
  </query>
  <query id = "Textovka">
    <![CDATA[
   with   
    set [fields]   
    as '   
        {
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций бюджетной сферы, финансируемых из областного и местных бюджетов)],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций внебюджетной сферы, кроме организаций сельского хозяйства)],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций сельского хозяйства)]           
        }'      
    member [sum-fields]   
    as 'Aggregate  
        (
            [fields] ,
            [Measures].[Значение]  
        )'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[mounth] 
    as '[Период__Период].[Период__Период].parent.name'  
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[year] 
    as '[Период__Период].[Период__Период].parent.parent.parent.parent.name'   
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Uname]
    as '[Период__Период].[Период__Период].currentmember.uniquename'
SELECT
    non empty         
    {
        BottomCount      
        (
            Filter      
            (
                [Период__Период].[Период__Период].members,
                (
                    [sum-fields],
                    <%ActiveRegion%>    
                ) > 0      
            ),
            1      
        )        
    } on rows,
    {
[Показатели__Рынок труда].[Показатели__Рынок труда].[Uname],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций бюджетной сферы, финансируемых из областного и местных бюджетов)],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций внебюджетной сферы, кроме организаций сельского хозяйства)],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Минимальная заработная плата, установленная в Региональном соглашении (для работников организаций сельского хозяйства)]   
    } on columns 
FROM  [СТАТ_Мониторинг ситуации на рынке труда]       
where       
    (
        <%ActiveRegion%>,
        [Measures].[Значение]
    )       
    ]]>
  </query>
  <query id = "Textovka2">
    <![CDATA[with    
    set [fields]    
    as '    
        {
            <%Field%>
        }'       
    member [sum-fields]    
    as 'Aggregate   
        (
            [fields] ,
            [Measures].[Значение]   
        )'   
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[mounth]  
    as '[Период__Период].[Период__Период].parent.name'   
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[year]  
    as '[Период__Период].[Период__Период].parent.parent.name'    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Uname] 
    as '[Период__Период].[Период__Период].currentmember.uniquename' 
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[level] 
    as '[Период__Период].[Период__Период].currentmember.level_number'
SELECT
    non empty          
    {
        BottomCount       
        (
            Filter       
            (
                [Период__Период].[Период__Период].members,
                (
                    [sum-fields],
                    <%ActiveRegion%>  
                ) > 0
                and
[Показатели__Рынок труда].[Показатели__Рынок труда].[level]=3
            ),
            2
        )         
    } on rows,
    {
    [Показатели__Рынок труда].[Показатели__Рынок труда].[year],
    [Показатели__Рынок труда].[Показатели__Рынок труда].[level],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Uname],
        <%Field%>
    } on columns  
FROM  [СТАТ_Мониторинг ситуации на рынке труда]        
where        
    (
        <%ActiveRegion%>,
        [Measures].[Значение]       ,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО]
    )            
    ]]>
  </query>
  <query id = "Textovka3">
    <![CDATA[with    
    set [fields]    
    as '    
        {
            <%Field%>
        }'       
    member [sum-fields]    
    as 'Aggregate   
        (
            [fields] ,
            [Measures].[Значение]   
        )'   
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[mounth]  
    as '[Период__Период].[Период__Период].parent.name'   
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[year]  
    as '[Период__Период].[Период__Период].parent.parent.name'    
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Uname] 
    as '[Период__Период].[Период__Период].currentmember.uniquename' 
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[level] 
    as '[Период__Период].[Период__Период].currentmember.level_number'
SELECT
    non empty          
    {
        BottomCount       
        (
            Filter       
            (
                [Период__Период].[Период__Период].members,
                (
                    [sum-fields],
                    <%ActiveRegion%>  
                ) > 0
                and
[Показатели__Рынок труда].[Показатели__Рынок труда].[level]=5
            ),
            2
        )         
    } on rows,
    {
    [Показатели__Рынок труда].[Показатели__Рынок труда].[year],
    [Показатели__Рынок труда].[Показатели__Рынок труда].[level],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Uname],
        <%Field%>
    } on columns  
FROM  [СТАТ_Мониторинг ситуации на рынке труда]        
where        
    (
        <%ActiveRegion%>,
        [Measures].[Значение]
        ,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Минтруд НСО]
    )            
    ]]>
  </query>
  <query id = "BottomChart">
    <![CDATA[with
<%WithZoneDate%>
    set [set_test]
    as ' filter
        (
            [Период__Период].[Период__Период].[День].members,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)]>0
        ) '
    member [Период__Период].[Период__Период].[Last]
    as '        Max([set_test])'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников организаций и предприятий, человек в % к трудовым ресурсам]
    as '
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[   в % к трудовым ресурсам]
    as ' iif
        (
            (
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
                [Период__Период].[Период__Период].[Last]
            )  <>0,
            (
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий]
            ) /
            (
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность трудовых ресурсов (без учёта маятниковой миграции)] ,
                [Период__Период].[Период__Период].[Last]
            )  ,
            null
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Среднесписочная численность работников крупных и средних организаций, человек]
    as '
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников крупных и средних организаций]
        )'
SELECT
   non empty {
   Except(
        [ОК__ОКВЭД].[ОК__ОКВЭД].members,
        [ОК__ОКВЭД].[ОК__ОКВЭД].[Все виды экономической деятельности])
    }on rows  ,
   non empty {
        <%Dates%>
    } on columns
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where
    (
        [Measures].[Значение],        
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Среднесписочная численность работников организаций и предприятий (по видам деятельности)],
        <%ActiveRegion%>) 
]]></query>
  <query id = "Text0">
    <![CDATA[
    --Text0
select


BottomCount( filter(
[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год].members,
[Measures].[За период]>0),1) on rows,
[Measures].[За период] on columns
from [СТАТ_Население_Численность и состав]
where
    (
        [Население__Численность и состав].[Население__Численность и состав].[Все показатели].[Численность населения на начало года],
--[Группировки__Население_Численность и состав].[Группировки__Население_Численность и состав].[Все группировки].[По городам и районам],
[Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - Новосибирскстат],
<%ActiveRegion%>

    )
]]>
  </query>

  <query id = "Text1">
    <![CDATA[SELECT
    non empty
    {
        topcount
        (
            Filter
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год].members,
                [Measures].[За период]>0
            ),
             1
        )
    }on rows,
    non empty 
    {
        [СЭП__Годовой сборник].[СЭП__Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта]--.[Население].[Численность постоянного населения на начало года] 
    } on columns 
FROM [СТАТ_СЭП_Годовой сборник] 
where ( [Measures].[За период] ,<%ActiveRegion%>)  
]]>
  </query>

  <query id = "Text2">
    <![CDATA[
    --text2
    with
<%WithZoneDate%>
    SELECT
    non empty 
    {
        topcount
        (
            {<%Dates%>},
             2
        )
    }on rows,
    non empty 
    {
        {<%Fields%>}
    } on columns 
FROM [СТАТ_Мониторинг ситуации на рынке труда]
where ( [Measures].[Значение],<%ActiveRegion%> )
]]>
  </query>
  
</root>