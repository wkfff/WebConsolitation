<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="date">
    <![CDATA[
-- fo_0035_0001_date
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail 
        (
            NonEmptyCrossjoin 
            (
                {
                    Filter 
                    (
                        [Период].[Период].Members,
                        [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and [Период].[Период].CurrentMember.Name <> "Данные квартала" and [Период].[Период].CurrentMember.Name <> "Данные полугодия" and [Период].[Период].CurrentMember.Name <> "Данные года" and 
                        (
                            (
                                [Measures].[Факт за период],
                                [Показатели].[ИспКасПлан].[Все].[собственные]
                            ) <> 0 or
                            (
                                [Measures].[Факт за период],
                                [Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]
                            ) <> 0 or
                            (
                                [Measures].[Факт за период],
                                [Показатели].[ИспКасПлан].[Все].[безвозмездные поступления]
                            ) <> 0 or
                            (
                                [Measures].[Факт за период],
                                [Показатели].[ИспКасПлан].[Все].[привлечения заемных средств]
                            ) <> 0 or
                            (
                                [Measures].[Факт за период],
                                [Показатели].[ИспКасПлан].[Все].[возврат кредитов]
                            ) <> 0
                        )
                    ) 
                } 
            ) 
        ) 
    } on rows 
from [ФО_Исполнение кассового плана] 
  ]]>
  </query>

  <query id="date_last">
    <![CDATA[
-- fo_0035_0001_date
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail 
        (
            NonEmptyCrossjoin 
            (
                {
                    Filter 
                    (
                        [Период].[Период].Members,
                        [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and [Период].[Период].CurrentMember.Name <> "Данные квартала" and [Период].[Период].CurrentMember.Name <> "Данные полугодия" and [Период].[Период].CurrentMember.Name <> "Данные года"
                        
                        
                    ) 
                } 
            ) 
        ) 
    } on rows 
from [ФО_Исполнение кассового плана] 
  ]]>
  </query>
  
  <query id="data">
    <![CDATA[
-- fo_0035_0001_data   
with
    member [Measures].[Месяц]
    as '[Период].[Период].CurrentMember.Parent.Name'
    member Measures.[Факт за день]
    as 'IIF
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000
        )'
    member [Показатели].[ИспКасПлан].[продажа акций]
    as '[Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]'
    member [Показатели].[ИспКасПлан].[собственные доходы]
    as '[Показатели].[ИспКасПлан].[Все].[собственные]'
select

        { [Measures].[Факт за день],
         Measures.[План],
         [Measures].[Факт] } on columns,
        {
            [Показатели].[ИспКасПлан].[собственные доходы],
            [Показатели].[ИспКасПлан].[Все].[безвозмездные поступления],
            [Показатели].[ИспКасПлан].[Все].[привлечения заемных средств],
            [Показатели].[ИспКасПлан].[Все].[возврат кредитов],
            [Показатели].[ИспКасПлан].[продажа акций],
            [Показатели].[ИспКасПлан].[Все].[КАССОВЫЕ ПОСТУПЛЕНИЯ - ВСЕГО]
        } on rows
from [ФО_Исполнение кассового плана]
where 
    (
        <%period_cur_date%>  
    ) 
  ]]>
</query>

<query id="ChartOutcomesAll">
<![CDATA[
-- fo_0035_0001_data
with 
    member [Measures].[Месяц] 
    as '[Период].[Период].CurrentMember.Parent.Name' 
    member Measures.[Факт за день] 
    as 'IIF 
        (
            IsEmpty([Measures].[Факт за период]),
            0,
            [Measures].[Факт за период] / 1000 
        )' 
    member [Показатели].[ИспКасПлан].[продажа акций] 
    as '[Показатели].[ИспКасПлан].[Все].[средства продажи акций и иных форм участия в капитале, находящихся в государственной и муниципальной собственности]' 
    member [Показатели].[ИспКасПлан].[собственные доходы] 
    as '[Показатели].[ИспКасПлан].[Все].[собственные]' 
select
    {
        {
            [Показатели].[ИспКасПлан].[собственные доходы],
            [Показатели].[ИспКасПлан].[Все].[безвозмездные поступления],
            [Показатели].[ИспКасПлан].[Все].[привлечения заемных средств],
            [Показатели].[ИспКасПлан].[Все].[возврат кредитов],
            [Показатели].[ИспКасПлан].[продажа акций]
        } 
        * { [Measures].[Факт за день] } + 
        {
            [Показатели].[ИспКасПлан].[Все].['Значение не указано'] 
        } 
        *  { [Measures].[Месяц] } 
    } on columns,
    Descendants 
    (
        [Период].[Период].[Данные всех периодов]<%period_quater%>,
        [Период].[Период].[День],
        SELF 
    )  on rows 
from [ФО_Исполнение кассового плана]
  ]]>
  </query>

</root>