<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0032_date">
    <![CDATA[
-- FO_0002_0032_detail_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                [Период__Период].[Период__Период].Members,
                not IsEmpty([Measures].[Факт]) 
            ) 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from [ФО_МесОтч_Расходы] 
  ]]>
  </query>

  <query id="FO_0002_0032_grid">
    <![CDATA[
-- FO_0002_0032_grid
with       
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы бюджета – Всего (без внутренних оборотов)]    
    as 'LookupCube   
        (
            "[ФО_МесОтч_Доходы]",
            "       
            (
                <%incomes_total%>,
                " + MemberToStr       
                (
                    [Период__Период].[Период__Период].CurrentMember       
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr       
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr       
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr      
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember      
                ) + "      
            ) "       
        )'       
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]    
    as 'LookupCube   
        (
            "[ФО_МесОтч_Доходы]",
            "       
            (
                <%incomes_kd_dimension%>.[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                " + MemberToStr       
                (
                    [Период__Период].[Период__Период].CurrentMember       
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr       
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr       
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr      
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember      
                ) + "      
            ) "       
        )'       
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ]    
    as 'LookupCube      
        (
            "[ФО_МесОтч_Доходы]",
            "       
            (
                <%incomes_kd_dimension%>.[Все коды доходов].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ],
                " + MemberToStr       
                (
                    [Период__Период].[Период__Период].CurrentMember       
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr       
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr       
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember       
                ) + ",
                " + MemberToStr      
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember      
                ) + "      
            ) "       
        )'       
    set [Расходы]       
    as '       
        {
            <%outcomes_total%>,
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБЩЕГОСУДАРСТВЕННЫЕ ВОПРОСЫ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ОБОРОНА],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ БЕЗОПАСНОСТЬ И ПРАВООХРАНИТЕЛЬНАЯ ДЕЯТЕЛЬНОСТЬ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[НАЦИОНАЛЬНАЯ ЭКОНОМИКА],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ЖИЛИЩНО-КОММУНАЛЬНОЕ ХОЗЯЙСТВО],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОХРАНА ОКРУЖАЮЩЕЙ СРЕДЫ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБРАЗОВАНИЕ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[КУЛЬТУРА, КИНЕМАТОГРАФИЯ, СРЕДСТВА МАССОВОЙ ИНФОРМАЦИИ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[КУЛЬТУРА, КИНЕМАТОГРАФИЯ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ЗДРАВООХРАНЕНИЕ, ФИЗИЧЕСКАЯ КУЛЬТУРА И СПОРТ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ЗДРАВООХРАНЕНИЕ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[СОЦИАЛЬНАЯ ПОЛИТИКА],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ФИЗИЧЕСКАЯ КУЛЬТУРА И СПОРТ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[СРЕДСТВА МАССОВОЙ ИНФОРМАЦИИ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[ОБСЛУЖИВАНИЕ ГОСУДАРСТВЕННОГО И МУНИЦИПАЛЬНОГО ДОЛГА],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[МЕЖБЮДЖЕТНЫЕ ТРАНСФЕРТЫ ОБЩЕГО ХАРАКТЕРА БЮДЖЕТАМ СУБЪЕКТОВ РОССИЙСКОЙ ФЕДЕРАЦИИ И МУНИЦИПАЛЬНЫХ ОБРАЗОВАНИЙ]       
        }'       
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы бюджета всего, в том числе по разделам: ]       
    as '<%outcomes_total%> / 1000'       
    member [Measures].[Выводим пустоту]       
    as '[Период__Период].[Период__Период].CurrentMember.Properties("PKID") > [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>].Properties("PKID")'       
    member [Measures].[План на год (уточненный) ]       
    as 'IIF       
        (
            [Measures].[Выводим пустоту],
            null,
            [Measures].[Годовые назначения] / 1000      
        )'        
    member [Measures].[План на год (первоначальный) по расходам ]      
    as 'IIF
        (
            not <%original_plan_enable%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Собственный бюджет субъекта],
            ([Measures].[План на год (первоначальный) по расходам ], <%regions_consolidate_level%>),
            LookupCube      
            (
                "[ФО_Первоначальный план расходов]",
                "      
                (
                    [Measures].[Первоначальный план],
                    " + MemberToStr     
                    (
                        [Период__Период].[Период__Период].CurrentMember     
                    ) + ",
                    " + MemberToStr     
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember     
                    ) + ",
                    " + MemberToStr    
                    (
                        [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember     
                    ) + "     
                ) "      
            ) / 1000
        ) '      
    member [Measures].[План на год (первоначальный) по доходам ]     
    as 'IIF
        (
            not <%original_plan_enable%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Собственный бюджет субъекта],
            ([Measures].[План на год (первоначальный) по доходам ], <%regions_consolidate_level%>),
            LookupCube   
            (
                "[ФО_Первоначальный план доходов]",
                "   
                (
                    [Measures].[Первоначальный план],
                    " + MemberToStr   
                    (
                        [Период__Период].[Период__Период].CurrentMember   
                    ) + ",
                    " + MemberToStr   
                    (
                        [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember   
                    ) + ",
                    <%incomes_kd_dimension%>.[Все коды доходов].[" + [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember.Name + "]   
                ) "   
            ) / 1000
         )'   
    member [Measures].[План на год (первоначальный) ]     
    as 'IIF    
        (
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы бюджета – Всего (без внутренних оборотов)]   
            ) or     
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]   
            ) or             
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ]   
            ),
            IIF   
            (
                IsEmpty  
                (
                    [Measures].[План на год (первоначальный) по доходам ]  
                ),
                
                (
                   [Measures].[План на год (уточненный) ],
                   [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]  
                ),
                [Measures].[План на год (первоначальный) по доходам ]  
            ),
            IIF   
            (
                IsEmpty  
                (
                    [Measures].[План на год (первоначальный) по расходам ]  
                ),
                (
                   [Measures].[План на год (уточненный) ],
                   [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]  
                ),
                [Measures].[План на год (первоначальный) по расходам ]  
            )   
        )'     
    member [Measures].[Назначено за прошлый месяц ]       
    as '       
        (
            [Measures].[План на год (уточненный) ],
            Tail  
            (
                Filter  
                (
                    {
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь] : [Период__Период].[Период__Период].CurrentMember.PrevMember  
                    },
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"  
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"  
                    )  
                )  
            ).Item(0)  
        )'       
    member [Measures].[Отклонение от предыдущего месяца ]       
    as 'IIF       
        (
            IsEmpty       
            (
                (
                    [Measures].[План на год (уточненный) ],
                    [Период__Период].[Период__Период].CurrentMember       
                )       
            ),
            null,
            (
                [Measures].[План на год (уточненный) ],
                [Период__Период].[Период__Период].CurrentMember       
            ) - [Measures].[Назначено за прошлый месяц ]       
        ) '       
    member [Measures].[Отклонение от первоначального плана ]       
    as 'IIF       
        (
            IsEmpty       
            (
                (
                    [Measures].[План на год (уточненный) ],
                    [Период__Период].[Период__Период].CurrentMember       
                )       
            ),
            null,
            (
                [Measures].[План на год (уточненный) ],
                [Период__Период].[Период__Период].CurrentMember       
            ) -       
            (
                [Measures].[План на год (первоначальный) ],
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>] 
            )       
        ) '       
    set [Месяцы текущего года без января]       
    as 'Filter       
        (
            Descendants       
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF       
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"    
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"    
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"    
            ) and              
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"    
            ) and              
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"    
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"    
            ) and not       
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember       
            )       
        )'       
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%own_budget_document_skif_type%>)'     
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )'  
    member [Measures].[Первоначальный план пустой] 
    as 'IIF 
        (
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы бюджета – Всего (без внутренних оборотов)] 
            ) or 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ] 
            ) or 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ] 
            ),
            IIF 
            (
                IsEmpty 
                (
                    [Measures].[План на год (первоначальный) по доходам ] 
                ),
                "*",
                "" 
            ),
            IIF 
            (
                IsEmpty 
                (
                    [Measures].[План на год (первоначальный) по расходам ] 
                ),
                "*",
                "" 
            ) 
        )' 
    member [Measures].[Уровень] 
    as 'IIF 
        (
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы бюджета – Всего (без внутренних оборотов)] 
            ) or 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is <%outcomes_total%> 
            ),
            0,
            1
        )'        
select
    {
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>]     
            }     
            *     
            {
                [Measures].[План на год (первоначальный) ]    
            }     
        } +      
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]       
            }       
            *       
            {
                [Measures].[План на год (уточненный) ]       
            }       
        }   +       
        {
            Filter       
            (
                {
                    {
                        [Месяцы текущего года без января]
                    }       
                    *       
                    {
                        [Measures].[План на год (уточненный) ],
                        [Measures].[Отклонение от предыдущего месяца ],
                        [Measures].[Отклонение от первоначального плана ]       
                    }       
                },
                IIF       
                (
                    (
                        [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]
                    ) and not      
                    (
                        [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь]      
                    ),
                    true,
                    not       
                    (
                        [Measures].CurrentMember is [Measures].[Отклонение от первоначального плана ]      
                    )       
                )       
            )       
        } +        
        {
            {
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>] 
            } 
            * 
            {
                [Measures].[Уровень],
                [Measures].[Первоначальный план пустой] 
            } 
        } 
    } on columns,
    Filter
    (
        {
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы бюджета – Всего (без внутренних оборотов)],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].[БЕЗВОЗМЕЗДНЫЕ ПОСТУПЛЕНИЯ]  
        } + {[Расходы]},
        not IsEmpty
        (
            (
                [Measures].[План на год (уточненный) ],
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>]
            )
        ) 
    ) on rows   
from [ФО_МесОтч_Расходы]       
where       
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        <%kosgu_filter%>
    )       
  ]]>
  </query>

  <query id="FO_0002_0032_stackColumnChart">
    <![CDATA[
-- FO_0002_0032_stackColumnChart
with  
    set [Месяцы текущего года]  
    as 'Filter  
        (
            Descendants  
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF  
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"  
            ) and not  
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember  
            )  
        )'  
   member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%own_budget_document_skif_type%>)'    
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
    as 'LookupCube  
        (
            "[ФО_МесОтч_Доходы]",
            "  
            (
                <%incomes_total%>,
                " + MemberToStr  
                (
                    [Период__Период].[Период__Период].CurrentMember  
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr  
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember  
                ) + ",
                " + MemberToStr  
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember  
                ) + ",
                " + MemberToStr  
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember  
                ) + "  
            ) "  
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
    as '<%outcomes_total%>'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки]  
    as '100000000'  
    member [Measures].[План на год (уточненный) ]  
    as ' [Measures].[Годовые назначения] / <%rub_multiplier%> '  
    member [Measures].[Назначено за прошлый месяц ]  
    as '  
        (
            [Measures].[План на год (уточненный) ],
            Tail  
            (
                Filter  
                (
                    {
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>].[Полугодие 1].[Квартал 1].[Январь] : [Период__Период].[Период__Период].CurrentMember.PrevMember  
                    },
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"  
                    ) and  
                    (
                        [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"  
                    )  
                )  
            ).Item(0)  
        )'  
    member [Measures].[Отклонение от предыдущего месяца ]  
    as 'IIF  
        (
            IsEmpty  
            (
                (
                    [Measures].[План на год (уточненный) ],
                    [Период__Период].[Период__Период].CurrentMember  
                )  
            ),
            null,
            (
                [Measures].[План на год (уточненный) ],
                [Период__Период].[Период__Период].CurrentMember  
            ) - [Measures].[Назначено за прошлый месяц ]  
        ) '  
    member [Measures].[Доходы]  
    as 'IIF  
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции],
            IIF
            (
                IsEmpty
                (
                    [Measures].[План на год (уточненный) ]
                ),
                null,
                [Measures].[План на год (уточненный) ] -
                (
                    [Measures].[Доходы],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки]
                )
            ),
            IIF  
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки] and not IsEmpty  
                (
                    (
                        [Measures].[План на год (уточненный) ],
                        [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
                    )  
                ) and  
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Январь"  
                ),
                (
                    [Measures].[План на год (уточненный) ],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
                ) -  
                (
                    [Measures].[Назначено за прошлый месяц ],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
                ),
                IIF 
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
                    "Доходы",
                    null
                )   
            )  
        )'  
    member [Measures].[Расходы]  
    as 'IIF  
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции],
            IIF
            (
                IsEmpty
                (
                    [Measures].[План на год (уточненный) ]
                ),
                null,
                [Measures].[План на год (уточненный) ] - 
                (
                    [Measures].[Расходы],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки] 
                )
            ),
            IIF  
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки] and not IsEmpty  
                (
                    (
                        [Measures].[План на год (уточненный) ],
                        [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
                    )  
                ) and  
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Январь"  
                ),
                (
                    [Measures].[План на год (уточненный) ],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
                ) -  
                (
                    [Measures].[Назначено за прошлый месяц ],
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
                ),
                IIF 
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
                    "Расходы",
                    null
                )   
            )  
        )' 
   member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера]
   as '[Measures].CurrentMember.Name'
select
    {
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Сумма корректировки]  
    } on columns, 
    {
        Filter  
        (
            {
                [Месяцы текущего года]  
                *  
                {
                    [Measures].[Доходы],
                    [Measures].[Расходы]  
                }  
            },
            not  
            (
                IsEmpty  
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
                ) and IsEmpty  
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
                )  
            )  
        )
    }   on rows  
from [ФО_МесОтч_Расходы]  
where  
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        <%kosgu_filter%>
    )  
  ]]>
  </query>

  <query id="FO_0002_0032_lineChart">
    <![CDATA[
-- FO_0002_0032_lineChart
with  
    set [Месяцы текущего года]  
    as 'Filter  
        (
            Descendants  
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF  
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"  
            ) and  
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"  
            ) and not  
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember  
            )  
        )'  
   member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%own_budget_document_skif_type%>)'   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
    as 'LookupCube 
        (
            "[ФО_МесОтч_Доходы]",
            " 
            (
                <%incomes_total%>,
                " + MemberToStr 
                (
                    [Период__Период].[Период__Период].CurrentMember 
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr 
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember 
                ) + ",
                " + MemberToStr 
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember 
                ) + " 
            ) " 
        ) ' 
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
    as '<%outcomes_total%> '   
    member [Measures].[План на год (уточненный) ]  
    as ' [Measures].[Годовые назначения] / <%rub_multiplier%> '   
    member [Measures].[Доходы]  
    as 'IIF  
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Бюджет откорректированный],
            (
                [Measures].[План на год (уточненный) ],
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]
            ),
            "Доходы"
        )'  
    member [Measures].[Расходы]  
    as 'IIF  
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Бюджет откорректированный],
            (
                [Measures].[План на год (уточненный) ],
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]
            ),
            "Расходы"
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера]  
    as '[Measures].CurrentMember.Name'  
    
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Бюджет откорректированный]
    as '[Measures].[План на год (уточненный) ]'
select
    {
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Бюджет откорректированный] 
    } on columns,
    {
        Filter  
        (
            {
                [Месяцы текущего года]  
                *  
                {
                    [Measures].[Доходы],
                    [Measures].[Расходы]  
                }  
            },
            not  
            (
                IsEmpty  ( [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Бюджет откорректированный] )
            ) 
        )  
    }   on rows  
from [ФО_МесОтч_Расходы]  
where  
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        <%kosgu_filter%>
    )  
  ]]>
  </query>

  <query id="FO_0002_0032_executePercentChart">
    <![CDATA[
-- FO_0002_0032_executePercentChart
with    
    set [Месяцы текущего года]    
    as 'Filter    
        (
            Descendants    
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                SELF    
            ),
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"    
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"    
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"    
            ) and not    
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember    
            )    
        )'    
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)' 
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>]     
    as '(<%regions_consolidate_level%>, <%own_budget_document_skif_type%>)'   
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты]     
    as '(<%regions_consolidate_level%>, <%consolidate_document_skif_type%>)'     
   
    member [Уровни бюджета].[СКИФ].[Уровень бюджета ]     
    as 'IIF     
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is <%regions_consolidate_level%> or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            IIF     
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                IIF     
                (
                   [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
                    <%region_budget_skif_level%>     
                )    
            )   
        ) ' 
     member [ТипДокумента].[СКИФ].[Тип документа ]
     as '
        IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Консолидированный бюджет субъекта] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[<%own_subject_budget_name%>] or
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Местные бюджеты],
            <%consolidate_document_skif_type%>,
            <%region_document_skif_type%>
        )'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]    
    as 'LookupCube   
        (
            "[ФО_МесОтч_Доходы]",
            "   
            (
                <%incomes_total%>,
                " + MemberToStr   
                (
                    [Период__Период].[Период__Период].CurrentMember   
                ) + ",
                " + MemberToStr ( [Measures].CurrentMember ) + ",
                " + MemberToStr   
                (
                    [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].CurrentMember   
                ) + ",
                " + MemberToStr   
                (
                    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].CurrentMember   
                ) + ",
                " + MemberToStr   
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember   
                ) + "   
            ) "   
        ) '   
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]    
    as '<%outcomes_total%> '     
    member [Measures].[Процент исполнения ]  
    as ' 100  
        * [Measures].[% выполнения годовых назначений] '  
    member [Measures].[Доходы]    
    as 'IIF    
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по доходам],
            (
                [Measures].[Процент исполнения ],
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Доходы в последней редакции]  
            ),
            IIF  
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
                "Доходы",
                null 
            )  
        )'    
    member [Measures].[Расходы]    
    as 'IIF    
        (
            [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по доходам],
            (
                [Measures].[Процент исполнения ],
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Расходы в последней редакции]  
            ),
            IIF 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
                "Расходы",
                null 
            ) 
        )'    
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера]    
    as '[Measures].CurrentMember.Name'     
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по доходам]
    as '[Measures].[Процент исполнения ]'  
    member [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по расходам]
    as 'null'
select
    {
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Мера],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по доходам],
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по расходам]
    } on columns,
    {
        Filter    
        (
            {
                [Месяцы текущего года]    
                *    
                {
                    [Measures].[Доходы],
                    [Measures].[Расходы]    
                }    
            },
            not    
            (
                IsEmpty   
                (
                    [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Процент исполнения по доходам]
                )
            )   
        )    
    }   on rows    
from [ФО_МесОтч_Расходы]    
where    
    (
        <%selected_region%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Тип документа ],
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета ],
        <%kosgu_filter%>
    )     
  ]]>
  </query>
</root>