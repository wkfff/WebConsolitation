<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0016_date">
    <![CDATA[
-- FO_0002_0016_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период].[Период].[Данные всех периодов],
                    [Период].[Период].[Месяц],
                    SELF 
                ),
                not IsEmpty ( ( [Measures].[Факт] ) ) 
            ),
            1 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from  [ФО_МесОтч_Доходы] 
  ]]>
</query>

<query id="FO_0002_0016_Grid">
    <![CDATA[
-- FO_0002_0016_Grid 
with    
    member Measures.[Факт ]    
    as ' ( [Measures].[Факт] / 1000  )'    
    member [Measures].[% выполнения годовых назначений ]    
    as '    
        (
            [Measures].[% выполнения годовых назначений]    
        )'    
    set [Районы]    
    as 'Filter    
        (
            Descendants    
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Уровень 02],
                Self    
            ),
            not ( [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember )
            and ( [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or [Районы].[Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО" )
        )'    
    member  [Районы].[Сопоставимый].[Консолидированный бюджет субъекта ]    
    as '    
        (
           [Районы].[Сопоставимый].[Все районы].[Консолидированный бюджет области],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов]    
        )'    
    member  [Районы].[Сопоставимый].[Собственный бюджет субъекта ]    
    as '    
        (
           [Районы].[Сопоставимый].[Все районы].[Консолидированный бюджет области],
            [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
            [ТипДокумента].[СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов]    
        )'    
    member  [Районы].[Сопоставимый].[Местные бюджеты ]    
    as '    
        (
            [Районы].[Сопоставимый].[Все районы],
            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
            [ТипДокумента].[СКИФ].[Все].[Собственная отчетность муниципальных образований]    
        )'    
    member  [КД].[Сопоставимый].[Расходы бюджета - ИТОГО ]    
    as 'IIF    
        (
            [Районы].[Сопоставимый].CurrentMember is  [Районы].[Сопоставимый].[Все районы].[Консолидированный бюджет области],
            LookUpCube    
            (
                "[ФО_МесОтч_Расходы]",
                "    
                (
                    [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета Итого],
                    "+MemberToStr ( Measures.CurrentMember ) +" ,
                    "+MemberToStr    
                    (
                        [Период].[Период].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [ТипДокумента].[СКИФ].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [Районы].[Сопоставимый].CurrentMember    
                    ) +"    
                )"    
            ),
            LookUpCube    
            (
                "[ФО_МесОтч_Расходы]",
                "sum    
                (
                    {
                        [ТипДокумента].[СКИФ].[Все].[Собственная отчетность муниципальных образований]
                    },
                    (
                        [ТипДокумента].[СКИФ].CurrentMember,
                        [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета Итого],
                        "+MemberToStr ( Measures.CurrentMember ) +" ,
                        "+MemberToStr    
                        (
                            [Период].[Период].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Уровни бюджета].[СКИФ].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Районы].[Сопоставимый].CurrentMember    
                        ) +"    
                    )    
                )"    
            )    
        )'    
    member  [КД].[Сопоставимый].[Результат исполнения бюджета]    
    as 'IIF    
        (
            [Районы].[Сопоставимый].CurrentMember is  [Районы].[Сопоставимый].[Все районы].[Консолидированный бюджет области],
            LookUpCube    
            (
                "[ФО_МесОтч_Дефицит Профицит]",
                "    
                (
                    "+MemberToStr ( Measures.CurrentMember ) +" ,
                    "+MemberToStr    
                    (
                        [Период].[Период].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [Уровни бюджета].[СКИФ].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [ТипДокумента].[СКИФ].CurrentMember    
                    ) +" ,
                    "+MemberToStr    
                    (
                        [Районы].[Сопоставимый].CurrentMember    
                    ) +"    
                )"    
            ),
            LookUpCube    
            (
                "[ФО_МесОтч_Дефицит Профицит]",
                "sum    
                (
                    {
                        [ТипДокумента].[СКИФ].[Все].[Собственная отчетность муниципальных образований]
                    },
                    (
                        [ТипДокумента].[СКИФ].CurrentMember,
                        "+MemberToStr ( Measures.CurrentMember ) +" ,
                        "+MemberToStr    
                        (
                            [Период].[Период].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Уровни бюджета].[СКИФ].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Районы].[Сопоставимый].CurrentMember    
                        ) +"    
                    )    
                )"    
            )    
        )'    
    member  [КД].[Сопоставимый].[Долг ]    
    as 'IIF    
        (
            [Районы].[Сопоставимый].CurrentMember is  [Районы].[Сопоставимый].[Все районы].[Консолидированный бюджет области],
            LookUpCube    
            (
                "[ФО_МесОтч_СпрВнутрДолг]",
                " sum    
                (
                    {
                        [Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего],
                        [Показатели].[СопМесОСпВнтД].[Все показатели].[МУНИЦИПАЛЬНЫЙ ДОЛГ, всего]    
                    },
                    (
                        [Показатели].[СопМесОСпВнтД].CurrentMember,
                        "+MemberToStr ( Measures.CurrentMember ) +" ,
                        "+MemberToStr    
                        (
                            [Период].[Период].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Уровни бюджета].[СКИФ].CurrentMember    
                        ) +" ,
                        "+MemberToStr    
                        (
                            [Районы].[Сопоставимый].CurrentMember    
                        ) +",
                        "+MemberToStr    
                        (
                            [ТипДокумента].[СКИФ].CurrentMember    
                        ) +"    
                    )    
                )"    
            ),
            LookUpCube    
            (
                "[ФО_МесОтч_СпрВнутрДолг]",
                " sum    
                (
                    {
                        [Показатели].[СопМесОСпВнтД].[Все показатели].[ГОСУДАРСТВЕННЫЙ ВНУТРЕННИЙ ДОЛГ СУБЪЕКТА РОССИЙСКОЙ ФЕДЕРАЦИИ, всего],
                        [Показатели].[СопМесОСпВнтД].[Все показатели].[МУНИЦИПАЛЬНЫЙ ДОЛГ, всего]
                    },
                    sum    
                    (
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственная отчетность муниципальных образований] 
                        },
                        (
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Показатели].[СопМесОСпВнтД].CurrentMember,
                            "+MemberToStr ( Measures.CurrentMember ) +" ,
                            "+MemberToStr    
                            (
                                [Период].[Период].CurrentMember    
                            ) +" ,
                            "+MemberToStr    
                            (
                                [Уровни бюджета].[СКИФ].CurrentMember    
                            ) +" ,
                            "+MemberToStr    
                            (
                                [Районы].[Сопоставимый].CurrentMember    
                            ) +"    
                        )    
                    )    
                )"    
            )    
        )'    
 
    member [Measures].[Глаз]
    as '"Глаз"'
select
    {
        {
            {
                [Районы].[Сопоставимый].[Консолидированный бюджет субъекта ],
                [Районы].[Сопоставимый].[Собственный бюджет субъекта ],
                [Районы].[Сопоставимый].[Местные бюджеты ]    
            } + [Районы]    
        }     
    } on rows,
    {
        {
            {
                [КД].[Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего]
            } 
            * { [Measures].[Глаз]} +  
            {
                [КД].[Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего],
                [КД].[Сопоставимый].[Расходы бюджета - ИТОГО ],
                [КД].[Сопоставимый].[Результат исполнения бюджета] ,
                [КД].[Сопоставимый].[Долг ]  
            }    
            *   { Measures.[Факт ] } +   
            {
                [КД].[Сопоставимый].[Все коды доходов].[Доходы бюджета - Всего],
                [КД].[Сопоставимый].[Расходы бюджета - ИТОГО ] 
            }  
            *  
            {
                [Measures].[% выполнения годовых назначений ]  
            }  
        }    
    } on columns 
From [ФО_МесОтч_Доходы]  
Where  
    (
         <%selected_period%>  ,
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
        [ТипДокумента].[СКИФ].[Все].[Собственная отчетность муниципальных образований]
    )  
  ]]>
</query>

</root>