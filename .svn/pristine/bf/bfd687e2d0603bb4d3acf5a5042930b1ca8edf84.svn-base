<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0018_chart_incomes">
    <![CDATA[
    --FO_0035_0018_chart_incomes
with            
    member [Measures].[Месяц]            
    as '[Период__Период].[Период__Период].CurrentMember.Parent.Name'            
    member [Measures].[Год]           
    as '[Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Parent.Name'           
    member [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Произведено расходов из бюджета ]           
    as 'sum           
        (
            {
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров на финансирование, подготовленных казначейским управлением МФиНП НСО и направленных в УФК по НСО для исполнения],
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Произведено расходов по данным реестров о доведении объемов финансирования ГРБС, лицевые счета которых открыты в органах ФК],
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Восстановление кассовых расходов],
                [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Все].[Платежи из бюджета, отклоненные банком]           
            }           
        )'           
    member [Measures].[Всего ]            
    as '[Measures].[Всего] / 1000'            
    member [Measures].[Произведено расходов за счет доходов бюджета ]            
    as '[Measures].[Доходы бюджета] / 1000'       
    member [Measures].[Произведено расходов за счет целевых поступлений из ФБ ]      
    as '[Measures].[Целевые поступления из ФБ] / 1000'      
    member [Measures].[Произведено расходов за счет доходов бюджета за аналогичный период прошлого года]           
    as 'IIF           
        (
            [Период__Период].[Период__Период].CurrentMember is Tail    
            (
                filter        
                (
                    [Период__Период].[Период__Период].CurrentMember.Parent.Children,
                    not isEmpty ([Measures].[Доходы бюджета]) 
                )        
            ).item(0) ,
            (
                [Measures].[Доходы бюджета],
                Tail   
                (
                    filter   
                    (
                        ParallelPeriod   
                        (
                            [Период__Период].[Период__Период].[Год],
                            1   
                        ).Parent.Children,
                        not isEmpty ([Measures].[Доходы бюджета]) 
                    )   
                ).item(0)   
            ) / 1000,
            null      
        )'           
    member [Measures].[Произведено расходов за счет целевых поступлений из ФБ за аналогичный период прошлого года]      
    as 'IIF  
        (
            [Период__Период].[Период__Период].CurrentMember is Tail  
            (
                filter  
                (
                    [Период__Период].[Период__Период].CurrentMember.Parent.Children,
                    not isEmpty 
                    (
                        [Measures].[Целевые поступления из ФБ]
                    ) 
                )  
            ).item(0) ,
            (
                [Measures].[Целевые поступления из ФБ],
                Tail  
                (
                    filter  
                    (
                        ParallelPeriod  
                        (
                            [Период__Период].[Период__Период].[Год],
                            1  
                        ).Parent.Children,
                        not isEmpty 
                        (
                            [Measures].[Целевые поступления из ФБ]
                        ) 
                    )  
                ).item(0)  
            ) / 1000,
            null  
        )'  
select
    {
        [Measures].[Месяц],        
        [Measures].[Произведено расходов за счет доходов бюджета ],
        [Measures].[Произведено расходов за счет целевых поступлений из ФБ ],
        [Measures].[Произведено расходов за счет доходов бюджета за аналогичный период прошлого года],
        [Measures].[Произведено расходов за счет целевых поступлений из ФБ за аналогичный период прошлого года],
        [Measures].[Год]      
    }on columns,
    {
        Tail            
        (
            Filter            
            (
                [Период__Период].[Период__Период].[День].Members,
                not IsEmpty([Measures].[Всего]) and [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"            
            ),
            90
        )            
    } on rows            
from [ФО_Остатки средств бюджета]            
where            
    (
        [Показатели__ФО_Остатки средств бюджета].[Показатели__ФО_Остатки средств бюджета].[Произведено расходов из бюджета ]            
    ) 
  ]]>
  </query>
</root>
