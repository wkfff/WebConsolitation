<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0001_0016_date">
    <![CDATA[
-- FO_0001_0016_detail_date
-- <#[ФО_МесОтч_Доходы]#>
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Поступило за период]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Доходы бюджета]
  ]]>
  </query>
  <query id="FO_0001_0016_month">
    <![CDATA[
-- FO_0001_0016_detail_month
with
    member [Measures].[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                [Период].[Период].[Данные всех периодов].[2010].[Полугодие 1].[Квартал 1].[Январь]:[Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>],
                not IsEmpty([Measures].[Годовые назначения]) 
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_МесОтч_Доходы]
  ]]>
  </query>
  <query id="FO_0001_0016_grid">
    <![CDATA[
-- FO_0001_0016_detail_grid  
with 
    member Measures.[Уровень] 
    as '[КД].[Сопоставимый].CurrentMember.Level.Name' 
    member Measures.[Код] 
    as '[КД].[Сопоставимый].CurrentMember.Properties("Код")' -- Уровни бюджета 
    member [Уровни бюджета].[СКИФ].[Консолидированный бюджет субъекта] 
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет субъекта]' 
    member [Уровни бюджета].[СКИФ].[Собственный бюджет субъекта] 
    as '[Уровни бюджета].[СКИФ].[Бюджет субъекта]' 
    member [Уровни бюджета].[СКИФ].[Местные бюджеты] 
    as '[Уровни бюджета].[СКИФ].[Конс.бюджет МО]' 
    member [Период].[Период].[период_назначено]
    as 'Aggregate({Tail
        (
            Filter
            (
                [Период].[Период].Members,
                not IsEmpty([Measures].[Годовые назначения]) and
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and
                [Период].[Период].CurrentMember.Name <> "Данные года" and
                [Период].[Период].CurrentMember.Name <> "Данные месяца"
            ),
            1
        )})'
    member Measures.[Назначено] 
    as 'IIF(
    [Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>].Name = "Декабрь",
    null,
     IIF((
            [Measures].[Годовые назначения],
            [Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>]
        )/1000 = null,
        (
            [Measures].[Годовые назначения],
            [Период].[Период].[период_назначено]
        )/1000,
        (
            [Measures].[Годовые назначения],
            [Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>]
        )/1000))'
    member Measures.[Исполнено (ежем. отч.)] 
    as 'IIF([Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>].Name = "Декабрь",null, 
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>]
        )/1000)' 
    member Measures.[Исполнено (Бюджет)] 
    as 'IIF([Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>].Name = "Декабрь",null,
    LookupCube 
        (
            "[ФО_Доходы бюджета]",
            " 
            (
                [Measures].[Поступило с начала года],
                [Период].[Период].[Данные всех периодов].[<%LastYear%>].[<%LastHalf%>].[<%LastQuart%>].[<%LastMonth%>],
                " + MemberToStr 
                (
                    [КД].[Сопоставимый].CurrentMember 
                ) + " 
            ) " 
        )/1000)' 
    member Measures.[Исполнено за месяц] 
    as 'LookupCube 
        (
            "[ФО_Доходы бюджета]",
            " 
            (
                [Measures].[Поступило с начала месяца],
                [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>].[<%day%>],
                " + MemberToStr 
                (
                    [КД].[Сопоставимый].CurrentMember 
                ) + " 
            ) " 
        )/1000' 
    member Measures.[Исполнено за год] 
    as '
     IIF((
            Measures.[Исполнено (ежем. отч.)],
            [Период].[Период].[Данные всех периодов].[<%period_year%>]
        ) = NULL, (
            Measures.[Исполнено (Бюджет)],
            [Период].[Период].[Данные всех периодов].[<%period_year%>]
        ), (
            Measures.[Исполнено (ежем. отч.)],
            [Период].[Период].[Данные всех периодов].[<%period_year%>]
        )) + 
        (
            Measures.[Исполнено за месяц],
            [Период].[Период].[Данные всех периодов].[<%period_year%>]
        )' 
    member Measures.[Исполнено %] 
    as 'IIF 
        (
            Measures.[Назначено] = 0,
            null,
            Measures.[Исполнено за год]/Measures.[Назначено]
        )' 
    member Measures.[Остаток до исполнения бюджета] 
    as 'Measures.[Назначено] - Measures.[Исполнено за год]' 
    member Measures.[Назначено прошлый год] 
    as 'IIF( (LookupCube 
        (
            "[ФО_ГодОтч_Доходы]",
            " 
            (
                [Measures].[Назначено],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                " + MemberToStr 
                (
                    [КД].[Сопоставимый].CurrentMember 
                ) + " 
            ) " 
        )/1000) = null,
        LookupCube 
        (
            "[ФО_АС Бюджет_План доходов]",
            "
            (
                [Measures].[План],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                [Роспись Кассовый план].[Все].[Кассовый план],
                " + MemberToStr 
                (
                    [КД].[Сопоставимый].CurrentMember 
                ) + " 
            )" 
        )/1000,
        LookupCube 
        (
            "[ФО_ГодОтч_Доходы]",
            " 
            (
                [Measures].[Назначено],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                " + MemberToStr 
                (
                    [КД].[Сопоставимый].CurrentMember 
                ) + " 
            ) " 
        )/1000)' 
   member Measures.[Исполнено прошлый год]
    as 'IIF(( LookupCube
        (
            "[ФО_ГодОтч_Доходы]",
            "
            (
                [Measures].[Исполнено],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                " + MemberToStr
                (
                    [КД].[Сопоставимый].CurrentMember
                ) + "
            ) "
        )/1000) = null,
        LookupCube
        (
            "[ФО_Доходы бюджета]",
            "
            (
                [Measures].[Поступило с начала года],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                " + MemberToStr
                (
                    [КД].[Сопоставимый].CurrentMember
                ) + "
            ) "
        )/1000,
        LookupCube
        (
            "[ФО_ГодОтч_Доходы]",
            "
            (
                [Measures].[Исполнено],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>],
                [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
                " + MemberToStr
                (
                    [КД].[Сопоставимый].CurrentMember
                ) + "
            ) "
        )/1000)'
    member Measures.[Исполнено за год прошлый год]
    as 'LookupCube
        (
            "[ФО_Доходы бюджета]",
            "
            (
                [Measures].[Поступило с начала года],
                [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>].[<%day%>],
                " + MemberToStr
                (
                    [КД].[Сопоставимый].CurrentMember
                ) + "
            ) "
        )/1000'
    member Measures.[Исполнено % прошлый год] 
    as 'IIF
        (
            Measures.[Назначено прошлый год] = 0,
            null,
            Measures.[Исполнено за год прошлый год]/Measures.[Исполнено прошлый год]
        )' 
    member Measures.[Темп роста плановых назначений] 
    as 'IIF
        (
            Measures.[Назначено прошлый год] = 0,
            null,
            Measures.[Назначено]/Measures.[Назначено прошлый год]
        )' 
    member Measures.[Темп роста  выполнения бюджетных назначений ] 
    as 'IIF
        (
            Measures.[Исполнено за год прошлый год] = 0,
            null,
            Measures.[Исполнено за год]/Measures.[Исполнено за год прошлый год]
        )' 
    member Measures.[Прирост / снижение доходов] 
    as 'Measures.[Исполнено за год] - Measures.[Исполнено за год прошлый год]' 
    member Measures.[kduniquename] 
    as '[КД].[Сопоставимый].CurrentMember.UniqueName' -- 
select
    {
        Measures.[Код],
        Measures.[Назначено],
        Measures.[Исполнено (ежем. отч.)],
        Measures.[Исполнено (Бюджет)],
        Measures.[Исполнено за месяц],
        Measures.[Исполнено за год],
        Measures.[Исполнено %],
        Measures.[Остаток до исполнения бюджета],
        Measures.[Назначено прошлый год],
        Measures.[Исполнено прошлый год],
        Measures.[Исполнено за год прошлый год],
        Measures.[Исполнено % прошлый год],
        Measures.[Темп роста плановых назначений],
        Measures.[Темп роста  выполнения бюджетных назначений ],
        Measures.[Прирост / снижение доходов],
        Measures.[kduniquename],
        Measures.[Уровень] 
    } on columns,
    {
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на прибыль организаций],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ПРИБЫЛЬ, ДОХОДЫ].[Налог на доходы физических лиц],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ТОВАРЫ (РАБОТЫ, УСЛУГИ), РЕАЛИЗУЕМЫЕ НА ТЕРРИТОРИИ РОССИЙСКОЙ ФЕДЕРАЦИИ].[Акцизы по подакцизным товарам (продукции), производимым на территории Российской Федерации],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА СОВОКУПНЫЙ ДОХОД],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Налог на имущество организаций],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ НА ИМУЩЕСТВО].[Транспортный налог].[Транспортный налог с организаций],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[НАЛОГИ, СБОРЫ И РЕГУЛЯРНЫЕ ПЛАТЕЖИ ЗА ПОЛЬЗОВАНИЕ ПРИРОДНЫМИ РЕСУРСАМИ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ГОСУДАРСТВЕННАЯ ПОШЛИНА],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ЗАДОЛЖЕННОСТЬ И ПЕРЕРАСЧЕТЫ ПО ОТМЕНЕННЫМ НАЛОГАМ, СБОРАМ И ИНЫМ ОБЯЗАТЕЛЬНЫМ ПЛАТЕЖАМ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ДОХОДЫ ОТ ИСПОЛЬЗОВАНИЯ ИМУЩЕСТВА, НАХОДЯЩЕГОСЯ В ГОСУДАРСТВЕННОЙ И МУНИЦИПАЛЬНОЙ СОБСТВЕННОСТИ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ПЛАТЕЖИ ПРИ ПОЛЬЗОВАНИИ ПРИРОДНЫМИ РЕСУРСАМИ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ДОХОДЫ ОТ ОКАЗАНИЯ ПЛАТНЫХ УСЛУГ И КОМПЕНСАЦИИ ЗАТРАТ ГОСУДАРСТВА],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ДОХОДЫ ОТ ПРОДАЖИ МАТЕРИАЛЬНЫХ И НЕМАТЕРИАЛЬНЫХ АКТИВОВ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ШТРАФЫ, САНКЦИИ, ВОЗМЕЩЕНИЕ УЩЕРБА],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ПРОЧИЕ НЕНАЛОГОВЫЕ ДОХОДЫ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ДОХОДЫ БЮДЖЕТОВ БЮДЖЕТНОЙ СИСТЕМЫ РОССИЙСКОЙ ФЕДЕРАЦИИ ОТ ВОЗВРАТА ОСТАТКОВ СУБСИДИЙ, СУБВЕНЦИЙ И ИНЫХ МЕЖБЮДЖЕТНЫХ ТРАНСФЕРТОВ, ИМЕЮЩИХ ЦЕЛЕВОЕ НАЗНАЧЕНИЕ, ПРОШЛЫХ ЛЕТ],
        [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ].[ВОЗВРАТ ОСТАТКОВ СУБСИДИЙ, СУБВЕНЦИЙ И ИНЫХ МЕЖБЮДЖЕТНЫХ ТРАНСФЕРТОВ, ИМЕЮЩИХ ЦЕЛЕВОЕ НАЗНАЧЕНИЕ, ПРОШЛЫХ ЛЕТ] 
    } on rows 
from [ФО_МесОтч_Доходы] 
where 
    (
    [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>],
        [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
        [ТипДокумента].[СКИФ].[Все].[Собственный отчет по бюджету субъекта] 
    ) 
  ]]>
  </query>

  <query id="FO_0001_0016_chart">
    <![CDATA[
    -- FO_0001_0016_detail_chart
with
member [Measures].[Поступило за период ]
as '[Measures].[Поступило за период]/1000'
select
    {
        [Measures].[Поступило за период ]         
    } on columns,
    {
        Filter     
        (
             [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>].[<%period_month%>].children,
            not  
            (
                [Период].[Период].CurrentMember.Name =  "Данные месяца"
            ) and not 
            (
                [Период].[Период].CurrentMember.Name = "Заключительные обороты"
            ) 
        ) 
    }on rows 
from  [ФО_Доходы бюджета]         
where         
    (
        <%kdincomes%>
    )
  ]]>
  </query>
  
</root>