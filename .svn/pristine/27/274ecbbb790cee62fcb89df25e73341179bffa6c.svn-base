<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FST_0001_0001_Inflation">
    <![CDATA[
-- FST_0001_0022_Horizontal_Inflation
WITH 
    SET [NonFilterColumnSet] 
    AS ' {[Measures].[За период]}' 
SELECT
    [NonFilterColumnSet] ON COLUMNS,
    {[Источники данных].[Все источники данных].[СТАТ Отчетность - Без варианта]} on rows
FROM [СТАТ_СЭП_Годовой сборник] 
WHERE 
    (
          [СЭП].[Годовой сборник].[Данные всех источников].[СТАТ\0001 Отчетность - вариант: Без варианта].[Цены и тарифы].[Прогноз инфляции] ,
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].DataMember ,
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011].DataMember 
    )  
]]>
  </query>

    <query id="FST_0001_0021_Grid">
        <![CDATA[
-- FST_0001_0021_Grid
with              
    member [ФСТ].[Показатели].[Уровень]              
    as '[Территории].[Сопоставимый].CurrentMember.Level.Name'              
    set [Все регионы]              
    as 'filter              
        (
            Descendants              
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[РФ],
                SELF_AND_AFTER              
            ) ,
            not              
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember              
            ) and not [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[Все территории].[Несопоставленные данные]    and not              
            (
                [Территории].[Сопоставимый].CurrentMember.Level.Name = "МР ГО"              
            )              
        )'              
    member [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО]              
    as 'IIF              
        (
            IsEmpty              
            (
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
            ) or  [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0,
            null,
            Rank              
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order              
                (
                    Filter              
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty              
                        (
                            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
                    BDESC              
                ),
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
            )              
        )'         
    member [ФСТ].[Показатели].[Ранг Рост тарифа]         
    as 'IIF         
        (
            IsEmpty         
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] = 0,
            null,
            Rank         
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order         
                (
                    Filter         
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty         
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию],
                    BDESC         
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
            )         
        )'         
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения]         
    as 'IIF         
        (
            IsEmpty         
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0,
            null,
            Rank         
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order         
                (
                    Filter         
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty         
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
                    BDESC         
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
            )         
        )'          
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения]       
    as 'IIF       
        (
            IsEmpty       
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] = 0,
            null,
            Rank       
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order       
                (
                    Filter       
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty       
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] = 0       
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения],
                    BDESC       
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
            )       
        )'           
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей]    
    as 'IIF    
        (
            IsEmpty    
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank    
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order    
                (
                    Filter    
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty    
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0    
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
                    BDESC    
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
            )    
        )'    
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей]    
    as 'IIF    
        (
            IsEmpty    
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank    
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order    
                (
                    Filter    
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty    
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] = 0    
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей],
                    BDESC    
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
            )    
        )'    
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей]   
    as 'IIF   
        (
            IsEmpty   
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank   
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order   
                (
                    Filter   
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty   
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0   
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
                    BDESC   
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
            )   
        )'   
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей]  
    as 'IIF  
        (
            IsEmpty  
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank  
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order  
                (
                    Filter  
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty  
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] = 0  
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей],
                    BDESC  
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
            )  
        )'  
    member [ФСТ].[Показатели].[Единицы измерения ]              
    as '"руб./кВт.ч."'              
   member [ФСТ].[Показатели].[Худший среднеотпускной тариф ФО]              
    as 'max              
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО]              
        )'         
    member [ФСТ].[Показатели].[Худший Рост тарифа]         
    as 'max         
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа]         
        )'         
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для населения]         
    as 'max         
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения]         
        )'       
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для населения]       
    as 'max       
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения]
        )'       
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для бюджетных потребителей]      
    as 'max      
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей]
        )'    
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для бюджетных потребителей]    
    as 'max    
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей]
        )'    
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для прочих потребителей]   
    as 'max   
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей]
        )'   
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для прочих потребителей]  
    as 'max  
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей]
        )'   
select
    {
        [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО],
        [ФСТ].[Показатели].[Худший среднеотпускной тариф ФО],
        [ФСТ].[Показатели].[Ранг Рост тарифа],
        [ФСТ].[Показатели].[Худший Рост тарифа],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Уровень]
    }on columns,
    { filter 
        (
            [Все регионы],
            not isEmpty 
            (
                [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО] 
            ) 
        )  } on rows              
from  [ФСТ_ЖКХ_Тарифы]              
WHERE              
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011]             
    )              
]]>
    </query>
    
  <query id="FST_0001_0022_Horizontal_Grid">
    <![CDATA[
-- FST_0001_0022_Horizontal_Grid
with              
    member [ФСТ].[Показатели].[Уровень]              
    as '[Территории].[Сопоставимый].CurrentMember.Level.Name'              
     set [Все регионы]
    as 'filter
        (
            Descendants
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[РФ],
                SELF_AND_AFTER
            ) ,
            not
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember
            ) and not [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].[Все территории].[Несопоставленные данные]    and not
            (
                [Территории].[Сопоставимый].CurrentMember.Level.Name = "МР ГО"
            ) and [Территории].[Сопоставимый].CurrentMember.Parent is [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>] 
        )'        
    member [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО]              
    as 'IIF              
        (
            IsEmpty              
            (
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
            ) or  [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0,
            null,
            Rank              
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order              
                (
                    Filter              
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty              
                        (
                            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
                    BDESC              
                ),
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию]         
            )              
        )'         
    member [ФСТ].[Показатели].[Ранг Рост тарифа]         
    as 'IIF         
        (
            IsEmpty         
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] = 0,
            null,
            Rank         
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order         
                (
                    Filter         
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty         
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию],
                    BDESC         
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию]         
            )         
        )'         
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения]         
    as 'IIF         
        (
            IsEmpty         
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0,
            null,
            Rank         
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order         
                (
                    Filter         
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty         
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0         
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
                    BDESC         
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения]         
            )         
        )'          
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения]       
    as 'IIF       
        (
            IsEmpty       
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] = 0,
            null,
            Rank       
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order       
                (
                    Filter       
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty       
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] = 0       
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения],
                    BDESC       
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения]       
            )       
        )'           
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей]    
    as 'IIF    
        (
            IsEmpty    
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank    
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order    
                (
                    Filter    
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty    
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0    
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
                    BDESC    
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей]    
            )    
        )'    
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей]    
    as 'IIF    
        (
            IsEmpty    
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank    
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order    
                (
                    Filter    
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty    
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] = 0    
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей],
                    BDESC    
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей]    
            )    
        )'    
    member [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей]   
    as 'IIF   
        (
            IsEmpty   
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
            ) or [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank   
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order   
                (
                    Filter   
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty   
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0   
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
                    BDESC   
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей]   
            )   
        )'   
    member [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей]  
    as 'IIF  
        (
            IsEmpty  
            (
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
            ) or [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank  
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order  
                (
                    Filter  
                    (
                        [Территории].[Сопоставимый].CurrentMember.Siblings ,
                        not IsEmpty  
                        (
                            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
                        ) and not [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] = 0  
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей],
                    BDESC  
                ),
                [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей]  
            )  
        )'  
    member [ФСТ].[Показатели].[Единицы измерения ]              
    as '"руб./кВт.ч."'              
   member [ФСТ].[Показатели].[Худший среднеотпускной тариф ФО]              
    as 'max              
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО]              
        )'         
    member [ФСТ].[Показатели].[Худший Рост тарифа]         
    as 'max         
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа]         
        )'         
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для населения]         
    as 'max         
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения]         
        )'       
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для населения]       
    as 'max       
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения]
        )'       
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для бюджетных потребителей]      
    as 'max      
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей]
        )'    
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для бюджетных потребителей]    
    as 'max    
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей]
        )'    
    member [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для прочих потребителей]   
    as 'max   
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей]
        )'   
    member [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для прочих потребителей]  
    as 'max  
        (
            [Территории].[Сопоставимый].CurrentMember.Siblings,
            [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей]
        )'   
select
    {
        [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО],
        [ФСТ].[Показатели].[Худший среднеотпускной тариф ФО],
        [ФСТ].[Показатели].[Ранг Рост тарифа],
        [ФСТ].[Показатели].[Худший Рост тарифа],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для населения],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Ранг Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Худший Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Ранг Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Худший Рост тарифа на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Уровень]
    }on columns,
    { 
    [Территории].[Сопоставимый].[Все территории].[Российская  Федерация],
        [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>],
    filter 
        (
        
            [Все регионы],
            not isEmpty 
            (
                [ФСТ].[Показатели].[Ранг среднеотпускной тариф ФО] 
            ) 
        )  } on rows              
from  [ФСТ_ЖКХ_Тарифы]              
WHERE              
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011]             
    )              
]]>
</query>

    <query id="FST_0001_0001_ChartHeat">
        <![CDATA[
-- FST_0001_0001_Chartheat
with 
    set [Регионы] 
    as 'filter 
        (
            {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].Children 
            },
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    set [Все регионы] 
    as 'filter 
        (
            Descendants 
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[Субъект РФ],
                SELF 
            ) ,
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    member [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию прошлый год] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] = 0 ,
            0,
            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] / [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] 
        )' 
    member [ФСТ].[Показатели].[Синий] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию прошлый год],
            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
        )' 
    member [ФСТ].[Показатели].[Красный] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Прирост тарифа],
            0 
        )' 
    member [ФСТ].[Показатели].[Прирост тарифа] 
    as ' [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] - [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию прошлый год]' 
    member [ФСТ].[Показатели].[Ранг тариф ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы] ,
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
                        )and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] = -1 
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг тариф РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
                        )  and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] = -1
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ] 
    as ' [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию] - 1' 
    member [ФСТ].[Показатели].[Единицы измерения ] 
    as '"руб./Гкал"' 
    member [ФСТ].[Показатели].[Худший тариф ФО] 
    as 'max 
        (
            [Регионы],
             [ФСТ].[Показатели].[Ранг тариф ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший тариф РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг тариф РФ] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа ФО] 
    as 'max 
        (
            [Регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
        )' 
select
    {
        [ФСТ].[Показатели].[Синий],
        [ФСТ].[Показатели].[Красный],
        [ФСТ].[Показатели].[Прирост тарифа],
        [ФСТ].[Показатели].[Рост тарифа на тепловую энергию ],
        [ФСТ].[Показатели].[Ранг тариф ФО],
        [ФСТ].[Показатели].[Ранг прирост тарифа ФО],
        [ФСТ].[Показатели].[Ранг тариф РФ],
        [ФСТ].[Показатели].[Ранг прирост тарифа РФ],
        [ФСТ].[Показатели].[Единицы измерения ],
        [ФСТ].[Показатели].[Все показатели].[Среднеотпускной тариф на тепловую энергию],
        [ФСТ].[Показатели].[Худший тариф ФО],
        [ФСТ].[Показатели].[Худший тариф РФ],
        [ФСТ].[Показатели].[Худший прирост тарифа ФО],
        [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    }on columns,
    { [Регионы] } on rows 
from  [ФСТ_ЖКХ_Тарифы] 
WHERE 
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011] 
    ) 
]]>
    </query>

    <query id="FST_0001_0002_ChartHeat">
        <![CDATA[
-- FST_0001_0002_Chartheat
with 
    set [Регионы] 
    as 'filter 
        (
            {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].Children 
            },
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    set [Все регионы] 
    as 'filter 
        (
            Descendants 
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[Субъект РФ],
                SELF 
            ) ,
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    member [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения прошлый год] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] = 0 ,
            0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] / [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] 
        )' 
    member [ФСТ].[Показатели].[Синий] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения прошлый год],
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
        )' 
    member [ФСТ].[Показатели].[Красный] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Прирост тарифа],
            0 
        )' 
    member [ФСТ].[Показатели].[Прирост тарифа] 
    as ' [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] - [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения прошлый год]' 
    member [ФСТ].[Показатели].[Ранг тариф ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы] ,
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
                        )and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] = -1 
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг тариф РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
                        )  and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] = -1
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ] 
    as ' [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для населения] - 1' 
    member [ФСТ].[Показатели].[Единицы измерения ] 
    as '"руб./Гкал"' 
    member [ФСТ].[Показатели].[Худший тариф ФО] 
    as 'max 
        (
            [Регионы],
             [ФСТ].[Показатели].[Ранг тариф ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший тариф РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг тариф РФ] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа ФО] 
    as 'max 
        (
            [Регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
        )' 
select
    {
        [ФСТ].[Показатели].[Синий],
        [ФСТ].[Показатели].[Красный],
        [ФСТ].[Показатели].[Прирост тарифа],
        [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для населения ],
        [ФСТ].[Показатели].[Ранг тариф ФО],
        [ФСТ].[Показатели].[Ранг прирост тарифа ФО],
        [ФСТ].[Показатели].[Ранг тариф РФ],
        [ФСТ].[Показатели].[Ранг прирост тарифа РФ],
        [ФСТ].[Показатели].[Единицы измерения ],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для населения],
        [ФСТ].[Показатели].[Худший тариф ФО],
        [ФСТ].[Показатели].[Худший тариф РФ],
        [ФСТ].[Показатели].[Худший прирост тарифа ФО],
        [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    }on columns,
    { [Регионы] } on rows 
from  [ФСТ_ЖКХ_Тарифы] 
WHERE 
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011] 
    ) 
]]>
    </query>


    <query id="FST_0001_0003_ChartHeat">
        <![CDATA[
-- FST_0001_0003_Chartheat
with 
    set [Регионы] 
    as 'filter 
        (
            {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].Children 
            },
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    set [Все регионы] 
    as 'filter 
        (
            Descendants 
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[Субъект РФ],
                SELF 
            ) ,
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    member [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей прошлый год] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] = 0 ,
            0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] / [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] 
        )' 
    member [ФСТ].[Показатели].[Синий] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей прошлый год],
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
        )' 
    member [ФСТ].[Показатели].[Красный] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Прирост тарифа],
            0 
        )' 
    member [ФСТ].[Показатели].[Прирост тарифа] 
    as ' [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] - [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей прошлый год]' 
    member [ФСТ].[Показатели].[Ранг тариф ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы] ,
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
                        )and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] = -1 
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг тариф РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
                        )  and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] = -1
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ] 
    as ' [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей] - 1' 
    member [ФСТ].[Показатели].[Единицы измерения ] 
    as '"руб./Гкал"' 
    member [ФСТ].[Показатели].[Худший тариф ФО] 
    as 'max 
        (
            [Регионы],
             [ФСТ].[Показатели].[Ранг тариф ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший тариф РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг тариф РФ] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа ФО] 
    as 'max 
        (
            [Регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
        )' 
select
    {
        [ФСТ].[Показатели].[Синий],
        [ФСТ].[Показатели].[Красный],
        [ФСТ].[Показатели].[Прирост тарифа],
        [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для бюджетных потребителей ],
        [ФСТ].[Показатели].[Ранг тариф ФО],
        [ФСТ].[Показатели].[Ранг прирост тарифа ФО],
        [ФСТ].[Показатели].[Ранг тариф РФ],
        [ФСТ].[Показатели].[Ранг прирост тарифа РФ],
        [ФСТ].[Показатели].[Единицы измерения ],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для бюджетных потребителей],
        [ФСТ].[Показатели].[Худший тариф ФО],
        [ФСТ].[Показатели].[Худший тариф РФ],
        [ФСТ].[Показатели].[Худший прирост тарифа ФО],
        [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    }on columns,
    { [Регионы] } on rows 
from  [ФСТ_ЖКХ_Тарифы] 
WHERE 
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011] 
    ) 
]]>
    </query>

    <query id="FST_0001_0004_ChartHeat">
        <![CDATA[
-- FST_0001_0003_Chartheat
with 
    set [Регионы] 
    as 'filter 
        (
            {
                [Территории].[Сопоставимый].[Все территории].[Российская  Федерация].[<%region%>].Children 
            },
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    set [Все регионы] 
    as 'filter 
        (
            Descendants 
            (
                [Территории].[Сопоставимый].[Все территории],
                [Территории].[Сопоставимый].[Субъект РФ],
                SELF 
            ) ,
            not 
            (
                [Территории].[Сопоставимый].CurrentMember is [Территории].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )' 
    member [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей прошлый год] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] = 0 ,
            0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] / [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] 
        )' 
    member [ФСТ].[Показатели].[Синий] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей прошлый год],
            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
        )' 
    member [ФСТ].[Показатели].[Красный] 
    as 'IIF 
        (
            [ФСТ].[Показатели].[Прирост тарифа] > 0,
            [ФСТ].[Показатели].[Прирост тарифа],
            0 
        )' 
    member [ФСТ].[Показатели].[Прирост тарифа] 
    as ' [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] - [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей прошлый год]' 
    member [ФСТ].[Показатели].[Ранг тариф ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы] ,
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
                        )and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] = -1 
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг тариф РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
            ) or  [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
                        ) and not [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] = 0 
                    ),
                    [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
    as 'IIF 
        (
            IsEmpty 
            (
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
            ) or [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] = -1,
            null,
            Rank 
            (
                [Территории].[Сопоставимый].CurrentMember,
                Order 
                (
                    Filter 
                    (
                        [Все регионы],
                        not IsEmpty 
                        (
                            [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
                        )  and not [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] = -1
                    ),
                    [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ],
                    BDESC 
                ),
                [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
            ) 
        )' 
    member [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ] 
    as ' [ФСТ].[Показатели].[Все показатели].[Рост тарифа на тепловую энергию для прочих потребителей] - 1' 
    member [ФСТ].[Показатели].[Единицы измерения ] 
    as '"руб./Гкал"' 
    member [ФСТ].[Показатели].[Худший тариф ФО] 
    as 'max 
        (
            [Регионы],
             [ФСТ].[Показатели].[Ранг тариф ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший тариф РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг тариф РФ] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа ФО] 
    as 'max 
        (
            [Регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа ФО] 
        )' 
    member [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    as 'max 
        (
            [Все регионы],
            [ФСТ].[Показатели].[Ранг прирост тарифа РФ] 
        )' 
select
    {
        [ФСТ].[Показатели].[Синий],
        [ФСТ].[Показатели].[Красный],
        [ФСТ].[Показатели].[Прирост тарифа],
        [ФСТ].[Показатели].[Рост тарифа на тепловую энергию для прочих потребителей ],
        [ФСТ].[Показатели].[Ранг тариф ФО],
        [ФСТ].[Показатели].[Ранг прирост тарифа ФО],
        [ФСТ].[Показатели].[Ранг тариф РФ],
        [ФСТ].[Показатели].[Ранг прирост тарифа РФ],
        [ФСТ].[Показатели].[Единицы измерения ],
        [ФСТ].[Показатели].[Все показатели].[Тариф на тепловую энергию для прочих потребителей],
        [ФСТ].[Показатели].[Худший тариф ФО],
        [ФСТ].[Показатели].[Худший тариф РФ],
        [ФСТ].[Показатели].[Худший прирост тарифа ФО],
        [ФСТ].[Показатели].[Худший прирост тарифа РФ] 
    }on columns,
    { [Регионы] } on rows 
from  [ФСТ_ЖКХ_Тарифы] 
WHERE 
    (
        [Measures].[Факт],
        [Период].[Год Квартал Месяц].[Данные всех периодов].[2011] 
    ) 
]]>
    </query>
</root>