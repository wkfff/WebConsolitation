<?xml version="1.0" encoding="utf-8"?>
<root>
  <query id = "AllYear">
    <![CDATA[--Period   
with   
    member [UniqueNameYear]
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'
    member [UniqueNameProvai]
    as '[Источники данных].[Источники данных].currentmember.UniqueName'

select
    non empty    
    {
    Filter(
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год].members 
        , [Measures].[Значение отчётного года] > 0)
    }on rows ,
    non empty    
    {
    [UniqueNameProvai],
        [UniqueNameYear]--,        [Источники данных].[Источники данных].[Все источники данных].children
    }   on columns
FROM [РЕГИОН_Оценка ОМСУ] ]]>
  </query>
  <query id = "GALL">
    <![CDATA[--Period    
with 
    member [UniqueNameYear]
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'
    member [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Тип территорий]
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'
    member [Тип территорий]
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'
select
    non empty 
    {
        Order
        (
            {
                TopCount 
                (
                    Order 
                    (
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
                        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ],
                        Desc 
                    ),
                    3 
                ),
                TopCount 
                (
                    Order 
                    (
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
                        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ],
                        Desc
                    ),
                    2
                )
            },
            [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ],
            Desc)
            }on rows,
    non empty
    {
        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Тип территорий],
        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ] 
    }   on columns 
FROM  [РЕГИОН_Результаты оценки ОМСУ] 
where
(
[ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден],
[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[2010]
,
[Measures].[Значение]
)    ]]>
  </query>

  <query id = "GMR">
    <![CDATA[--GMR
--Period  
with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Тип территорий] 
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")' 
    member [Тип территорий] 
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")' 
select
    non empty 
    {
Order(
        filter
        (
                    [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
            [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Тип территорий] = "МР"
        ) ,
        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ], Desc)
    }on rows,
    non empty  
    {    
        [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ]  
    }on columns
FROM  [РЕГИОН_Результаты оценки ОМСУ]]]>
  </query>

  <query id = "RootGrid">
    <![CDATA[with   
    member [Районы__Анализ].[Районы__Анализ].[Code]   
    as '[ОМСУ__Структура оценки].[ОМСУ__Структура оценки].currentmember.Properties("Код")'   
    member [Районы__Анализ].[Районы__Анализ].[ZeroCount]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    
    member [Районы__Анализ].[Районы__Анализ].[revece]
    as '0'
    
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Структура оценки].[ОМСУ__Структура оценки].currentmember.is_DataMember'    
select
    {
        Filter  
        (
             [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].members,
           not
(            (
                [Районы__Анализ].[Районы__Анализ].[Code] = "100" and not [Районы__Анализ].[Районы__Анализ].[dm]
            ) or 
            (
                [Районы__Анализ].[Районы__Анализ].[Code] = "200" and not [Районы__Анализ].[Районы__Анализ].[dm]
            ) or 
            (
                [Районы__Анализ].[Районы__Анализ].[Code] = "300" and not [Районы__Анализ].[Районы__Анализ].[dm]
            ) or 
            (
                [Районы__Анализ].[Районы__Анализ].[Code] = "400" and not [Районы__Анализ].[Районы__Анализ].[dm]
            ) )
        ) 
    }on rows ,
    non empty   
    {
        [Районы__Анализ].[Районы__Анализ].[Code],
        [Районы__Анализ].[Районы__Анализ].[Unit],
        [Районы__Анализ].[Районы__Анализ].[revece],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children  
    }  on columns   
FROM  [РЕГИОН_Результаты оценки ОМСУ]   
where   
    (
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Состояние].[Утвержден],
        [Measures].[Значение]    
    )    ]]>
  </query>


  <query id = "G">
    <![CDATA[with
    member [Районы__Анализ].[Районы__Анализ].[Code]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в оценке")'
    member [Районы__Анализ].[Районы__Анализ].[ZeroCount]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'
    member [Районы__Анализ].[Районы__Анализ].[Unit]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'
    
    member [Районы__Анализ].[Районы__Анализ].[Unit]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'
    
    member [Районы__Анализ].[Районы__Анализ].[revece]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].CurrentMember.Properties("Обратный показатель")'
        
    member [Районы__Анализ].[Районы__Анализ].[dm]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Оценка эффективности деятельности ОМСУ]
    as 'LookupCube
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            "
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ].datamember,
                " + MemberToStr
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2010]
            )"
        )'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности в сфере «Организация муниципального управления и повышение инвестиционной привлекательности»]
    as 'LookupCube
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            "
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Организация муниципального управления и повышение инвестиционной привлекательности].datamember,
                " + MemberToStr
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2010]
            )"
        )'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Обеспечение здоровья»]
    as 'LookupCube
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            "
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Обеспечение здоровья].datamember,
                " + MemberToStr
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2010]
            )"
        )'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Образование»]
    as 'LookupCube
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            "
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Образование].datamember,
                " + MemberToStr
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2010]
            )"
        )'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Жилищно-коммунальный комплекс»]
    as 'LookupCube
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            "
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Жилищно-коммунальный комплекс].datamember,
                " + MemberToStr
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[2010]
            )"
        )'
select
    {
        --[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Оценка эффективности деятельности ОМСУ],
        --[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности в сфере «Организация муниципального управления и повышение инвестиционной привлекательности»],
        --[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Обеспечение здоровья»],
        --[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Образование»],
        --[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Жилищно-коммунальный комплекс»],
        Filter
        (
            {
                [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members
            },
            (
                [Районы__Анализ].[Районы__Анализ].[Code] > "0" and [Районы__Анализ].[Районы__Анализ].[Code] < "9"
            ) and not Isempty
            (
                [Районы__Анализ].[Районы__Анализ].[Code]
            )and not
            (
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "1.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "1.3.01" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.01" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.02" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.03" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.04" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.05" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or
                (
                    [Районы__Анализ].[Районы__Анализ].[Code] = "4.1.14" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
            )
        )
    }on rows ,
    non empty
    {
        [Районы__Анализ].[Районы__Анализ].[Code],
        [Районы__Анализ].[Районы__Анализ].[Unit],
        [Районы__Анализ].[Районы__Анализ].[revece],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children
    }  on columns
FROM [РЕГИОН_Оценка ОМСУ]
where
    (
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]
    )  ]]>
  </query>

  <query id = "C">
    <![CDATA[with 
    member [Районы__Анализ].[Районы__Анализ].[Code] 
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в оценке")' 
    member [Районы__Анализ].[Районы__Анализ].[ZeroCount] 
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")' 
    member [Районы__Анализ].[Районы__Анализ].[Unit] 
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[dm] 
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Оценка эффективности деятельности ОМСУ] 
    as 'LookupCube 
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            " 
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Оценка эффективности деятельности ОМСУ].datamember,
                " + MemberToStr 
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember 
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%SelectYearCaption%>] 
            )" 
        )' 
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности в сфере «Организация муниципального управления и повышение инвестиционной привлекательности»] 
    as 'LookupCube 
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            " 
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Организация муниципального управления и повышение инвестиционной привлекательности].datamember,
                " + MemberToStr 
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember 
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%SelectYearCaption%>] 
            )" 
        )' 
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Обеспечение здоровья»] 
    as 'LookupCube 
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            " 
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Обеспечение здоровья].datamember,
                " + MemberToStr 
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember 
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%SelectYearCaption%>] 
            )" 
        )' 
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Образование»] 
    as 'LookupCube 
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            " 
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Образование].datamember,
                " + MemberToStr 
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember 
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%SelectYearCaption%>] 
            )" 
        )' 
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Жилищно-коммунальный комплекс»] 
    as 'LookupCube 
        (
            "[РЕГИОН_Результаты оценки ОМСУ]",
            " 
            (
                [ОМСУ__Структура оценки].[ОМСУ__Структура оценки].[Все уровни].[Жилищно-коммунальный комплекс].datamember,
                " + MemberToStr 
                (
                    [Районы__Анализ].[Районы__Анализ].CurrentMember 
                ) + ",
                [Measures].[Значение] ,
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[<%SelectYearCaption%>] 
            )" 
        )'  
select
    {
        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Оценка эффективности деятельности ОМСУ],
        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности в сфере «Организация муниципального управления и повышение инвестиционной привлекательности»],
        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Обеспечение здоровья»],
        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Образование»],
        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[Уровень эффективности деятельности ОМСУ в сфере «Жилищно-коммунальный комплекс»]
          
    }on rows ,
    non empty 
    {
        [Районы__Анализ].[Районы__Анализ].[Code],
        [Районы__Анализ].[Районы__Анализ].[Unit],
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children
    }  on columns 
FROM [РЕГИОН_Оценка ОМСУ] 
where 
    (
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден] 
    )   ]]>
  </query>

  <query id = "Общее образование;3.1">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]' 
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.1" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.2"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
                    )  
                ) and not   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                )   
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Общее образование] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )   
]]>
  </query>
  <query id = "Общее образование;3.2">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]' 
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.2" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.3"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
                        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
                    )  
                ) and not   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]   
                )   
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Общее образование] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )   
]]>
  </query>

  <query id = "Здравоохранение;3.1">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'   
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.1" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.2"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
                    )  
                ) and not   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )   
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]  
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Здравоохранение;3.2">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'   
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.2" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.3"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
                    )  
                ) and not   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )   
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Здравоохранение;3.3">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.3" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.4"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
                    )  
                ) and not   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )   
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]  
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Chart1">
    <![CDATA[with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [UniqueNameProvai]  
    as '[Источники данных].[Источники данных].currentmember.UniqueName'  
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'  
    member [Районы__Анализ].[Районы__Анализ].[Unit]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'  
    member [Районы__Анализ].[Районы__Анализ].[CountZero]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'  
    member [Районы__Анализ].[Районы__Анализ].[dm]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [<%SelectYearCaption%>]  
    as '[Measures].[Значение отчётного года]'  
    member [<%SelectYearCaptionPrev%>]  
    as '[Measures].[Значение предыдущего года]'  
select
    non empty  
    {
        
        Filter  
        (
            {
                [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
            },
            not IsEmpty 
            (
                [Measures].[Значение отчётного года] 
            ) and  
            (
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "1"  
            )  
        )   
    }on rows    ,
    non empty  
    {



            {
            [<%SelectYearCaptionPrev%>],
            [<%SelectYearCaption%>]}

    } on columns  
FROM [РЕГИОН_Оценка ОМСУ]  
where  
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден],
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
    )  
]]>
  </query>

  <query id = "Chart2">
    <![CDATA[with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [UniqueNameProvai]  
    as '[Источники данных].[Источники данных].currentmember.UniqueName'  
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'  
    member [Районы__Анализ].[Районы__Анализ].[Unit]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'  
    member [Районы__Анализ].[Районы__Анализ].[CountZero]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'  
    member [Районы__Анализ].[Районы__Анализ].[dm]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [<%SelectYearCaption%>]  
    as '[Measures].[Значение отчётного года]'  
    member [<%SelectYearCaptionPrev%>]  
    as '[Measures].[Значение предыдущего года]'  
select
    non empty  
    {
      <%FilterChart2%>   
    }on rows    ,
    non empty  
    {
        [<%SelectYearCaptionPrev%>]
        ,[<%SelectYearCaption%>]
        
    } on columns  
FROM [РЕГИОН_Оценка ОМСУ]  
where  
    (<%Scope%>,[ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден])
]]>
  </query>

  <query id = "MAP">
    <![CDATA[with
    member [UniqueNameYear]
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'
    member [UniqueNameProvai]
    as '[Источники данных].[Источники данных].currentmember.UniqueName'
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'
    member [Районы__Анализ].[Районы__Анализ].[Unit]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'
    member [Районы__Анализ].[Районы__Анализ].[CountZero]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'
    member [2010]
    as '[Measures].[Значение отчётного года]'
    member [2009]
    as '[Measures].[Значение предыдущего года]'
    member [del]
    as '100 - [Measures].[Значение отчётного года]'
    member [del2]
    as '100 - [Measures].[Значение предыдущего года]'
select
    non empty
    {
         Filter
        (

                [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members
            ,
                              not IsEmpty( [Measures].[Значение отчётного года]) and
            (
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "1"
            )
        )
    }   on columns ,
    non empty
    {

            [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children


    }on rows
FROM [РЕГИОН_Оценка ОМСУ]
where
    (
        <%Scope%>,--[ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден],
        [2010]
    ) 
]]>
  </query>

  <query id = "C2">
    <![CDATA[with
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[1]
    as 'null' --member
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[pri6]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Краткое наименование")'
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[pri5]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Код объекта карты")'
select
    non empty
    {/*
filter(*/            
--[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].children
Except(
[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].children,
[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].DataMember)
/*,)<%Filter%>*/
    }on <%BC_R%>,
    non empty{
    [ОМСУ__Показатели].[ОМСУ__Показатели].[pri6],
    <%FieldGrid%>
/*[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка результативности в сфере «Образования»],
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка эффективности расходования бюджетных средств органами местного самоуправления в сфере "Образование"] ,
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка населением результатов деятельности ОМСУ в сфере "Образование"],
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Уровень эффективности деятельности ОМСУ в сфере "Образование"]*/
    } on <%BC_C%>
from [МО_Оценка ОМСУ_Характеристика деятельности]
where
(
	[Период__Год].[Период__Год].[Год].[<%year_%>]
)
]]>
  </query>
  <query id = "RegionAll">
    <![CDATA[with
member [UniqueNameYear]
as '[Районы__Анализ].[Районы__Анализ].CurrentMember.UniqueName'

select
non empty    {
[UniqueNameYear]
    }on columns         ,
non empty    {
                [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children+
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children
    }on rows
FROM [РЕГИОН_Оценка ОМСУ]     
]]>
  </query>
</root>