<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0002_0009_Samara_date">
    <![CDATA[
-- FO_0002_0009_Samara_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants 
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Месяц],
                    SELF 
                ),
                not IsEmpty ( [Measures].[Задолженность] ) or not IsEmpty 
                (
                    [Measures].[Просроченная задолженность] 
                ) 
            ),
            1 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from [ФО_МесОтч_Задолженность] 
]]>
  </query>

  <query id="FO_0002_0009_Samara_grid">
    <![CDATA[
-- FO_0002_0009_grid
WITH
    set [Районы]
    as 'Filter
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[ГОРОДСКИЕ ОКРУГА].Children + [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[МУНИЦИПАЛЬНЫЕ РАЙОНЫ].Children,
            not 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[ГОРОДСКИЕ ОКРУГА].DATAMEMBER
            ) and not
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[МУНИЦИПАЛЬНЫЕ РАЙОНЫ].DATAMEMBER
            ) 
        )'
    set [Администраторы] 
    as 'Filter 
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[Бюджет субъекта - Самарская область].Children,
            (
                StrToValue
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Код")
                ) >= 701 
            ) and 
            (
                StrToValue
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Код")
                ) <= 806 
            ) 
        )' 
    set [Периоды]
    as '{<%period_set%>}'
    member [Measures].[Изменение]
    as '([Measures].[Задолженность],
    [Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 2].[Квартал 4].[<%curr_month%>],
    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember)
    -
    ([Measures].[Задолженность],
    [Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 2].[Квартал 4].[<%prev_month%>],
    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember)'
    member [Measures].[Изменение просроченное]
    as '([Measures].[Просроченная задолженность],
    [Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 2].[Квартал 4].[<%curr_month%>])
    -
    ([Measures].[Просроченная задолженность],[Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 2].[Квартал 4].[<%prev_month%>])'
    member [Период__Период].[Период__Период].[Данные всех периодов].[Период]
    as '1'
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]
    as 'Aggregate([Районы])'
    set [План счетов]      
    as 'Filter(
          [ПланСчетов__Сопоставимый].[ПланСчетов__Сопоставимый].[Все].Children,
          not (
                [ПланСчетов__Сопоставимый].[ПланСчетов__Сопоставимый].CurrentMember is [ПланСчетов__Сопоставимый].[ПланСчетов__Сопоставимый].[Все].[Несопоставленные данные]
              )
        )'
    member [Период__Период].[Период__Период].[Нулевой период] 
    as '0' 
    member [Measures].[Наименование] 
    as '[ПланСчетов__Сопоставимый].[ПланСчетов__Сопоставимый].CurrentMember.Name' 
    member [Measures].[Код плана]
    as '[ПланСчетов__Сопоставимый].[ПланСчетов__Сопоставимый].CurrentMember.Properties("Код")'
    member [Measures].[Код]
    as '[Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Код")'
SELECT
    {
        {
            [Период__Период].[Период__Период].[Нулевой период]
            * {[Measures].[Наименование],
            [Measures].[Код],
            [Measures].[Код плана]}
        } +
     {
      [Периоды]*
      {[Measures].[Задолженность],
      [Measures].[Просроченная задолженность]}
     }  
   }ON COLUMNS ,
   NON EMPTY {{<%mo_set%>} * [План счетов]} ON ROWS
FROM  [ФО_МесОтч_Задолженность]
WHERE
    (
        [Тип средств__СКИФ].[Тип средств__СКИФ].[Все].[Бюджетные средства],
        [Фиксированный__Вид задолженности].[Фиксированный__Вид задолженности].[Все].[Кредиторская задолженность],
        {
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Данные конс. отчета субъекта в разрезе городов, районов и поселений (5+6+7+8)],
            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета]
        }
    )     
    ]]>
  </query>

  <query id="FO_0002_0009_Samara_moIndicator">
    <![CDATA[
-- FO_0002_0009_Samara_moIndicator
with 
    set [Районы] 
    as 'Filter 
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[ГОРОДСКИЕ ОКРУГА].Children + [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[МУНИЦИПАЛЬНЫЕ РАЙОНЫ].Children,
            not 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[ГОРОДСКИЕ ОКРУГА].DATAMEMBER 
            ) and not 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[МУНИЦИПАЛЬНЫЕ РАЙОНЫ].DATAMEMBER 
            ) 
        )' 
    member [Measures].[Уровень] 
    as 'IIF 
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
            0,
            1
        )' 
    member [Measures].[Уникальное имя] 
    as ' [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.UniqueName ' 
    member [Measures].[Имя] 
    as ' [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Name ' 
SELECT
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    }ON COLUMNS,
    {
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы] + [Районы] 
    } ON ROWS 
FROM  [ФО_МесОтч_Задолженность]       
WHERE       
    (
        [Тип средств__СКИФ].[Тип средств__СКИФ].[Все].[Бюджетные средства],
        [Фиксированный__Вид задолженности].[Фиксированный__Вид задолженности].[Все].[Кредиторская задолженность]       
    )        
]]>
</query>

  <query id="FO_0002_0009_Samara_grbsIndicator">
    <![CDATA[
-- FO_0002_0009_Samara_grbsIndicator
with
    set [Администраторы]
    as 'Filter
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[Бюджет субъекта - Самарская область].Children,
            (
                StrToValue
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Код")
                ) >= 701
            ) and
            (
                StrToValue
                (
                    [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Код")
                ) <= 806
            )
        )'
    member [Measures].[Уровень]
    as 'IIF
        (
            [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все администраторы],
            0,
            1
        )'
    member [Measures].[Уникальное имя]
    as ' [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.UniqueName '
    member [Measures].[Имя]
    as ' [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Name '
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Все администраторы]
    as '[Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Самарская область].[Бюджет субъекта - Самарская область]'
SELECT
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    }ON COLUMNS,
    {
        {
            [Районы__Сопоставимый].[Районы__Сопоставимый].[Все администраторы]
        } + [Администраторы]
    } ON ROWS
FROM  [ФО_МесОтч_Задолженность]
WHERE
    (
        [Тип средств__СКИФ].[Тип средств__СКИФ].[Все].[Бюджетные средства],
        [Фиксированный__Вид задолженности].[Фиксированный__Вид задолженности].[Все].[Кредиторская задолженность]
    )
]]>
  </query>

</root>