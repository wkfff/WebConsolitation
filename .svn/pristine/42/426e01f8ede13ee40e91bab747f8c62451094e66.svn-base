<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0040_0002_date">
    <![CDATA[
-- FO_0040_0002_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Квартал],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг]
                    )
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"
                ) and
                (
                    [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
                )
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from  [ФО_Оценка качества ОиОБП_Показатели]
]]>
  </query>

  <query id="FO_0040_0002_grid">
    <![CDATA[
-- FO_0040_0002_grid
with   
    set [Показатели]   
    as 'Filter   
        (
            Descendants   
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели],
                [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели],
                SELF   
            ),
            (
                [Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Name <> "Несопоставленные данные"   
            )    
        )'   
    set [Список МО] 
    as 'Filter   
        (
            Descendants   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 04],
                SELF   
            ),
            not   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember   
            ) and   
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "МР" or  [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Properties("Тип территории") = "ГО"   
            )   
        )'   
    member [Период__Период].[Период__Период].[Отклонение]  
    as 'IIF   
        (
            IsEmpty  
            (
                [Период__Период].[Период__Период].[Данные всех периодов].<%selected_prev_period%>
            ) or
            IsEmpty
            (
                [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%>
            ),
            null,
            [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%> - [Период__Период].[Период__Период].[Данные всех периодов].<%selected_prev_period%> 
        )'   
    set [Кварталы]   
    as '  
        {
            [Период__Период].[Период__Период].[Данные всех периодов].<%selected_prev_period%>,
            [Период__Период].[Период__Период].[Данные всех периодов].<%selected_period%> 
        }'   
select
    {
        {
            [Показатели]
        }   
        *   
        {
            [Кварталы] +  
            {
                [Период__Период].[Период__Период].[Отклонение]  
            }   
        }    
    } on columns,
    {
        [Список МО]
    } on rows   
from  [ФО_Оценка качества ОиОБП_Показатели]   
where   
    (
        [Measures].[Оценка показателя] 
    )               
  ]]>
  </query>

  <query id="FO_0040_0002_indicatorDescription">
    <![CDATA[
-- FO_0040_0002_indicatorDescription
With
    set [Список показателей]
    as '
        {
            Descendants
                (
                   [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели],
                   [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели],
                    SELF
                ) -
                {
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Несопоставленные данные],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Рейтинг],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Группа муниципального образования],
                    [Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].[Все показатели].[Средняя оценка]
                }
        }'

    member [Measures].[Наименование]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Наименование")'
    member [Measures].[Формат]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Единицы измерения")'
    member [Measures].[Код]
    as '[Показатели__Оценка качества ОиОБП_Сопоставимый].[Показатели__Оценка качества ОиОБП_Сопоставимый].CurrentMember.Properties("Структурное подразделение")'
Select
    {
       [Measures].[Наименование],
       [Measures].[Формат],
       [Measures].[Код]
    } on columns,
    { [Список показателей] } on rows
From [ФО_Оценка качества ОиОБП_Показатели]
  ]]>
  </query>

</root>