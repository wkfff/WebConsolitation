<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0042_0002_HMAO_date">
    <![CDATA[
-- FO_0042_0002_HMAO_date
with 
    member [Measures].[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
    set [NonEmptySet] 
    as 'Tail 
        (
            Filter 
            (
                Descendants   
                (
                    [Период].[Период].[Данные всех периодов],
                    [Период].[Период].[Квартал],
                    SELF   
                ),
                not IsEmpty 
                (
                    (
                        [Measures].[Значение],
                        [Показатели__Оценка качества ФМ_Сопоставимый].[Показатели__Оценка качества ФМ_Сопоставимый].[Все показатели]
                    ) 
                ) and 
                [Период].[Период].CurrentMember.Name <> "Остатки на начало года" and 
                [Период].[Период].CurrentMember.Name <> "Данные квартала" and 
                [Период].[Период].CurrentMember.Name <> "Данные полугодия" and 
                [Период].[Период].CurrentMember.Name <> "Данные года" and 
                [Период].[Период].CurrentMember.Name <> "Данные месяца" and 
                [Период].[Период].CurrentMember.Name <> "Заключительные обороты" 
            ),
            1 
        )' 
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows 
from [ФО_Оценка качества ФМ_Показатели] 
]]>
  </query>

  <query id="FO_0042_0002_HMAO_chart">
    <![CDATA[
-- FO_0042_0002_HMAO_chart
with 
    set [Администраторы]                 
    as 'Descendants                 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы],
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
            SELF                 
        ) - [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].[Несопоставленные данные]'               
select
    {
       [Показатели__Оценка качества ФМ_Сопоставимый].[Показатели__Оценка качества ФМ_Сопоставимый].[Все показатели].[Итоговая оценка по главному распорядителю средств бюджета автономного округа]
    } on columns,
    non Empty
    {
        Order
        (
            [Администраторы],
            [Показатели__Оценка качества ФМ_Сопоставимый].[Показатели__Оценка качества ФМ_Сопоставимый].[Все показатели].[Итоговая оценка по главному распорядителю средств бюджета автономного округа],
            BDESC
        )   
    } on rows 
from [ФО_Оценка качества ФМ_Показатели] 
where 
    (
        [Период].[Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение]
    )             
  ]]>
  </query>

  <query id="FO_0042_0002_HMAO_avg_chart">
    <![CDATA[
-- FO_0042_0002_HMAO_avg_chart
with    
    set [Администраторы]                 
    as 'Descendants                 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы],
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
            SELF                 
        ) - [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].[Несопоставленные данные]'    
        
    member [Администратор__Сопоставим].[Администратор__Сопоставим].[Средняя оценка]    
    as 'AVG    
        (
            [Администраторы],
            [Показатели__Оценка качества ФМ_Сопоставимый].[Показатели__Оценка качества ФМ_Сопоставимый].[Все показатели].[Итоговая оценка по главному распорядителю средств бюджета автономного округа]
        )'     

select
    {
        [Администратор__Сопоставим].[Администратор__Сопоставим].[Средняя оценка]
    } on columns,
    {
        [Показатели__Оценка качества ФМ_Сопоставимый].[Показатели__Оценка качества ФМ_Сопоставимый].[Все показатели].[Итоговая оценка по главному распорядителю средств бюджета автономного округа]    
    } on rows    
from [ФО_Оценка качества ФМ_Показатели]    
where 
    (
        [Период].[Период].[Данные всех периодов].<%selected_period%>,
        [Measures].[Взвешенное значение]
    )    
  ]]>
  </query>

  <query id="FO_0042_0002_HMAO_grbsList">
    <![CDATA[
-- FO_0042_0002_HMAO_grbsList
with 
    set [Администраторы] 
    as 'Descendants 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы],
            [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
            SELF 
        ) - [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы].[Несопоставленные данные]' 
    member [Measures].[Имя] 
    as '[Администратор__Сопоставим].[Администратор__Сопоставим].CurrentMember.Name' 
    member [Measures].[Тип] 
    as '[Администратор__Сопоставим].[Администратор__Сопоставим].CurrentMember.Properties("Код")' 
select
    {
        [Measures].[Имя],
        [Measures].[Тип] 
    } on columns,
    { [Администраторы] } on rows 
from [ФО_Оценка качества ФМ_Показатели]   
  ]]>
  </query>

</root>