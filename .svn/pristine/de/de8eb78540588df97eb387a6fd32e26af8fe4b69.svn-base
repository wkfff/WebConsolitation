<?xml version="1.0" encoding="windows-1251"?>
<root>  
<query id="FO_0047_0007_date">
    <![CDATA[
--FO_0047_0007_date
with

    member Measures.[ДанныеНа]
    as '[Период].[Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    Tail
    (
        Filter
        (
            OpeningPeriod
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2009]
            ) : ClosingPeriod
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2013]
            ),
            not IsEmpty([Measures].[Факт] )
        )
    ) on rows
From [ФО_Задолженность_КзДз]
Where
    (
      [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта]
    )
  ]]>
  </query>
  

 <query id="FO_0047_0007_Grid">
<![CDATA[
--FO_0047_0007_Grid
    with                                 
    member [Задолженность].[Направления финансирования].[Направления]                              
    as 'Aggregate                             
        (
            {
                [Задолженность].[Направления финансирования].[Все].[Долги бюджета, всего],
                [Задолженность].[Направления финансирования].[Все].[Мероприятия и программы, всего],
                [Задолженность].[Направления финансирования].[Все].[По смете, всего]                            
            }                             
        )'                             
    member Measures.[Просроченная кредиторская задолженность (бюджетные средства)]                                
    as '                              
        (
            [Задолженность].[Вид задолженности].[Все].[Просроченная кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]                          
        )/1000'                     
    member Measures.[Объем расходов бюджета]                   
    as 'IIF   
        (
            [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)],
            sum   
            (
                { [Районы] },
                Measures.[Объем расходов бюджета] 
            ),
			IIF      
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube     
                (
                    "[ФО_ГодОтч_Расходы]",
                    "sum  
                    (
                        				  
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]  
                        },
                        (
                            [Measures].[Исполнено],
                            [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта] 				 
                        ) 
                    )"  
                ),
            LookUpCube   
            (
                "[ФО_МесОтч_Расходы]",
                "sum                     
                (
				    {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                    },
                   (
				     <%param%>,
                     [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                     [ТипДокумента].[СКИФ].CurrentMember,
                     "+ MemberToStr                    
                     (
                        [Период].[Период].CurrentMember                   
                    ) +" ,
                    "+ MemberToStr                   
                    (
                        [Районы].[Сопоставимый].CurrentMember                   
                    ) +",
					[Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
				  )
                )"                     
            )
		  )/1000 
        )'  
    member Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета]                  
    as 'IIF                 
        (
            IsEmpty                  
            (
                Measures.[Объем расходов бюджета]                  
            )or                  
            (
                Measures.[Объем расходов бюджета]                  
            )=0,
            null,
            (
                Measures.[Просроченная кредиторская задолженность (бюджетные средства)]/ Measures.[Объем расходов бюджета]                  
            )                 
        )'                  
    member Measures.[Кредиторская задолженность (бюджетные средства)]         
    as '         
        (
            [Задолженность].[Вид задолженности].[Все].[Кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]         
        )/1000'         
    member Measures.[Собственные доходы бюджета]                 
    as 'IIF      
        (
            [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)],
            sum   
            (
                { [Районы] },
                Measures.[Собственные доходы бюджета]     
            ),
			IIF 
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube 
                (
                    "[ФО_ГодОтч_Доходы]",
                    "sum 
                    (
                        				 
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района] 
                        },
                        (
                            [Measures].[Исполнено],
                            [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
                        ) 
                    )" 
                ),
            LookUpCube    
            (
                "[ФО_МесОтч_Доходы]",
                "sum              
                (
				  {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                  },
                  ( <%param%>,
                    [ТипДокумента].[СКИФ].CurrentMember,
                    [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    "+ MemberToStr           
                    (
                        [Районы].[Сопоставимый].CurrentMember                
                    )+" ,
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                    "+ MemberToStr          
                    (
                        [Период].[Период].CurrentMember          
                    )+"
				  )
                )"                  
            )
		  )/1000     
        )'      
    member Measures.[Отношение кредиторской задолженности к собственным доходам бюджета]          
    as 'IIF         
        (
            IsEmpty          
            (
                Measures.[Собственные доходы бюджета]          
            )or          
            (
                Measures.[Собственные доходы бюджета]          
            )=0  ,
            null,
            (
                Measures.[Кредиторская задолженность (бюджетные средства)]  / Measures.[Собственные доходы бюджета]         
            )         
        )'          
    set [Районы]                                
    as 'Filter                          
        (
            Descendants                                
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Уровень 04],
                Self                                
            ),
            not [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember                           
        )'         
    member [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)]         
    as 'Aggregate( { [Районы]} )'        
select
    {
        Measures.[Просроченная кредиторская задолженность (бюджетные средства)],
        Measures.[Объем расходов бюджета],
        Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета],
        Measures.[Кредиторская задолженность (бюджетные средства)] ,
        Measures.[Собственные доходы бюджета] ,
        Measures.[Отношение кредиторской задолженности к собственным доходам бюджета]         
    } on columns,
    {
        {[Районы]} +        
        {
            [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)]      
        }       
    } on rows       
From [ФО_Задолженность_КзДз]                                
Where                                
    (
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]                          
    )                                
   ]]>
 </query>


<query id="FO_0047_0007_Chart1">
<![CDATA[
  -- FO_0047_0007_Chart1
   with
    member [Задолженность].[Направления финансирования].[Направления]
    as 'Aggregate
        (
            {
                [Задолженность].[Направления финансирования].[Все].[Долги бюджета, всего],
                [Задолженность].[Направления финансирования].[Все].[Мероприятия и программы, всего],
                [Задолженность].[Направления финансирования].[Все].[По смете, всего]
            }
        )'
    member Measures.[Просроченная кредиторская задолженность (бюджетные средства)]
    as '
        (
            [Задолженность].[Вид задолженности].[Все].[Просроченная кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]
        )/1000'
    member Measures.[Объем расходов бюджета]
    as 'IIF      
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube     
                (
                    "[ФО_ГодОтч_Расходы]",
                    "sum  
                    (
                        				  
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]  
                        },
                        (
                            [Measures].[Исполнено],
                            [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта] 				 
                        ) 
                    )"  
                ),
			   LookUpCube
               (
                "[ФО_МесОтч_Расходы]",
                "sum                     
                (
				    {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                    },
                   (
				     <%param%>,
                     [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                     [ТипДокумента].[СКИФ].CurrentMember,
                     "+ MemberToStr                    
                     (
                        [Период].[Период].CurrentMember                   
                    ) +" ,
                    "+ MemberToStr                   
                    (
                        [Районы].[Сопоставимый].CurrentMember                   
                    ) +",
					[Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
				  )
                )"    
            )
		)/1000'
    member Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета]
    as 'IIF
        (
            IsEmpty
            (
                Measures.[Объем расходов бюджета]
            )or
            (
                Measures.[Объем расходов бюджета]
            )=0,
            null,
            (
                Measures.[Просроченная кредиторская задолженность (бюджетные средства)]/ Measures.[Объем расходов бюджета]
            )
        )'
   
    set [Районы]
    as 'Filter
        (
            Descendants
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Уровень 04],
                Self
            ),
            not [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember
        )'

select
    {
        Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета]
    } on rows,
    {
        {[Районы]} 
    } on columns
From [ФО_Задолженность_КзДз]
Where
    (
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]   
    )

 ]]>
</query>

<query id="FO_0047_0007_Chart2">
<![CDATA[
-- FO_0047_0007_Chart2
  with
    member [Задолженность].[Направления финансирования].[Направления]
    as 'Aggregate
        (
            {
                [Задолженность].[Направления финансирования].[Все].[Долги бюджета, всего],
                [Задолженность].[Направления финансирования].[Все].[Мероприятия и программы, всего],
                [Задолженность].[Направления финансирования].[Все].[По смете, всего]
            }
        )'
  
    member Measures.[Кредиторская задолженность (бюджетные средства)]
    as '
        (
            [Задолженность].[Вид задолженности].[Все].[Кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]
        )/1000'
		
	  member Measures.[Просроченная кредиторская задолженность (бюджетные средства)]
    as '
        (
            [Задолженность].[Вид задолженности].[Все].[Просроченная кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]
        )/1000'
    member Measures.[Объем расходов бюджета]
    as 'IIF      
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube     
                (
                    "[ФО_ГодОтч_Расходы]",
                    "sum  
                    (
                        				  
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]  
                        },
                        (
                            [Measures].[Исполнено],
                            [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта] 				 
                        ) 
                    )"  
                ),
			  LookUpCube
              (
                "[ФО_МесОтч_Расходы]",
                 "sum                     
                (
				    {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                    },
                   (
				     <%param%>,
                     [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                     [ТипДокумента].[СКИФ].CurrentMember,
                     "+ MemberToStr                    
                     (
                        [Период].[Период].CurrentMember                   
                    ) +" ,
                    "+ MemberToStr                   
                    (
                        [Районы].[Сопоставимый].CurrentMember                   
                    ) +",
					[Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
				  )
                )"    
            )
		)/1000'
    member Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета]
    as 'IIF
        (
            IsEmpty
            (
                Measures.[Объем расходов бюджета]
            )or
            (
                Measures.[Объем расходов бюджета]
            )=0,
            null,
            (
                Measures.[Просроченная кредиторская задолженность (бюджетные средства)]/ Measures.[Объем расходов бюджета]
            )
        )'
    member Measures.[Собственные доходы бюджета]
    as 'IIF 
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube 
                (
                    "[ФО_ГодОтч_Доходы]",
                    "sum 
                    (
                        				 
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района] 
                        },
                        (
                            [Measures].[Исполнено],
                            [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
                        ) 
                    )" 
                ),
				LookUpCube
               (
                "[ФО_МесОтч_Доходы]",
                 "sum              
                (
				  {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                  },
                  ( <%param%>,
                    [ТипДокумента].[СКИФ].CurrentMember,
                    [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    "+ MemberToStr           
                    (
                        [Районы].[Сопоставимый].CurrentMember                
                    )+" ,
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                    "+ MemberToStr          
                    (
                        [Период].[Период].CurrentMember          
                    )+"
				  )
                )"
            )
		)/1000'
    member Measures.[Отношение кредиторской задолженности к собственным доходам бюджета]
    as 'IIF
        (
            IsEmpty
            (
                Measures.[Собственные доходы бюджета]
            )or
            (
                Measures.[Собственные доходы бюджета]
            )=0  ,
            null,
            (
                Measures.[Кредиторская задолженность (бюджетные средства)]  / Measures.[Собственные доходы бюджета]
            )
        )'
    set [Районы]   
    as 'Filter   
        (
            Descendants   
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Уровень 04],
                Self   
            ),
            not [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember
           
        )' 
select
    {
        Measures.[Отношение кредиторской задолженности к собственным доходам бюджета]
    } on rows,
    {
        {[Районы]} 
    } on columns
From [ФО_Задолженность_КзДз]
Where
    (
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]   
    )
  ]]>
</query>

<query id="FO_0047_0007_Max">
<![CDATA[
--FO_0047_0007_Max
	 with                                 
    member [Задолженность].[Направления финансирования].[Направления]                              
    as 'Aggregate                             
        (
            {
                [Задолженность].[Направления финансирования].[Все].[Долги бюджета, всего],
                [Задолженность].[Направления финансирования].[Все].[Мероприятия и программы, всего],
                [Задолженность].[Направления финансирования].[Все].[По смете, всего]                            
            }                             
        )'                             
    member Measures.[Просроченная кредиторская задолженность (бюджетные средства)]                                
    as '                              
        (
            [Задолженность].[Вид задолженности].[Все].[Просроченная кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]                          
        )/1000'                     
    member Measures.[Объем расходов бюджета]                   
    as 'IIF   
        (
            [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)],
            sum   
            (
                { [Районы] },
                Measures.[Объем расходов бюджета] 
            ),
			IIF      
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube     
                (
                    "[ФО_ГодОтч_Расходы]",
                    "sum  
                    (
                        				  
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]  
                        },
                        (
                            [Measures].[Исполнено],
                            [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта] 				 
                        ) 
                    )"  
                ),
            LookUpCube   
            (
                "[ФО_МесОтч_Расходы]",
                "sum                     
                (
				    {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                    },
                   (
				     <%param%>,
                     [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО],
                     [ТипДокумента].[СКИФ].CurrentMember,
                     "+ MemberToStr                    
                     (
                        [Период].[Период].CurrentMember                   
                    ) +" ,
                    "+ MemberToStr                   
                    (
                        [Районы].[Сопоставимый].CurrentMember                   
                    ) +",
					[Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
				  )
                )"                        
            )
		  )/1000 
        )'  
    member Measures.[Отношение просроченной кредиторской задолженности к расходам бюджета]                  
    as 'IIF                 
        (
            IsEmpty                  
            (
                Measures.[Объем расходов бюджета]                  
            )or                  
            (
                Measures.[Объем расходов бюджета]                  
            )=0,
            null,
            (
                Measures.[Просроченная кредиторская задолженность (бюджетные средства)]/ Measures.[Объем расходов бюджета]                  
            )                 
        )'                  
    member Measures.[Кредиторская задолженность (бюджетные средства)]         
    as '         
        (
            [Задолженность].[Вид задолженности].[Все].[Кредиторская задолженность],
            [Задолженность].[Показатели].[Задолженность Всего],
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Направления финансирования].[Направления] ,
            [Measures].[Факт]         
        )/1000'         
    member Measures.[Собственные доходы бюджета]                 
    as 'IIF      
        (
            [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)],
            sum   
            (
                { [Районы] },
                Measures.[Собственные доходы бюджета]     
            ),
			IIF 
            (
                [Период].[Период].CurrentMember is  [Период].[Период].[Данные всех периодов].[<%period_year%>].[Полугодие 2].[Квартал 4],
                LookUpCube 
                (
                    "[ФО_ГодОтч_Доходы]",
                    "sum 
                    (
                        				 
                        {
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                            [ТипДокумента].[СКИФ].[Все].[Собственный отчет района] 
                        },
                        (
                            [Measures].[Исполнено],
                            [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                            [ТипДокумента].[СКИФ].CurrentMember,
                            [Период].[Период].[Данные всех периодов].[<%period_year%>],
                            "+ MemberToStr 
                            (
                                [Районы].[Сопоставимый].CurrentMember 
                            ) +",
                            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                            [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта]
                        ) 
                    )" 
                ),
            LookUpCube    
            (
                "[ФО_МесОтч_Доходы]",
                 "sum              
                (
				  {
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет городского округа],
                      [ТипДокумента].[СКИФ].[Все].[Собственный отчет района]
                  },
                  ( <%param%>,
                    [ТипДокумента].[СКИФ].CurrentMember,
                    [КД].[Сопоставимый].[Все коды доходов].[Всего доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                    "+ MemberToStr           
                    (
                        [Районы].[Сопоставимый].CurrentMember                
                    )+" ,
                    [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет субъекта],
                    "+ MemberToStr          
                    (
                        [Период].[Период].CurrentMember          
                    )+"
				  )
                )"                  
            )
		  )/1000     
        )'      
    member Measures.[Отношение кредиторской задолженности к собственным доходам бюджета]          
    as 'IIF         
        (
            IsEmpty          
            (
                Measures.[Собственные доходы бюджета]          
            )or          
            (
                Measures.[Собственные доходы бюджета]          
            )=0  ,
            null,
            (
                Measures.[Кредиторская задолженность (бюджетные средства)]  / Measures.[Собственные доходы бюджета]         
            )         
        )'          
    set [Районы]                                
    as 'Filter                          
        (
            Descendants                                
            (
                [Районы].[Сопоставимый].[Все районы],
                [Районы].[Сопоставимый].[Уровень 04],
                Self                                
            ),
            not [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember                           
        )'         
    member [Районы].[Сопоставимый].[Итого задолженность по МР(ГО)]         
    as 'Aggregate( { [Районы]} )'  
	select
	{
	  <%measures%>
	} on columns,
	ORDER
	(
    	{[Районы]},
	    <%measures%>,
    	BDESC
	) on rows
	From [ФО_Задолженность_КзДз]
	Where
	(
	  [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
      [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
	)
]]>
</query>

</root>