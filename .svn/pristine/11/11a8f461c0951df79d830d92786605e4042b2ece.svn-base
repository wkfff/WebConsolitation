<?xml version="1.0" encoding="windows-1251"?>
<root>
  <query id = "Grid1">
    <![CDATA[
with member [Measures].[RowType] as '[КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Level.Name'

select

   {[Measures].[RowType],[Measures].[Годовые назначения],[Measures].[Факт],[Measures].[% выполнения годовых назначений],[Measures].[Факт_за период]} on columns,

except (

  filter ({[КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].MEMBERS},

  ( not isempty([Measures].[Годовые назначения]) or not isempty([Measures].[Факт]))

  and (Right([КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].Currentmember.UniqueName,10) <> "DATAMEMBER")),

  {[КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Несопоставленные данные],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Итого],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Расходы бюджета-всего]})

    on rows

from [ФО_МесОтч_Расходы]

where(

{       [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Общегосударственные вопросы],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная оборона],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная безопасность и правоохранительная деятельность],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная экономика],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Жилищно-коммунальное хозяйство],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Охрана окружающей среды],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Образование],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Культура, кинематография, средства массовой информации],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Здравоохранение, физическая культура и спорт],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Социальная политика],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Межбюджетные трансферты]

    }, 

[Период__Период].[Период__Период].[Данные всех периодов].[<%Year%>].[<%halfYear%>].[<%quartYear%>].[<%Month%>], 

[Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[<%Budget_Level%>]

)

 



 
 ]]>

  </query>
  <query id = "Grid2">
    <![CDATA[
    with member [Measures].[RowType] as '[КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Level.Name'
select

   {[Measures].[RowType],[Measures].[Годовые назначения],[Measures].[Факт],[Measures].[% выполнения годовых назначений],[Measures].[Факт_за период]} on columns,

NON EMPTY

   {[РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Общегосударственные вопросы],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная оборона],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная безопасность и правоохранительная деятельность],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Национальная экономика],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Жилищно-коммунальное хозяйство],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Охрана окружающей среды],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Образование],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Культура, кинематография, средства массовой информации],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Здравоохранение, физическая культура и спорт],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Социальная политика],

        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Межбюджетные трансферты]}

    on rows

from [ФО_МесОтч_Расходы]

where(

{ [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Расходы],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Поступление нефинансовых активов],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Поступление финансовых активов],

  [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР].[Выбытие финансовых активов]

    }, 

[Период__Период].[Период__Период].[Данные всех периодов].[<%Year%>].[<%halfYear%>].[<%quartYear%>].[<%Month%>], 

[Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[<%Budget_Level%>])


 
 ]]>

  </query>
  <query id = "lastDate">
    <![CDATA[
  
    select
    {

        [Measures].[Годовые назначения],
        [Measures].[Факт],
        [Measures].[% выполнения годовых назначений],
        [Measures].[Факт_за период]
    } on columns,
    {
        filter
        (
            [Период__Период].[Период__Период].AllMembers,
            not IsEmpty
            (
                [Measures].[Годовые назначения]
            )
        )
    } on rows
from [ФО_МесОтч_Расходы]
 
 ]]>

  </query>
  <query id = "Grid2Itog">
    <![CDATA[
with 
    member [Measures].[RowType] 
    as '[ЭКР__Сопоставимый].[ЭКР__Сопоставимый].CurrentMember.Level.Name' 
select
    {
        [Measures].[RowType],
        [Measures].[Годовые назначения],
        [Measures].[Факт],
        [Measures].[% выполнения годовых назначений],
        [Measures].[Факт_за период]
    } on columns,
    NON EMPTY  
    {
        [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Раздел].[Расходы бюджета - ИТОГО]
    }  on rows  
from [ФО_МесОтч_Расходы] 
where(
[Период__Период].[Период__Период].[Данные всех периодов].[<%Year%>].[<%halfYear%>].[<%quartYear%>].[<%Month%>], 
[Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[<%Budget_Level%>]
)
 
 ]]>

  </query>
</root>