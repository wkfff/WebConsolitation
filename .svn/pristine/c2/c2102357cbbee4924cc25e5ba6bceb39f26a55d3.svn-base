<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="FO_0002_0060_06_grid">
    <![CDATA[
WITH                 
    MEMBER [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Slicer]                 
    AS ' Aggregate                 
        (
            {
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет городского округа] ,
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Собственный отчет района]                 
            }                 
        )'                 
    member [Расходы по содержанию органов местного самоуправления] as'IIF                 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember is [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого],
            LookupCube                 
            (
                "ФО_МесОтч_СпрРасходыДоп" ,
                "                 
                (
                    AGGREGATE                 
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета],
                        AGGREGATE                 
                        (
                            {
                                " + SetToStr([NonFilterRowSet]) + "                 
                            },
                            (
                                [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего],
                                 <%period_dimension%>,
                                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                                [Measures].[Факт]      
                            )                 
                        )                 
                    )                 
                )"                 
            ),
            LookupCube                 
            (
                "ФО_МесОтч_СпрРасходыДоп" ,
                "                 
                (
                    aggregate                 
                    (
                        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
                        (
                            [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего],
                             <%period_dimension%>,
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                            [Measures].[Факт],
                            " +  MemberToStr            
                            (
                                [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember            
                            ) + "            
                        )                 
                    )                 
                )"                 
            )                 
        )'                 
    member [Оплата труда] as'IIF                 
        (
            [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember is [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого],
            LookupCube                 
            (
                "ФО_МесОтч_СпрРасходыДоп" ,
                "                 
                (
                    AGGREGATE                 
                    (
                        {
                            [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[на заработную плату] ,
                            [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[на начисления на выплаты по оплате труда]     
                        },
                        AGGREGATE                 
                        (
                            {
                                " + SetToStr([NonFilterRowSet]) + "                 
                            },
                            (
                                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
                                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                                 <%period_dimension%>,
                                [Measures].[Факт]                 
                            )                  
                        )                 
                    )                 
                )"                 
            ),
            LookupCube                 
            (
                "ФО_МесОтч_СпрРасходыДоп" ,
                "                 
                (
                    aggregate                 
                    (
                        {
                            [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[на заработную плату],
                            [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего].[на начисления на выплаты по оплате труда]    
                        },
                        (
                            [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
                            [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                             <%period_dimension%>,
                            [Measures].[Факт],
                            " +  MemberToStr            
                            (
                                [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember            
                            ) + "            
                        )                  
                    )                 
                )"                 
            )                 
        )'                 
    member  [Расходы по содержанию органов местного самоуправления ]                 
    as 'IIF                 
        (
            IsEmpty                 
            (
                [Расходы по содержанию органов местного самоуправления]                 
            ),
            0,
            [Расходы по содержанию органов местного самоуправления]/1000                 
        )' ,
        format_string = '0.00'                 
    member [Оплата труда ]                 
    as ' IIF                 
        (
            IsEmpty ( [Оплата труда]),
            0,
            [Оплата труда]/1000                 
        )'    ,
        format_string = '0.00'                 
    member [Measures].[Факт ]                 
    as 'IIF                 
        (
            IsEmpty([Measures].[Факт]),
            0,
            [Measures].[Факт]/1000                 
        )' ,
        format_string = '0.00'                 
    member [Материальные затраты]                 
    as '[Расходы по содержанию органов местного самоуправления ]-[Оплата труда ]' ,
        format_string = '0.00'                 
    member [Удельный вес расходов на содержание ОГВ Всего] 
    as 'IIF                 
        (
            (
                IsEmpty 
                (
                    [Расходы по содержанию органов местного самоуправления ]             
                ) OR IsEmpty([Measures].[Факт])
            )OR ([Measures].[Факт]=0),
            0,
            (
                [Расходы по содержанию органов местного самоуправления ]/[Measures].[Факт ]                 
            )                 
                           
        )' ,
        format_string = '0.00'                 
    member [Удельный вес расходов на содержание ОГВ Оплата труда] 
    as 'IIF                
        (
            (
                IsEmpty([Оплата труда ]) OR IsEmpty([Measures].[Факт] )
            )OR ([Measures].[Факт]=0),
            0,
            (
                [Оплата труда ]/[Measures].[Факт ]                 
            )                 
                           
        )'  ,
        format_string = '0.00'                 
    member [Удельный вес расходов на содержание ОГВ Мат затраты] 
    as 'IIF               
        (
            (
                IsEmpty([Материальные затраты]) OR IsEmpty([Measures].[Факт])
            )OR ([Measures].[Факт]=0),
            0,
            (
                [Материальные затраты]/[Measures].[Факт ]             
            )                 
                         
        )'   ,
        format_string = '0.00'  
    member [пустая]
    as '0'
    SET [NonFilterColumnSet]                 
    AS '                 
        {
            [Measures].[Факт ],
            [Расходы по содержанию органов местного самоуправления ],
            [Оплата труда ] ,
            [Материальные затраты],
            [Удельный вес расходов на содержание ОГВ Всего] ,
            [Удельный вес расходов на содержание ОГВ Оплата труда],
            [Удельный вес расходов на содержание ОГВ Мат затраты],
            [пустая]            
        }'                 
    SET [NonFilterRowSet]            
    AS ' filter            
        (
            Descendants            
            (
                [Администратор__Сопоставим].[Администратор__Сопоставим].[Все администраторы] ,
                [Администратор__Сопоставим].[Администратор__Сопоставим].[Администратор],
                SELF            
            ),
            not [Администратор__Сопоставим].[Администратор__Сопоставим].currentmember.is_datamember and not IsEmpty ( [Measures].[Факт] )            
        ) '            
    member [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]            
    as 'Aggregate([NonFilterRowSet])'            
SELECT
    [NonFilterColumnSet] ON COLUMNS ,
    {
        [NonFilterRowSet],
        [Администратор__Сопоставим].[Администратор__Сопоставим].[Итого]           
    } ON ROWS                 
FROM [ФО_МесОтч_Расходы]                 
WHERE                 
    (
         <%period_dimension%>,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Бюджет субъекта]            
    )                                   
]]>
  </query>

  <query id="FO_0002_0060_06_date">
    <![CDATA[
with       
    member [Measures].[ДанныеНа] 
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'    
    set [NonEmptySet]    
    as 'Tail    
        (
            Filter    
            (
                Descendants    
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[Месяц],
                    SELF    
                ),
                not IsEmpty   ( [Measures].[Факт] )    
            ),
            1    
        )'    
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows    
from   [ФО_МесОтч_СпрРасходыДоп] 
where    
    (
        [Показатели__СопМесОСпРасх].[Показатели__СопМесОСпРасх].[Все показатели].[Расходы по содержанию органов государственной власти субъекта Российской Федерации, всего] ,
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Отчетность главных распорядителей средств бюджета] ,
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта] 
    )    
    ]]>
  </query>
</root>