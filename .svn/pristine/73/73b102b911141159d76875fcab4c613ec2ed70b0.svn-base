<?xml version="1.0" encoding="windows-1251"?>
<root>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_date_default">
        <![CDATA[
-- skk_queries_param_date_default
with   
    member [Measures].[Имя]   
    as ' [Периоды].[Год_Месяц].CurrentMember.Name '   
    member [Measures].[Уникальное имя]   
    as ' [Периоды].[Год_Месяц].CurrentMember.UniqueName ' 
    member [Measures].[Год]
    as ' [Периоды].[Год_Месяц].CurrentMember.Parent.Name '
select
    {
        tail   
        (
            filter   
            (
                descendants   
                (
                    { [Периоды].[Год_Месяц].[Все] },
                    [Периоды].[Год_Месяц].[Месяц],
                    SELF   
                ),
                not IsEmpty ( [Measures].[Значение] )   
            ),
            2
        )   
    } on columns,
    {
        [Measures].[Уникальное имя],
        [Measures].[Имя],
        [Measures].[Год]
    } on rows  
from [СКК]   
]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_direction">
        <![CDATA[
-- skk_queries_param_direction
with                    
    member [Measures].[Уникальное имя]                    
    as ' [Направления].[Направление].CurrentMember.UniqueName '        
    member [Measures].[Имя]                    
    as ' [Направления].[Направление].CurrentMember.Name ' 
    member [Measures].[Уровень] 
    as '0' 
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    } on columns,
    {
        [Направления].[Направление].[Все направления],
        [Направления].[Направление].Children 
    } on rows        
from [СКК]                                    
]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_border">
        <![CDATA[
-- skk_queries_param_border 
with
    member [Measures].[Уникальное имя]
    as 'IIF
        (
            [Пункты пропуска].[Участок границы].CurrentMember is [Пункты пропуска].[Участок границы].[Всего],
            "[Пункты пропуска].[Участок границы].[Все]",
            [Пункты пропуска].[Участок границы].CurrentMember.UniqueName
        )  '
    member [Measures].[Имя]
    as '[Пункты пропуска].[Участок границы].CurrentMember.Name'
    member [Measures].[Уровень]
    as '0'
    member [Пункты пропуска].[Участок границы].[Всего]
    as '[Пункты пропуска].[Участок границы].[Все]'
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    {
        [Пункты пропуска].[Участок границы].[Всего],
        filter
        (
            [Пункты пропуска].[Участок границы].Children,
            not [Пункты пропуска].[Участок границы] is [Пункты пропуска].[Участок границы].[Все].[Не указан участок границы]
        )
    } on rows
from [СКК]              
]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_point">
        <![CDATA[
-- skk_queries_param_point 
with            
    member [Measures].[Уникальное имя]            
    as ' [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.UniqueName '   
    member [Measures].[Имя]            
    as ' [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Name '   
    member [Measures].[Уровень]            
    as 'IIF            
        (
            [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Level is [Пункты пропуска].[Субъект_Пункт пропуска].[ФО],
            0,
            IIF   
            (
                [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Level is [Пункты пропуска].[Субъект_Пункт пропуска].[Субъект],
                1,
                2  
            )            
        )'              
    set [ПунктыПропуска] 
    as 'Filter            
        (
            Descendants            
            (
                {
                    [Пункты пропуска].[Субъект_Пункт пропуска].[Все] 
                },
                [Пункты пропуска].[Субъект_Пункт пропуска].[Пункт пропуска],
                SELF_AND_BEFORE         
            ),
            (
                not [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember is [Пункты пропуска].[Субъект_Пункт пропуска].[Все]
            )           
        )'            
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]            
    }on columns,
    { [ПунктыПропуска] } on rows       
from [СКК]                
]]>
    </query>
    
    <!-- ========================================================================================= -->
    <query id="skk_queries_param_terra">
        <![CDATA[
-- skk_queries_param_terra
with 
    member [Measures].[Уникальное имя] 
    as '[Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.UniqueName' 
    member [Measures].[Имя] 
    as 'IIF
        (
            [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember is [Пункты пропуска].[Субъект_Пункт пропуска].[Все],
            "РФ",
            [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Name 
        )' 
    member [Measures].[Уровень] 
    as 'IIF 
        (
            [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Level is [Пункты пропуска].[Субъект_Пункт пропуска].[(All)],
            0,
            IIF 
            (
                [Пункты пропуска].[Субъект_Пункт пропуска].CurrentMember.Level is [Пункты пропуска].[Субъект_Пункт пропуска].[ФО],
                0,
                1 
            ) 
        )'  
    set [ПунктыПропуска] 
    as 'Descendants
        (
            {
                [Пункты пропуска].[Субъект_Пункт пропуска].[Все] 
            },
            [Пункты пропуска].[Субъект_Пункт пропуска].[Субъект],
            SELF_AND_BEFORE 
        )' 
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    } on columns,
    { [ПунктыПропуска] } on rows 
from [СКК]                
]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_transport">
        <![CDATA[
-- skk_queries_param_transport 
with 
    member [Measures].[Уникальное имя] 
    as 'IIF
        (
            [Пункты пропуска].[Вид сообщения].CurrentMember is [Пункты пропуска].[Вид сообщения].[Всего],
            "[Пункты пропуска].[Вид сообщения].[Все]",
            [Пункты пропуска].[Вид сообщения].CurrentMember.UniqueName 
        )  ' 
    member [Measures].[Имя] 
    as ' [Пункты пропуска].[Вид сообщения].CurrentMember.Name ' 
    member [Measures].[Уровень] 
    as '0' 
    member [Пункты пропуска].[Вид сообщения].[Всего] 
    as '[Пункты пропуска].[Вид сообщения].[Все]' 
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень] 
    } on columns,
    {
        [Пункты пропуска].[Вид сообщения].[Всего],
        [Пункты пропуска].[Вид сообщения].Children 
    } on rows 
from [СКК]               
]]>
    </query>

    <!-- ========================================================================================= -->
    <query id="skk_queries_param_mark">
        <![CDATA[
-- skk_queries_param_mark 
with  
    member [Measures].[Уникальное имя]  
    as '[Показатели].CurrentMember.UniqueName'  
    member [Measures].[Имя]  
    as 'IIF 
        (
            [Показатели].CurrentMember is [Показатели].[Показатель].[Количество партий грузов, на которые предъявлены документы должностным лицам органа Роспотребнадзора, осуществляющего СКК],
            "Количество партий грузов, всего",
            [Показатели].CurrentMember.Name 
        )' 
    member [Measures].[Уровень]  
    as '0'   
select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]  
    } on columns,
    {
        {
            [Показатели].[Показатель].[Количество досмотренных транспортных средств],
            [Показатели].[Показатель].[Количество приостановленных транспортных средств],
            [Показатели].[Показатель].[Число лиц, досмотренных на наличие признаков инфекционных заболеваний],
            [Показатели].[Показатель].[Выявлено больных и/или лиц с подозрением на инфекционные заболевания],
            [Показатели].[Показатель].[Количество партий грузов, на которые предъявлены документы должностным лицам органа Роспотребнадзора, осуществляющего СКК],
            [Показатели].[Показатель].[Количество партий грузов, подлежащих СКК],
            [Показатели].[Показатель].[Количество приостановленных партий грузов],            
            [Показатели].[Показатель].[Объем партий грузов, подлежащих СКК],
            [Показатели].[Показатель].[Объем приостановленных партий грузов]
        } 
    } on rows  
from [СКК]               
]]>
    </query>
    
</root>