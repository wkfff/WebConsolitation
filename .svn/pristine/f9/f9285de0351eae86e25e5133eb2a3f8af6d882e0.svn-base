<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="STAT_0003_0004_list_of_dates">
    <![CDATA[ -- name: STAT_0003_0004_list_of_dates
 -- name: STAT_0003_0004_list_of_dates
with  
    member [sum]  
    as 'Aggregate 
        (

filter(Except(
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].children,
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember),
                [Measures].[Значение]>0)

            ,
[Measures].[Значение]
        )'  
select
    {[sum]} on columns,
    {
        filter 
        (
            [Период__Период].[Период__Период].[День].members,
            [sum] > 0
            and
            (
            not IsEmpty
            (
                (
                    [Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы]
                )
            ) or not IsEmpty
            (
                (
                    [Measures].[Значение],
                    [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате]
                )
            ))
        ) 
    } on rows 
from [СТАТ_Мониторинг ситуации на рынке труда] 
where
(
[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы]
)

    ]]>
  </query>

  <query id = "STAT_0003_0004_grid">
    <![CDATA[ -- STAT_0003_0004_grid

--            <%selected_date%>

--            <%compare_date%>
 -- STAT_0003_0004_grid
with
    set [Территории]
    as '
    {[Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember}
    +
    except
        (
            {
                descendants
                (
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область],
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[МР ГО],
                    self_and_before
                )
            },
            {
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].datamember,
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область]
            }
        )'
    member [Measures].[Сумма задолженности по выплате заработной платы_Значение]
    as
        (
            [Measures].[Значение],
            --[Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Сумма задолженности по выплате заработной платы],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы],
            <%selected_date%>
            --[Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 1].[Квартал 2].[май].[1]
        )
    member [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения]
    as
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы],
            <%compare_date%>
            --[Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 1].[Квартал 2].[апрель].[1]
        )
    member [Measures].[Сумма задолженности по выплате заработной платы_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Сумма задолженности по выплате заработной платы_Значение]
            ) or IsEmpty
            (
                [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения]
            ),
            null,
            [Measures].[Сумма задолженности по выплате заработной платы_Значение] - [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения]
        )'
    member [Measures].[Сумма задолженности по выплате заработной платы_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Сумма задолженности по выплате заработной платы_Значение]
            ) or IsEmpty
            (
                [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения]
            ) or [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Сумма задолженности по выплате заработной платы_Значение] / [Measures].[Сумма задолженности по выплате заработной платы_Значение для сравнения] - 1
            )
        )'
    member [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение]
    as
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате],
            <%selected_date%>
        )
    member [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения]
    as
        (
            [Measures].[Значение],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате],
            <%compare_date%>
            --[Период__Период].[Период__Период].[Данные всех периодов].[2011].[Полугодие 1].[Квартал 2].[апрель].[1]
        )
    member [Measures].[Кол-во граждан, перед которыми имеется задолженность_Прирост]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение]
            ) or IsEmpty
            (
                [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения]
            ),
            null,
            [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение] - [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения]
        )'
    member [Measures].[Кол-во граждан, перед которыми имеется задолженность_Темп прироста]
    as 'iif
        (
            IsEmpty
            (
                [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение]
            ) or IsEmpty
            (
                [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения]
            ) or [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения] = 0,
            null,
            (
                [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение] / [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение для сравнения] - 1
            )
        )'

    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы, тысяч рублей]
    as 'null'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате, человек]
    as 'null'
    set [Показатели]
    as '
        {
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы, тысяч рублей],
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате, человек]
        }'
    member [Measures].[Значение показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы, тысяч рублей],
       [Measures].[Сумма задолженности по выплате заработной платы_Значение],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате, человек],
       [Measures].[Кол-во граждан, перед которыми имеется задолженность_Значение],
       null
       ))'
    member [Measures].[Темп прироста показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы, тысяч рублей],
       [Measures].[Сумма задолженности по выплате заработной платы_Темп прироста],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате, человек],
       [Measures].[Кол-во граждан, перед которыми имеется задолженность_Темп прироста],
       null
       ))'
    member [Measures].[Прирост показателя]
    as 'iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы, тысяч рублей],
       [Measures].[Сумма задолженности по выплате заработной платы_Прирост],
       iif(
       [Показатели__Рынок труда].[Показатели__Рынок труда].CurrentMember is [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате, человек],
       [Measures].[Кол-во граждан, перед которыми имеется задолженность_Прирост],
       null
       ))'
select
    [Показатели] on columns,
    {[Территории] * {{[Measures].[Значение показателя]} + {[Measures].[Темп прироста показателя]} + {[Measures].[Прирост показателя]}}} on rows
from [СТАТ_Мониторинг ситуации на рынке труда]

    ]]>
  </query>

  <query id = "STAT_0003_0004_map1">
    <![CDATA[ -- STAT_0003_0004_map1
with
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Краткое наименование района]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Краткое наименование")'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Код объекта карты]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Код объекта карты")'
    set [Субъекты округа]
    as 'except
        (
            {
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].children
            },
            {
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Сибирский федеральный округ].[Новосибирская область].DataMember
            }
        )'
select
    [Субъекты округа] on rows ,
    non empty
    {
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Краткое наименование района],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Код объекта карты],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность работников, перед которыми присутствует просроченная задолженность по заработной плате],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Суммарный объем просроченной задолженности по выплате заработной платы]
    }  on columns
from [СТАТ_Мониторинг ситуации на рынке труда]
where
    (
        [Measures].[Значение],
   <%selected_date%>
    )
    ]]>
  </query>

  <query id="STAT_0003_0004_map2">
    <![CDATA[ -- STAT_0003_0004_map2
with
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию ]
    as 'iif
        (
            IsEmpty
            (
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан]
            ) or
            (
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан] = 0
            ) or IsEmpty
            (
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
            ) or
            (
                [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий] = 0
            ),
            null,
            [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан] / [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий]
        )'
    member [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Краткое наименование района]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Краткое наименование")'
select
    {
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Число зарегистрированных безработных в расчёте на 1 вакансию ],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность безработных граждан],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Численность вакансий],
        [Показатели__Рынок труда].[Показатели__Рынок труда].[Все].[Краткое наименование района]
    } on columns,
    Filter
    (
        [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].Children,
        not
        (
            [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember is [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Parent.DataMember
        )
    ) on rows
from [СТАТ_Мониторинг ситуации на рынке труда]
where
    (
        <%selected_date%>,
        [Источники данных].[Источники данных].[Все источники данных].[СТАТ Отчетность - ДТиЗ ХМАО-Югры],
        [Measures].[Значение]
    )
   ]]>
  </query>
  
</root>