<?xml version="1.0" encoding="windows-1251"?>
<root>

<query id="UFK_0018_0001_data">
    <![CDATA[
    --UFK_0018_0001_data--
  with
    member Measures.[ДанныеНа]
    as ' [Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
            Filter
            (
               [Период__Период].[Период__Период].[Месяц].Members,
                not IsEmpty( [Measures].[Сумма выплат за период] )
            ),
            1
        )
    } on rows
from   [УФК_Сводная ведомость кассовых выплат из бюджета]  
    ]]>
  </query>
  
  
<query id="UFK_0018_0001_Grid">
    <![CDATA[
    --UFK_0018_0001_Grid
    WITH       
    SET [Раздел/подраздел] 
    as 'Filter 
        (
            Descendants 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР],
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Подраздел],
                SELF_AND_BEFORE 
            ),
            not 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember.Parent.DataMember 
            )and not 
            (
                [РзПр__Сопоставимый].[РзПр__Сопоставимый].CurrentMember is [РзПр__Сопоставимый].[РзПр__Сопоставимый].[Все коды ФКР].[Несопоставленные данные] 
            ) 
        )' 
    SET [Вид расходов] 
    as 'Filter 
        (
            Descendants 
            (
                [КВР__Сопоставим].[КВР__Сопоставим].[Все виды расходов],
                [КВР__Сопоставим].[КВР__Сопоставим].[Вид расходов],
                SELF_AND_BEFORE 
            ),
            not 
            (
                [КВР__Сопоставим].[КВР__Сопоставим].CurrentMember is [КВР__Сопоставим].[КВР__Сопоставим].CurrentMember.Parent.DataMember 
            ) and  not 
            (
                [КВР__Сопоставим].[КВР__Сопоставим].CurrentMember is [КВР__Сопоставим].[КВР__Сопоставим].[Все виды расходов].[Несопоставленные данные] 
            ) 
        )'
        SET [КОСГУ]       
    as 'Filter   
        (
            Descendants 
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Все коды ЭКР],
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].[Подстатья],
                SELF_AND_BEFORE     
            ),
            not   
            (
                [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember is [КОСГУ__Сопоставимый].[КОСГУ__Сопоставимый].CurrentMember.Parent.DataMember   
            )   
        )'
    SET [Районы с поселениями]     
    as '    Descendants 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Новосибирская область (Консолидированный)].[Муниципальные районы],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 05],
                SELF_AND_BEFORE     
            )'    
    SET [Городские округа]     
    as 'Filter   
        (
            Descendants 
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Новосибирская область (Консолидированный)].[Городские округа],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень 05],
                SELF_AND_BEFORE     
            ),
            not  
            (
                [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.Parent.DataMember  
            )  
        )'    
    member [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]      
    as 'Sum    
        (
            {
                [Районы с поселениями],
                [Городские округа],
                [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Новосибирская область (Консолидированный)].[Новосибирская Область (Бюджет Субъекта)]    
            },
            [Measures].[Сумма выплат за период]    
        )'
        member [Measures].[Сумма выплат за период ]
        as '[Measures].[Сумма выплат за период]/1000'
       member [Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень]
       as '<%dim%>.CurrentMember.Properties("LEVEL_NUMBER")'
Select
 non empty   {
        [Районы с поселениями],
        [Городские округа],
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].[Новосибирская область (Консолидированный)].[Новосибирская Область (Бюджет Субъекта)],
        [Районы__Сопоставимый].[Районы__Сопоставимый].[Итого]
<%correct%>,[Районы__Сопоставимый].[Районы__Сопоставимый].[Уровень]
    } on rows,
 non empty   {Filter   
        ([<%KBK%>],
            not isempty  
            (
               [Measures].[Сумма выплат за период]   
            ) )} on columns       
from [УФК_Сводная ведомость кассовых выплат из бюджета]        
where    
    (
        [Measures].[Сумма выплат за период],
        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>]
    )    
    ]]>
  </query>

 
</root>