<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="date">
    <![CDATA[
-- fo_0035_0001_date
-- <#[ФО_Исполнение кассового плана]#>
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
           Filter
           ( 
             NonEmptyCrossjoin({[Период].[Период].Members}),
             (
                      [Период].[Период].CurrentMember.Name <> "Остатки на начало года"
                  ) and 
                  (
                      [Период].[Период].CurrentMember.Name <> "Данные квартала"
                  ) and 
                  (
                      [Период].[Период].CurrentMember.Name <> "Данные полугодия"
                  ) and 
                  (
                      [Период].[Период].CurrentMember.Name <> "Данные года"
                  )  and 
                  (
                      [Период].[Период].CurrentMember.Name <> "Январь"
                  )  and 
                  (
                      [Период].[Период].CurrentMember.Name <> "Декабрь"
                  )  
          )
        )
    } on rows 
from [ФО_Исполнение кассового плана] 

	]]>
  </query>

  <query id="fo_0035_0001_Execute">
    <![CDATA[
-- fo_0035_0001_Execute
with     
    member Measures.[Код]     
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].CurrentMember.Properties("Код")'   
    member [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Доходы бюджета автономного округа]
    as '[Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Доходы областного бюджета]'
select
    {
        Measures.[Код],
        [Measures].[План_Нарастающий итог],
        [Measures].[Факт_Нарастающий итог]     
    } on columns,
    Filter     
    (
        {
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Остаток средств на начало квартала],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[КАССОВЫЕ ПОСТУПЛЕНИЯ - ВСЕГО],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Доходы бюджета автономного округа],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[в том числе:],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[собственные],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налог на прибыль организаций],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налог на доходы физических лиц],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[Налоги на имущество],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[безвозмездные поступления],
            [Показатели__ИспКасПлан].[Показатели__ИспКасПлан].[Все].[КАССОВЫЕ ВЫПЛАТЫ - ВСЕГО]
        },
        not IsEmpty    
        (
            [Measures].[План_Нарастающий итог]    
        )    
    )on rows     
from [ФО_Исполнение кассового плана]     
where     
    (
        [Период].[Период].[Данные всех периодов]<%period_cur_date%>  
    )    
	]]>
  </query>

  <query id="fo_0035_0001_ExecuteOutcome">
    <![CDATA[
-- fo_0035_0001_ExecuteOutcome
with 
    member Measures.[КВСР] 
    as '[Администратор].[ИспКасПланСопост].CurrentMember.Properties("Код")' 
    member [Администратор].[ИспКасПланСопост].[Расходы - всего ] 
    as 'Aggregate({[Администраторы]})' 
    set [Администраторы] 
    as '{[Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Расходы- всего]} + 
        [Администратор].[ИспКасПланСопост].[ГРБС].Members - 
        {
            [Администратор].[ИспКасПланСопост].[Все].[Несопоставленные данные]
        }' 
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Заработная плата ]
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Заработная плата]'
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Капитальные вложения ]
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Увеличение стоимости основных средств]'    
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Коммунальные услуги ]
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Коммунальные расходы]'      
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Безвозмездные перечисления другим бюджетам бюджетной системы РФ ]
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Межбюджетные трансферты]'         
    member [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Итого ]
    as '[Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Все].[Итого]'        
select
    {
        {
            {
                [Расходы].[ИспКасПлан].[Все].['Значение не указано'] 
            } 
            *{Measures.[КВСР]} 
        } + 
        {
            {
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Заработная плата ],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Капитальные вложения ],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Коммунальные услуги ],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Безвозмездные перечисления другим бюджетам бюджетной системы РФ ],
                [Расходы__ИспКасПлан].[Расходы__ИспКасПлан].[Итого ]
            }
            * 
            {
                [Measures].[План_Нарастающий итог],
                [Measures].[Факт_Нарастающий итог]   
            } 
        } 
    } on columns,
    {
        [Администраторы] 
    } on rows 
from [ФО_Исполнение кассового плана_Расходы]
where   
    (
        [Период].[Период].[Данные всех периодов]<%period_cur_date%>  
    )

	]]>
  </query>
</root>