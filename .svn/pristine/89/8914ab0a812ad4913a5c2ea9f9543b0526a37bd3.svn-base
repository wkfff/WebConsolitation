<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0047_0005_grid">
    <![CDATA[
-- FO_0047_0005_grid
with   

    set [КОСГУ]   
    as 'Filter  
        (
            Descendants  
            (
                [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:],
                [Задолженность].[Показатели].[СубКОСГУ],
                SELF_AND_BEFORE  
            )  - {[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]},
            not  
            (
                [Задолженность].[Показатели].CurrentMember is [Задолженность].[Показатели].CurrentMember.Parent.DataMember 
            ) and
            not 
            (  
               ("<%period_year%>" = "2011") and 
               ([Задолженность].[Показатели].CurrentMember.Name = "Социальное обеспечение")
            )
        )'

    member [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]   
    as 'Aggregate   
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]   
            }   
        )'    
  
    member [Задолженность].[Показатели].[Задолженность ВСЕГО ] 
    as '[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]'    
    member [Measures].[Уровень]
    as 'IIF
        (
            [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[Итого],
            0,
            1
        )'
    member [Measures].[Факт ]   
    as '[Measures].[Факт] / 1000'   
    
    set [МО]  
    as ' Filter 
        (
            Descendants 
            (
                [Районы].[Сопоставимый].[Все районы].[Вологодская область],
                [Районы].[Сопоставимый].[Уровень 04],
                SELF 
            ),
            not  
            (
                [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].CurrentMember.Parent.DataMember 
            ) 
        )'   
    member [Районы].[Сопоставимый].[Итого] 
    as 'Aggregate({[МО]})'    
select
    {
        {
            {<%means_type%>}  
            * 
            {
                [КОСГУ] + 
                {
                    [Задолженность].[Показатели].[Задолженность ВСЕГО ] 
                }
            } 
            * {[Measures].[Факт ]}   
        } +   
        {
            {[Тип средств].[СКИФ].[Все]}   
            *   
            {
                [Задолженность].[Показатели].[Задолженность Всего]
            }   
            *{[Measures].[Уровень]}   
        }   
    } on columns,
    {
        [МО] + 
        {
            [Районы].[Сопоставимый].[Итого]
        } 
    } on rows 
from [ФО_Задолженность_КзДз]   
where   
    (
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
        [Задолженность].[Вид задолженности].[Все].[<%debt_kind%>],
        [Задолженность].[Направления финансирования].[Все].[По смете, всего],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]  
    )                   
  ]]>
  </query>

  <query id="FO_0047_0005_debtKind">
    <![CDATA[
-- FO_0047_0005_debtKind
with 
    set [Задолженности] 
    as '{
            [Задолженность].[Вид задолженности].[Все].[Дебиторская задолженность],
            [Задолженность].[Вид задолженности].[Все].[Кредиторская задолженность]
        }'  
 
    member [Measures].[Имя] 
    as '[Задолженность].[Вид задолженности].CurrentMember.Name'
    member [Measures].[Уникальное имя] 
    as '[Задолженность].[Вид задолженности].CurrentMember.UniqueName'
    member [Measures].[Уровень] 
    as '0' 

select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    [Задолженности]  on rows
from [ФО_Задолженность_КзДз] 
  ]]>
  </query>

  <query id="FO_0047_0005_meansType">
    <![CDATA[
-- FO_0047_0005_meansType
with
    set [Типы средств]
    as '
        {
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]
        }'
    member [Тип средств].[СКИФ].[Всего по бюджетным и внебюджетным средствам]
    as 'Aggregate
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]
            }
        )'
    member [Measures].[Имя]
    as '[Тип средств].[СКИФ].CurrentMember.Name'
    member [Measures].[Уникальное имя]
    as '[Тип средств].[СКИФ].CurrentMember.UniqueName'
    member [Measures].[Уровень]
    as '0'

select
    {
        [Measures].[Имя],
        [Measures].[Уникальное имя],
        [Measures].[Уровень]
    } on columns,
    [Типы средств] on rows
from [ФО_Задолженность_КзДз]
  ]]>
  </query>

  <query id="FO_0047_0005_kosguDigest">
    <![CDATA[
-- FO_0047_0005_kosguDigest
with  
        set [КОСГУ]
    as 'Filter
        (
            Descendants
            (
                [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:],
                [Задолженность].[Показатели].[СубКОСГУ],
                SELF_AND_BEFORE
            ) - {[Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]},
            not
            (
                [Задолженность].[Показатели].CurrentMember is [Задолженность].[Показатели].CurrentMember.Parent.DataMember
            )
        )'
    member [Measures].[Имя]  
    as '[Задолженность].[Показатели].CurrentMember.Name'
    member [Measures].[Тип]
    as '[Задолженность].[Показатели].CurrentMember.Properties("Код")'
select
    {
        [Measures].[Имя],
        [Measures].[Тип]
    } on columns,
    [КОСГУ] on rows
from [ФО_Задолженность_КзДз]  
  ]]>
  </query>

</root>