<?xml version="1.0" encoding="Windows-1251"?>
<root>
  <query id="FO_0035_0027_date">
    <![CDATA[
-- FO_0035_0027_date
with
    member [Measures].[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
    set [NonEmptySet]
    as 'Tail
        (
            Filter
            (
                Descendants
                (
                    [Период__Период].[Период__Период].[Данные всех периодов],
                    [Период__Период].[Период__Период].[День],
                    SELF
                ),
                not IsEmpty
                (
                    (
                        [Measures].[ЛБО]
                    )
                ) and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные месяца" and
                [Период__Период].[Период__Период].CurrentMember.Name <> "Заключительные обороты"
            ),
            1
        )'
select
    { [Measures].[ДанныеНа] } on columns,
    { [NonEmptySet] } on rows
from   [ФО_Бюджетные обязательства]
  ]]>
</query>

<query id="FO_0035_0027_Grid">
    <![CDATA[
-- FO_0035_0027_Grid  
with    
    member [Measures].[Лимиты бюджетных обязательств на год] 
    as 'IIF ([Measures].[ЛБО] = 0, null,[Measures].[ЛБО] / 1000)' 
    member [Measures].[Поставлено на учет бюджетных обязательств с начала года] 
    as 'IIF ([Measures].[Учтено БО] = 0, null,[Measures].[Учтено БО] / 1000)' 
    member [Measures].[Поставлено на учет бюджетных обязательств текущим днем] 
    as 'IIF ([Measures].[Учтено БО за период] = 0, null,[Measures].[Учтено БО за период] / 1000)' 
    member [Measures].[Бюджетные обязательства на рассмотрении] 
    as 'IIF ([Measures].[БО на рассмотрении] = 0, null,[Measures].[БО на рассмотрении] / 1000)' 
    member [Measures].[Свободный остаток лимитов бюджетных обязательств] 
    as 'IIF ([Measures].[Остаток ЛБО] = 0, null,[Measures].[Остаток ЛБО] / 1000)' 
    member [Measures].[Процент от лимита бюджетных обязательств на год] 
    as '[Measures].[Процент от ЛБО]' 
select
    {
        <%selected_period%>  
    } on columns,
    {
        {            
            [Measures].[Лимиты бюджетных обязательств на год],
            [Measures].[Поставлено на учет бюджетных обязательств с начала года],
            [Measures].[Поставлено на учет бюджетных обязательств текущим днем],
            [Measures].[Свободный остаток лимитов бюджетных обязательств],
            [Measures].[Процент от лимита бюджетных обязательств на год],
            [Measures].[Бюджетные обязательства на рассмотрении] 
        }   
    } on rows   
from   [ФО_Бюджетные обязательства]
  ]]>
</query>

  <query id="FO_0035_0027_chart">
    <![CDATA[
-- FO_0035_0027_chart  
with      
    member [Measures].[БО на рассмотрении ]     
    as '[Measures].[БО на рассмотрении] / 1000 ' 
    member [Measures].[Свободный остаток ЛБО]     
    as '[Measures].[Остаток ЛБО] / 1000'    
     member [Measures].[БО на рассмотрении в пределах остатков ЛБО]    
    as ' IIF  
        (
            [Measures].[Свободный остаток ЛБО] < 0,
            0,
            IIF  
            (
                [Measures].[Превышение остатка] > 0,
                [Measures].[БО на рассмотрении ],
                [Measures].[Свободный остаток ЛБО]    
            )    
        )'  
    member [Measures].[Превышение БО на рассмотрении над остатками ЛБО]    
    as 'IIF    
        (
            [Measures].[Превышение остатка] < 0 and [Measures].[Свободный остаток ЛБО] >= 0,
            [Measures].[Превышение остатка]  
            * -1,
            IIF 
            (
                [Measures].[Свободный остаток ЛБО] < 0,
                [Measures].[БО на рассмотрении ],
                0  
            ) 
        )'    
    member [Measures].[Превышение остатка]  
    as '[Measures].[Свободный остаток ЛБО] - [Measures].[БО на рассмотрении ]'  
member [Measures].[Имя] 
    as '[Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].CurrentMember.Properties("Краткое наименование")' 
select
    {
        [Measures].[Имя],
        [Measures].[БО на рассмотрении в пределах остатков ЛБО],
        [Measures].[Превышение БО на рассмотрении над остатками ЛБО]  
    } on columns,    
      filter
    (
        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[ГРБС].Members,
        not isEmpty 
        (
            [Measures].[Свободный остаток ЛБО]
        ) and not [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].CurrentMember is
        [Администратор__ИспКасПланСопост].[Администратор__ИспКасПланСопост].[Все].[Несопоставленные данные]
        and not ([Measures].[БО на рассмотрении] = 0)
    )   on rows 
from   [ФО_Бюджетные обязательства]     
where     
    (
         <%selected_period%>  
    )     
  ]]>
  </query>

</root>