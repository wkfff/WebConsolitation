<?xml version="1.0" encoding="utf-8"?>
<root>
  <query id = "AllYear">
    <![CDATA[--Period   
with   
    member [UniqueNameYear]
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'
    member [UniqueNameProvai]
    as '[Источники данных].[Источники данных].currentmember.UniqueName'

select
    non empty    
    {
    Filter(
        [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Год].members 
        , [Measures].[Значение отчётного года] > 0)
    }on rows ,
    non empty    
    {
    [UniqueNameProvai],
        [UniqueNameYear]--,        [Источники данных].[Источники данных].[Все источники данных].children
    }   on columns
FROM [РЕГИОН_Оценка ОМСУ] ]]>
 </query>
  <query id = "Grid">
    <![CDATA[with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [UniqueNameProvai]  
    as '[Источники данных].[Источники данных].currentmember.UniqueName'  
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'  
    member [Районы__Анализ].[Районы__Анализ].[Unit]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'  
    member [Районы__Анализ].[Районы__Анализ].[CountZero]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
    member [Районы__Анализ].[Районы__Анализ].[dm]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
select
    non empty  
    {
      <%FilterGrid%>   
    }on rows    ,
    non empty  
    {
        Crossjoin
        (
            {                
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children
                 filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {[CurrentPeriiod],
            [PrevPeriiod]}
        )     
    } on columns  
FROM [РЕГИОН_Оценка ОМСУ]  
where  
    (
        <%Scope%>,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]  
    )]]></query>
  
  <query id = "Общее образование;3.1">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]' 
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.1" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.2"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
                        --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
                        <%SelectRegion%>
                    )  
                ) and not
                (
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "6" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "2" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ))
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
                        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Общее образование] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )   
]]>
  </query>
  <query id = "Общее образование;3.2">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]' 
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.2" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.3"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
                        --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
                        <%SelectRegion%>
                    )  
                ) and not
                (
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "6" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "2" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ))
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
                                    filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Общее образование] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )   
]]>
  </query>

  <query id = "Здравоохранение;3.1">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'   
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'  
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.1" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.2"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
--[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
<%SelectRegion%>
                    )  
                ) and not
                (
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "6" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "2" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ))
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
                                    filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]  
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Здравоохранение;3.2">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'   
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.2" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.3"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
--[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
<%SelectRegion%>
                    )  
                ) and not
                (
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "6" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "2" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ))
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
                                    filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Здравоохранение;3.3">
    <![CDATA[with   
    member [UniqueNameYear]   
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'   
    member [UniqueNameProvai]   
    as '[Источники данных].[Источники данных].currentmember.UniqueName'   
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'   
    member [Районы__Анализ].[Районы__Анализ].[Unit]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'   
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Measures].[NumberOfStruct]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[CountZero]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'   
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]   
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'   
    member [num]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'   
    member [Районы__Анализ].[Районы__Анализ].[dm]   
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'   
    member [2010]   
    as '[Measures].[Значение отчётного года]'   
    member [2009]   
    as '[Measures].[Значение предыдущего года]'
    member [CurrentPeriiod]  
    as '[Measures].[Значение отчётного года]'  
    member [PrevPeriiod]  
    as '[Measures].[Значение предыдущего года]'
    member [Районы__Анализ].[Районы__Анализ].[reverce]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Обратный показатель")'
select
    {
        Order   
        (
            Filter   
            (
                Filter   
                (
                    {
                        [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
                    } ,
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] >=
                     "3.3" and [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] < "3.4"
                )  ,
                not IsEmpty  
                (
                    (
                        [Measures].[Значение отчётного года],
--[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]                        
<%SelectRegion%>
                    )  
                ) and not
                (
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ) or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.3.3.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.1.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.1" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "3.1.2.5" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                
                 or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "6" and not [Районы__Анализ].[Районы__Анализ].[dm]
                )
                or   
                (
                    [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "2" and not [Районы__Анализ].[Районы__Анализ].[dm]
                ))
            ) ,
            [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]   
        )   
    }   on rows ,
    {
        Crossjoin   
        (
            {
                [Районы__Анализ].[Районы__Анализ].[reverce],
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct],
                [Районы__Анализ].[Районы__Анализ].[Unit],
                [Районы__Анализ].[Районы__Анализ].[CountZero],
                --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children   
                                    filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
            },
            {
                [CurrentPeriiod],
                [PrevPeriiod]  
            }   
        )   
    }on columns   
FROM [РЕГИОН_Оценка ОМСУ]   
where   
    (
        [ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение],
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]   
    )     
]]>
  </query>
  <query id = "Chart1">
    <![CDATA[with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [UniqueNameProvai]  
    as '[Источники данных].[Источники данных].currentmember.UniqueName'  
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'  
    member [Районы__Анализ].[Районы__Анализ].[Unit]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'  
    member [Районы__Анализ].[Районы__Анализ].[CountZero]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'  
    member [Районы__Анализ].[Районы__Анализ].[dm]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [<%SelectYearCaption%>]  
    as '[Measures].[Значение отчётного года]'  
    member [<%SelectYearCaptionPrev%>]  
    as '[Measures].[Значение предыдущего года]'  
select
    non empty  
    {
        
        Filter  
        (
            {
                [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members   
            },
            not IsEmpty 
            (
                [Measures].[Значение отчётного года] 
            ) and  
            (
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "1"  
            )  
        )   
    }on rows    ,
    non empty  
    {



            {
            [<%SelectYearCaptionPrev%>],
            [<%SelectYearCaption%>]}

    } on columns  
FROM [РЕГИОН_Оценка ОМСУ]  
where  
    (
        --[ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение] ,
        <%Scope%>,
        <%SelectRegion%>,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден]--,[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
    )  
]]>
  </query>

  <query id = "Chart2">
    <![CDATA[
    --Chart2
    with  
    member [UniqueNameYear]  
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'  
    member [UniqueNameProvai]  
    as '[Источники данных].[Источники данных].currentmember.UniqueName'  
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'  
    member [Районы__Анализ].[Районы__Анализ].[Unit]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'  
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'  
    member [Районы__Анализ].[Районы__Анализ].[CountZero]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'  
    member [Районы__Анализ].[Районы__Анализ].[dm]  
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.is_DataMember'  
    member [<%SelectYearCaption%>]  
    as '[Measures].[Значение отчётного года]'  
    member [<%SelectYearCaptionPrev%>]  
    as '[Measures].[Значение предыдущего года]'  
select
    non empty  
    {
      <%FilterChart2%>   
    }on rows    ,
    non empty  
    {
        [<%SelectYearCaptionPrev%>]
        ,[<%SelectYearCaption%>]
        
    } on columns  
FROM [РЕГИОН_Оценка ОМСУ]  
where  
    (<%Scope%>,[ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден],
    --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].[<%SelectRegion%>]
    <%SelectRegion%>)
]]>
  </query>

  <query id = "MAP">
    <![CDATA[with
    member [UniqueNameYear]
    as '[Период__Год Квартал Месяц].currentmember.UniqueName'
    member [UniqueNameProvai]
    as '[Источники данных].[Источники данных].currentmember.UniqueName'
    member [Районы__Анализ].[Районы__Анализ].[CurrentSphere]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Сфера неэффективных расходов")'
    member [Районы__Анализ].[Районы__Анализ].[Unit]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Единица измерения")'
    member [Районы__Анализ].[Районы__Анализ].[NumberOfStruct]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Номер в структуре")'
    member [Районы__Анализ].[Районы__Анализ].[CountZero]
    as '[ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].currentmember.Properties("Разрядность")'
    member [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].[11]
    as '[Районы__Анализ].[Районы__Анализ].currentmember.Properties("Тип территорий")'
    member [2010]
    as '[Measures].[Значение отчётного года]'
    member [2009]
    as '[Measures].[Значение предыдущего года]'
    member [del]
    as '100 - [Measures].[Значение отчётного года]'
    member [del2]
    as '100 - [Measures].[Значение предыдущего года]'
select
    non empty
    {
         Filter
        (

                [ОМСУ__Показатели ОМСУ].[ОМСУ__Показатели ОМСУ].members
            ,
                              not IsEmpty( [Measures].[Значение отчётного года]) and
            (
                [Районы__Анализ].[Районы__Анализ].[NumberOfStruct] = "1"
            )
        )
    }   on columns ,
    non empty
    {

            --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children
                                filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )


    }on rows
FROM [РЕГИОН_Оценка ОМСУ]
where
    (
        <%Scope%>,--[ОМСУ__Сфера неэффективных расходов].[ОМСУ__Сфера неэффективных расходов].[Все сферы].[Здравоохранение] ,
        [ОМСУ__Состояние данных].[ОМСУ__Состояние данных].[Все состояния].[Утвержден],
        [2010]
    ) 
]]>
  </query>
  
    <query id = "C2">
    <![CDATA[with
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[1]
    as 'null' --member
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[pri6]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Краткое наименование")'
    member [ОМСУ__Показатели].[ОМСУ__Показатели].[pri5]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Код объекта карты")'
select
    non empty
    {/*
filter(*/            
--[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].children
Except(
[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].children,
[Территории__Сопоставимый].[Территории__Сопоставимый].[РФ].[Российская Федерация].[Уральский федеральный округ].[Ханты-Мансийский автономный округ].DataMember)
/*,)<%Filter%>*/
    }on <%BC_R%>,
    non empty{
    [ОМСУ__Показатели].[ОМСУ__Показатели].[pri6],
    <%FieldGrid%>
/*[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка результативности в сфере «Образования»],
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка эффективности расходования бюджетных средств органами местного самоуправления в сфере "Образование"] ,
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Оценка населением результатов деятельности ОМСУ в сфере "Образование"],
[ОМСУ__Показатели].[ОМСУ__Показатели].[Всего].[Уровни].[Уровень эффективности деятельности ОМСУ в сфере "Образование"]*/
    } on <%BC_C%>
from [МО_Оценка ОМСУ_Характеристика деятельности]
where
(
	[Период__Год].[Период__Год].[Год].[<%year_%>]
)
]]>
  </query>
  <query id = "RegionAll">
    <![CDATA[with
member [UniqueNameYear]
as '[Районы__Анализ].[Районы__Анализ].CurrentMember.UniqueName'

select
non empty    {
[UniqueNameYear]
    }on columns         ,
non empty    {
        --[Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Ханты-Мансийский автономный округ Югра].children
                filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Муниципальные районы].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        ),
        filter(
        [Районы__Анализ].[Районы__Анализ].[Данные всех источников].[ФО\0006 Анализ данных - 2010].[Консолидированный бюджет - Новосибирская область].[Городские округа].children,
        not [Районы__Анализ].[Районы__Анализ].currentmember.is_datamember
        )
    }on rows
FROM [РЕГИОН_Оценка ОМСУ]     
]]>
  </query>
</root>