<?xml version="1.0" encoding="Windows-1251"?>
<root>

    <query id="Sport_0001_0003_population">
        <![CDATA[
-- Sport_0001_0003_population 
with
    set [Строки] 
    as '
        order
        (
            filter
            (
                descendants
                (
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация],
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Федеральный округ],
                    SELF 
                ),
                NOT [Территории__Сопоставимый].[Территории__Сопоставимый].currentMember.properties("IS_DATAMEMBER") 
            ),
            [Территории__Сопоставимый].[Территории__Сопоставимый].currentMember.name,
            BASC 
        )' 
select
    {
        [Measures].[Факт]
    } on columns,
    {
        [Строки]
    } on rows
from   [ФСГС_Численность населения]
where
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%param_year_last%>],
        [ФСГС__Численность населения].[ФСГС__Численность населения].[Все].[Все население],
        [Вариант__ФСГС Население].[Вариант__ФСГС Население].[Все].[Численность населения на 1 января]
    ) 
    ]]>
    </query>
    
    <query id="Sport_0001_0003_minsport">
        <![CDATA[
-- Sport_0001_0003_minsport
with 
    member [Measures].[Данные] 
    as ' 
        (
            filter 
            (
                [1ФК_Строки_сопоставимые].members,
                [1ФК_Строки_сопоставимые].[Строки_сопоставимые].currentMember.properties("Код") = "<%param_row%>" 
            ).item(0),
            filter 
            (
                [1ФК_Столбцы_сопоставимые].members,
                [1ФК_Столбцы_сопоставимые].[Столбцы_сопоставимые].currentMember.properties("Код") = "<%param_column%>" 
            ).item(0),
            [Measures].[Значение] 
        )' 
    set [Строки] 
    as '
        order
        (
            filter
            (
                descendants
                (
                    [Территории_сопоставимый].[Территории_сопоставимый].[All].[Российская  Федерация],
                    [Территории_сопоставимый].[Территории_сопоставимый].[Федеральный округ],
                    SELF 
                ),
                NOT [Территории_сопоставимый].[Территории_сопоставимый].currentMember.properties("IS_DATAMEMBER") 
            ),
            [Территории_сопоставимый].[Территории_сопоставимый].currentMember.name,
            BASC 
        )' 
select
    { [Measures].[Данные] } on columns,
    { [Строки] } on rows 
from [1-ФК] 
where ( [Год].[Год].[Все].[<%param_year_last%>] ) 
    ]]>
    </query>

    <query id="Sport_0001_0003_population_grid">
        <![CDATA[
-- Sport_0001_0003_population
with
    set [Строки] 
    as 'order
        (
            filter
            (
                descendants
                (
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация],
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Субъект РФ],
                    SELF_AND_BEFORE 
                ),
                NOT [Территории__Сопоставимый].[Территории__Сопоставимый].currentMember.properties("IS_DATAMEMBER") 
            ),
            [Территории__Сопоставимый].[Территории__Сопоставимый].currentMember.name,
            ASC 
        )' 
select
    {
        [Measures].[Факт]
    } on columns,
    {
        [Строки]
    } on rows
from   [ФСГС_Численность населения]
where
    (
        [Период__Период].[Период__Период].[Данные всех периодов].[<%param_year_last%>],
        [ФСГС__Численность населения].[ФСГС__Численность населения].[Все].[Все население],
        [Вариант__ФСГС Население].[Вариант__ФСГС Население].[Все].[Численность населения на 1 января]
    ) 
    ]]>
    </query>

    <query id="Sport_0001_0003_minsport_grid">
        <![CDATA[
-- Sport_0001_0003_minsport
with 
    member [Measures].[Данные] 
    as ' 
        (
            filter 
            (
                [1ФК_Строки_сопоставимые].members,
                [1ФК_Строки_сопоставимые].[Строки_сопоставимые].currentMember.properties("Код") = "<%param_row%>" 
            ).item(0),
            filter 
            (
                [1ФК_Столбцы_сопоставимые].members,
                [1ФК_Столбцы_сопоставимые].[Столбцы_сопоставимые].currentMember.properties("Код") = "<%param_column%>" 
            ).item(0),
            [Measures].[Значение] 
        )' 
    set [Строки] 
    as 'order
        (
            filter
            (
                descendants
                (
                    [Территории_сопоставимый].[Территории_сопоставимый].[All].[Российская  Федерация],
                    [Территории_сопоставимый].[Территории_сопоставимый].[Субъект РФ],
                    SELF_AND_BEFORE 
                ),
                NOT [Территории_сопоставимый].[Территории_сопоставимый].currentMember.properties("IS_DATAMEMBER") 
            ),
            [Территории_сопоставимый].[Территории_сопоставимый].currentMember.name,
            ASC 
        )' 
select
    { [Measures].[Данные] } on columns,
    { [Строки] } on rows 
from [1-ФК] 
where ( [Год].[Год].[Все].[<%param_year_last%>] ) 
    ]]>
    </query>
    
</root>
