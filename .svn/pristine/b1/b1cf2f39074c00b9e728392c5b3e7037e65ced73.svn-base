<?xml version="1.0" encoding="windows-1251"?>
<root>  
<query id="FO_0002_0047_date">
    <![CDATA[
--FO_0002_0047_date
with 
    member Measures.[ДанныеНа] 
    as '[Период].[Период].CurrentMember.UniqueName' 
select
    {Measures.[ДанныеНа]} on columns,
    Tail 
    (
        Filter 
        (
            OpeningPeriod 
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2009] 
            ) : ClosingPeriod 
            (
                [Период].[Период].[Месяц],
                [Период].[Период].[Данные всех периодов].[2013] 
            ),
            not IsEmpty([Measures].[Факт] ) 
        ) 
    ) on rows 
From [ФО_Задолженность_КзДз] 
Where
    (
      [Уровни бюджета].[СКИФ].[Все]
    )
  ]]>
  </query>
  
 <query id="FO_0002_0047_Grid">
<![CDATA[
--FO_0002_0047_Grid
   with
    member [Measures].[На первый квартал]
    as '
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[Полугодие 2].[Квартал 4]
        )/1000'
    member [Measures].[Аналогичный период прошлого года]
    as '
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>]
        )/1000'
    member [Measures].[Выбранный период]
    as '
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
        )/1000'
    member [Measures].[Темп роста к аналогичному периоду предыдущего года]
    as '
        (
            [Measures].[Темп роста_ аналогичный период прошлого года],
            [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
        )'
    member [Measures].[Темп роста к показателям на начало года]
    as 'IIF
        (
            IsEmpty
            (
                [Measures].[На первый квартал]
            ) or ([Measures].[На первый квартал])=0,
            null,
            (
                [Measures].[Выбранный период] /[Measures].[На первый квартал]
            )
        )'
    set [ГРБС]
    as 'Filter
        (
            Descendants
            (
                [Администратор].[Сопоставим].[Все администраторы],
                [Администратор].[Сопоставим].[Администратор],
                self
            ) ,
            not IsEmpty
            (
                [Measures].[Аналогичный период прошлого года]
            ) or not IsEmpty ( [Measures].[Выбранный период]) or not IsEmpty
            (
                [Measures].[На первый квартал]
            )
        )'
    set [Разделы]
    as 'Filter
        (
            (
                Descendants
                (
                    [РзПр].[Сопоставимый].[Все коды ФКР],
                    [РзПр].[Сопоставимый].[Раздел],
                    self
                )
            ) ,
            not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Несопоставленные данные] and  not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Итого внутренних оборотов] and  not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО]
        ) '
   
    member <%dimentions%>.[ ДЕБИТОРСКАЯ ЗАДОЛЖЕННОСТЬ, ВСЕГО]
    as 'Aggregate
        (
            {
               <%dimentions%>.[в том числе областной бюджет]
            }
        )'
    member <%dimentions%>.[КРЕДИТОРСКАЯ  ЗАДОЛЖЕННОСТЬ, ВСЕГО]
    as 'Aggregate
        (
            {
                <%dimentions%>.[в том числе областной бюджет]
            }
        )'
    member <%dimentions%>.[в том числе областной бюджет]
    as 'Aggregate( { <%list%> })'
  
    member [Тип средств].[СКИФ].[Внебюджетные и бюджетные средства ]
    as 'Aggregate
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]
            }
        )'
    member [Тип средств].[СКИФ].[Всего ]
    as '
        (
            [Тип средств].[СКИФ].[Внебюджетные и бюджетные средства ],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        )'
    member [Тип средств].[СКИФ].[Бюджетные средства ]
    as '
        (
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        )'
    member [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_бюджетные средства]
    as '
        (
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            <%type_kredit%>,
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        )'
    member [Тип средств].[СКИФ].[Внебюджетные средства ]
    as '
        (
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        )'
    member [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_внебюджетные средства]
    as '
        (
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            <%type_kredit%>,
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        )'
    member [Measures].[Уровень]
	as 'IIF(
	        
			 (
			   <%dimentions%>.CurrentMember is   <%dimentions%>.[ ДЕБИТОРСКАЯ ЗАДОЛЖЕННОСТЬ, ВСЕГО]
			 )or
			 (
			   <%dimentions%>.CurrentMember is  <%dimentions%>.[КРЕДИТОРСКАЯ  ЗАДОЛЖЕННОСТЬ, ВСЕГО]
			 ),
			 1,
			 IIF
			 (
			  ( 
			    <%dimentions%>.CurrentMember is <%dimentions%>.[в том числе областной бюджет]
			  ),
			  2,
			  0
			 )
			 
	    )'
      member <%dimentions%>.[Строка с произвольными данными для корректной работы формата] 
    as '1' 		
Select
    {
        {
            [Тип средств].[СКИФ].[Всего ],
            [Тип средств].[СКИФ].[Бюджетные средства ],
            [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_бюджетные средства],
            [Тип средств].[СКИФ].[Внебюджетные средства ],
            [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_внебюджетные средства]
        }
        *
        {
            <%list_measures%>
        }
		+
		{
		  [Тип средств].[СКИФ].[Всего ]
		}
		*
		{
		  [Measures].[Уровень]
		}
    }on columns,
    {
        {
            <%type_debit%>
        }
        *
        {
            {
			    <%first_str%>
                <%admin_type%>,
                <%dimentions%>.[в том числе областной бюджет]
            } + { <%list%> }
        } 
    }  on rows
From [ФО_Задолженность_КзДз]
Where
    (
        [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта]
    )   
  ]]>
</query>

<query id="FO_0002_0047_GridMO">
<![CDATA[
--FO_0002_0047_GridMO
     with                                       
    member [Measures].[На первый квартал]                                       
    as '                                       
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[Полугодие 2].[Квартал 4]                 
        )/1000'                                       
    member [Measures].[Аналогичный период прошлого года]                                        
    as '                                        
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[<%period_half_year%>].[<%period_quater%>]               
        )/1000'                                        
    member [Measures].[Выбранный период]                                        
    as '                                        
        (
            [Measures].[Факт],
            [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
        )/1000'                                        
    member [Measures].[Темп роста к аналогичному периоду предыдущего года]                                        
    as '                                        
        (
            [Measures].[Темп роста_ аналогичный период прошлого года],
            [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>]
        )'                                        
    member [Measures].[Темп роста к показателям на начало года]                                        
    as 'IIF                                        
        (
            IsEmpty                                        
            (
                [Measures].[На первый квартал]                                        
            ) or ([Measures].[На первый квартал])=0,
            null,
            (
                [Measures].[Выбранный период] /[Measures].[На первый квартал]                                        
            )                                        
        )'                                           
    set [МО]                         
    as 'Filter                         
        (
            (
                Descendants                         
                (
                    [Районы].[Сопоставимый].[Все районы],
                    [Районы].[Сопоставимый].[Уровень 04],
                    self                         
                )                         
            ) ,
            not IsEmpty                      
            (
                [Measures].[Аналогичный период прошлого года]                      
            ) or not IsEmpty ( [Measures].[Выбранный период]) or not IsEmpty                      
            (
                [Measures].[На первый квартал]                      
            )                      
        ) '                          
    member  [Районы].[Сопоставимый].[в том числе муниципальные образования] 
    as 'Aggregate ( {[МО]}  )'   
    member [Тип средств].[СКИФ].[Внебюджетные и бюджетные средства ]       
    as 'Aggregate               
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]               
            }               
        )'        
    member [Тип средств].[СКИФ].[Всего ]       
    as '       
        (
            [Тип средств].[СКИФ].[Внебюджетные и бюджетные средства ],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]       
        )'       
    member [Тип средств].[СКИФ].[Бюджетные средства ]        
    as '        
        (
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]        
        )'        
    member [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_бюджетные средства]        
    as '        
        (
            [Тип средств].[СКИФ].[Все].[Бюджетные средства],
            <%type_kredit%>,
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]        
        )'        
    member [Тип средств].[СКИФ].[Внебюджетные средства ]        
    as '        
        (
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]        
        )'        
    member [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_внебюджетные средства]             
    as '             
        (
            [Тип средств].[СКИФ].[Все].[Внебюджетные средства],
            <%type_kredit%>,
            [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]         
        )'      
    member [Measures].[Уровень]
	as 'IIF(
	         
			 [Районы].[Сопоставимый].CurrentMember is [Районы].[Сопоставимый].[в том числе муниципальные образования],
			 2,
			 0
		   )'		
Select
    {
        {
            [Тип средств].[СКИФ].[Всего ],
            [Тип средств].[СКИФ].[Бюджетные средства ],
            [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_бюджетные средства],
            [Тип средств].[СКИФ].[Внебюджетные средства ],
            [Тип средств].[СКИФ].[Просроченная дебиторская задолженность_внебюджетные средства]  
        }  
        *  
        {
            <%list_measures%>
        }  
		+
		{
		  [Тип средств].[СКИФ].[Всего ]
		}
		*
		{
		 [Measures].[Уровень]
		}
    }on columns,
    {
        {
            <%type_debit%>
        } 
        * 
        {
            {
                 [Районы].[Сопоставимый].[в том числе муниципальные образования]
            } <%mun_union%>
        } 
    }  on rows                      
From [ФО_Задолженность_КзДз]                                               
Where                                               
    (
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО]            
    )                                                
  ]]>
</query>

<query id="FO_0002_0047_Chart1">
 <![CDATA[ 
 --FO_0002_0047_Chart1
   with                                             
    set [МО]                              
    as ' Descendants                              
        (
            [Районы].[Сопоставимый].[Все районы],
            [Районы].[Сопоставимый].[Уровень 04],
            self                              
        )                              '  
    member [Тип средств].[СКИФ].[Все].[Бюджетные и внебюджетные средства]
    as 'Aggregate
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства] 
            } 
        )' 
    member [Measures].[Факт ]
    as '( [Measures].[Факт] / 1000 )'
Select
    {
        [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[Полугодие 2].[Квартал 4],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] 
    }on columns,
    NON EMPTy    { [МО] }  on rows 
From [ФО_Задолженность_КзДз]                                                    
Where                                                    
    (
        [Measures].[Факт ],
        [Уровни бюджета].[СКИФ].[Все].[Конс.бюджет МО],
        <%type_budget%>,
        <%measures%>,
        [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:]
        
    )                                                    
  
    ]]>
 </query>
    
    
<query id="FO_0002_0047_Chart2">
 <![CDATA[ 
 --FO_0002_0047_Chart2
    with  
    set [ГРБС]  
    as ' Descendants  
        (
            [Администратор].[Сопоставим].[Все администраторы],
            [Администратор].[Сопоставим].[Администратор],
            self  
        )  ' 
    set [Разделы]  
    as 'Filter  
        (
            (
                Descendants  
                (
                    [РзПр].[Сопоставимый].[Все коды ФКР],
                    [РзПр].[Сопоставимый].[Раздел],
                    self  
                )  
            ) ,
            not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Несопоставленные данные] and  not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Итого внутренних оборотов] and  not [РзПр].[Сопоставимый].Currentmember is [РзПр].[Сопоставимый].[Все коды ФКР].[Расходы бюджета - ИТОГО]  
        ) '   
    member [Тип средств].[СКИФ].[Все].[Бюджетные и внебюджетные средства]  
    as 'Aggregate  
        (
            {
                [Тип средств].[СКИФ].[Все].[Бюджетные средства],
                [Тип средств].[СКИФ].[Все].[Внебюджетные средства]  
            }  
        )'  
    member [Measures].[Факт ]  
    as '( [Measures].[Факт] / 1000 )'  
Select
    {
        [Период].[Период].[Данные всех периодов].[<%period_last_year%>].[Полугодие 2].[Квартал 4],
        [Период].[Период].[Данные всех периодов].[<%period_year%>].[<%period_half_year%>].[<%period_quater%>] 
    }on columns,
    NON EMPTy {<%list%>}  on rows
From [ФО_Задолженность_КзДз]  
Where  
    (
        [Measures].[Факт ],
        [Уровни бюджета].[СКИФ].[Все].[Бюджет субъекта],
        <%type_budget%>,
        [Задолженность].[Показатели].[Задолженность Всего].[Задолженность всего, в т.ч.:],
         <%measures%>
        
    )  
  ]]>
 </query>
 

</root>