<?xml version="1.0" encoding="windows-1251"?>
<root>

<query id="FNS_0006_0004_data">
<![CDATA[
--FNS_0006_0004_data--
with
    member Measures.[ДанныеНа]
    as '[Период__Период].[Период__Период].CurrentMember.UniqueName'
select
    {Measures.[ДанныеНа]} on columns,
    {
        Tail
        (
            Filter
            (
                [Период__Период].[Период__Период].[Месяц].Members,
                not IsEmpty( [Measures].[Годовые назначения])
            ),
            1
        )
    } on rows
from  [ФО_МесОтч_Доходы]
 ]]>
</query>

 <query id="FNS_0006_0004_grid1">
 <![CDATA[
   --FNS_0006_0004_grid1--
   with                       
    member Measures.[Факт ]   
    as '([Measures].[Факт] / 1000000)'                      
    member Measures.[Факт_за период ]   
    as '([Measures].[Факт_за период] / 1000000)'    
    set [Периоды]                   
    as 'Filter                   
        (
            <%year_descendants%>,
            not                  
            (
                [Период__Период].[Период__Период].CurrentMember is  [Период__Период].[Период__Период].CurrentMember.Parent.DataMember                  
            ) and           
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"           
            )and          
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные квартала"          
            )and         
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"        
            ) and        
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные года"       
            ) and    
            (
                [Период__Период].[Период__Период].CurrentMember.Level.Name <> "Полугодие"    
            ) 
        ) '      
    member Measures.[Год]      
    as 'IIF      
        (
            [Период__Период].[Период__Период].CurrentMember.Level.Name = "Месяц",
            [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Parent.Name,
            [Период__Период].[Период__Период].CurrentMember.Parent.Parent.Name      
        )'      
select
    { [Периоды] } on rows,
    {
        Measures.[Год] ,
        Measures.[Факт_за период ],
        Measures.[Факт ] 
    } on columns 
From   [ФО_МесОтч_Доходы]                        
Where                          
    (
        [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
        [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
        [КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ]                          
    )                           
  ]]>
</query>

<query id="FNS_0006_0004_grid2">
<![CDATA[
  --FNS_0006_0004_grid2--
 with                                 
    set [месяцы]                                 
    as 'Filter                              
        (
            Descendants                                 
            (
                [Период__Период].[Период__Период].[Данные всех периодов].[<%period_year%>],
                [Период__Период].[Период__Период].[Месяц],
                Self                                
            ),
            not                              
            (
                [Период__Период].[Период__Период].CurrentMember is [Период__Период].[Период__Период].CurrentMember.Parent.DataMember                             
            )and                             
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Данные полугодия"                            
            )and                            
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Значение не указано"                           
            ) and                           
            (
                [Период__Период].[Период__Период].CurrentMember.Name <> "Остатки на начало года"                          
            )  and not IsEmpty ( Measures.[Всего] )              
        )'                       
    member  [Measures].[С начала года ]                       
    as '                      
        (
            [Measures].[С начала года] /1000000                       
        )'                       
    member Measures.[Всего]                          
    as '                       
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего] ,
            [Measures].[С начала года ]                       
        )'                   
    member Measures.[Прирост недоимки с начала года_млн]                   
    as 'IIF              
        (
            [Период__Период].[Период__Период].CurrentMember.Level.Name = "Год",
            IIF       
            (
                IsEmpty       
                (
                    (
                        Measures.[Всего],
                        ParallelPeriod       
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].CurrentMember       
                        )        
                    )      
                ),
                null,
			  (
                Measures.[Всего] -                  
                (
                    Measures.[Всего],
                    ParallelPeriod                  
                    (
                        [Период__Период].[Период__Период].[Год],
                        1,
                        [Период__Период].[Период__Период].CurrentMember                  
                    )                 
                )                  
              )
			),
            (
                Measures.[Всего] -             
                (
                    Measures.[Всего],
                    [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>]             
                )             
            )             
        )'                
    member Measures.[Прирост недоимки с начала года_%]                
    as 'IIF             
        (
            [Период__Период].[Период__Период].CurrentMember.Level.Name = "Год",
            IIF             
            (
                IsEmpty                
                (
                    (
                        Measures.[Всего],
                        ParallelPeriod                
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].CurrentMember                
                        )                
                    )                
                )or               
                (
                    (
                        Measures.[Всего],
                        ParallelPeriod               
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].CurrentMember               
                        )               
                    )               
                ) =0,
                null,
                (
                    Measures.[Прирост недоимки с начала года_млн]  /                
                    (
                        Measures.[Всего],
                        ParallelPeriod                
                        (
                            [Период__Период].[Период__Период].[Год],
                            1,
                            [Период__Период].[Период__Период].CurrentMember                
                        )                
                    )*100                
                )                
            ),
            IIF            
            (
                IsEmpty            
                (
                    (
                        Measures.[Всего],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>]            
                    )            
                )or            
                (
                    (
                        Measures.[Всего],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>]            
                    )            
                ) =0,
                null,
                (
                    Measures.[Прирост недоимки с начала года_млн]    /            
                    (
                        Measures.[Всего],
                        [Период__Период].[Период__Период].[Данные всех периодов].[<%period_last_year%>]           
                    )*100            
                )            
            )            
        )'              
    member Measures.[Ранг по приросту недоимки]         
    as 'IIF      
        (
            [Период__Период].[Период__Период].CurrentMember.Level.Name = "Год",
            IIF
			(
			    IsEmpty   
                (
                    Measures.[Прирост недоимки с начала года_млн]   
                ),
                null,
			    Rank      
                (
                   [Период__Период].[Период__Период].CurrentMember,
                   Order         
                   (
                     Filter
				     ( 
				       {
                         <%years%>      
                       },
					    not IsEmpty
					     (
					       Measures.[Прирост недоимки с начала года_млн]
					      )
					 ),
                     -Measures.[Прирост недоимки с начала года_млн],
                     BASC       
                   ),
                   -Measures.[Прирост недоимки с начала года_млн]          
                )
		   ),
          null    
        )'     
    member Measures.[Федеральные налоги]                       
    as '                       
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Федеральные налоги и сборы] ,
            [Measures].[С начала года ]                       
        )'                       
    member Measures.[Федеральные налоги_%]    
    as 'IIF    
        (
            IsEmpty (  Measures.[Всего]) or (  Measures.[Всего]) = 0,
            null,
            (
                Measures.[Федеральные налоги]  /  Measures.[Всего]    
            )*100     
        )'    
    member Measures.[Региональные налоги]                      
    as '                      
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Региональные налоги и сборы],
            [Measures].[С начала года ]                      
        )'  
    member Measures.[Региональные налоги_%]  
    as 'IIF  
        (
            IsEmpty (  Measures.[Всего]) or (  Measures.[Всего]) = 0,
            null,
            (
                Measures.[Региональные налоги] /  Measures.[Всего] 
            )*100  
        )'  
    member Measures.[Местные налоги]                     
    as '                     
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Местные налоги и сборы],
            [Measures].[С начала года ]                     
        )' 
    member Measures.[Местные налоги_%] 
    as 'IIF 
        (
            IsEmpty (  Measures.[Всего]) or (  Measures.[Всего]) = 0,
            null,
            (
                Measures.[Местные налоги]   /  Measures.[Всего] 
            )*100 
        )' 
    member Measures.[Спец. налоговый режим]                     
    as '                     
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Налоги со специальным налоговым режимом],
            [Measures].[С начала года ]                     
        )' 
    member Measures.[Спец. налоговый режим_%] 
    as 'IIF 
        (
            IsEmpty (  Measures.[Всего]) or (  Measures.[Всего]) = 0,
            null,
            (
                Measures.[Спец. налоговый режим]  /  Measures.[Всего] 
            )*100 
        )' 
	member Measures.[Худший ранг] 
    as 'Max
        (
            {
              <%years%> 
            },
           Measures.[Ранг по приросту недоимки]
        )'
select
    Filter
    (
        {
           <%years%>                                 
        } 
		+
		{
		  [месяцы]
		},
		not IsEmpty
		(
		  Measures.[Всего]
		)
    )on rows,
    {
        Measures.[Всего] ,
        Measures.[Прирост недоимки с начала года_млн],
        Measures.[Прирост недоимки с начала года_%],
        Measures.[Ранг по приросту недоимки],
        Measures.[Федеральные налоги],
        Measures.[Федеральные налоги_%],
        Measures.[Региональные налоги],
        Measures.[Региональные налоги_%],
        Measures.[Местные налоги],
        Measures.[Местные налоги_%],
        Measures.[Спец. налоговый режим],
        Measures.[Спец. налоговый режим_%],
		Measures.[Худший ранг] 
    }on columns                       
From [ФНС_4 НМ_Сводный]                          
Where                                                   
    (
        [Задолженность__ФНС Сопоставимый].[Задолженность__ФНС Сопоставимый].[Все показатели].[Раздел I. Задолженность по налогам и сборам в бюджетную систему Российской Федерации].[ЗАДОЛЖЕННОСТЬ ПЕРЕД БЮДЖЕТОМ ПО НАЛОГАМ И СБОРАМ ВСЕГО В ТОМ ЧИСЛЕ:].[ВОЗМОЖНАЯ К ВЗЫСКАНИЮ ЗАДОЛЖЕННОСТЬ].[НЕДОИМКА]                         
    )                                                              
 ]]>
	
</query>
	
<query id="FNS_0006_0004_chart1">
<![CDATA[
 --FNS_0006_0004_chart1--
    with

    member  [Measures].[С начала года ]
    as '
        (
            [Measures].[С начала года] /1000000
        )'

    member Measures.[недоимка по федеральным налогам]
    as '
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Федеральные налоги и сборы] ,
            [Measures].[С начала года ]
        )'

    member Measures.[недоимка по региональным налогам]
    as '
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Региональные налоги и сборы],
            [Measures].[С начала года ]
        )'

    member Measures.[недоимка по местным налогам]
    as '
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Местные налоги и сборы],
            [Measures].[С начала года ]
        )'

    member Measures.[недоимка по налогам со специальным налоговым режимом]
    as '
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Налоги со специальным налоговым режимом],
            [Measures].[С начала года ]
        )'
       member Measures.[фактические поступления собственных доходов в консолидированный бюджет субъекта]
    as 'LookUpCube
        (
            "[ФО_МесОтч_Доходы]",
            "
            (
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Measures].[Факт],
				[КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                "+MemberToStr
                (
                    [Период__Период].[Период__Период].CurrentMember
                )+"
            )"
        )/1000000'
    member Measures.[общая сумма недоимки доходов]                          
    as '                       
        (
            [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего] ,
            [Measures].[С начала года ]                       
        )'  
select
    Filter
    (
        {
           <%years%> 
        },
		not IsEmpty 
		    (
			       Measures.[общая сумма недоимки доходов] 
			)
			
    )on rows,
    {
        Measures.[фактические поступления собственных доходов в консолидированный бюджет субъекта],
        Measures.[общая сумма недоимки доходов] 
    }on columns
From [ФНС_4 НМ_Сводный]
Where
    (
        [Задолженность__ФНС Сопоставимый].[Задолженность__ФНС Сопоставимый].[Все показатели].[Раздел I. Задолженность по налогам и сборам в бюджетную систему Российской Федерации].[ЗАДОЛЖЕННОСТЬ ПЕРЕД БЮДЖЕТОМ ПО НАЛОГАМ И СБОРАМ ВСЕГО В ТОМ ЧИСЛЕ:].[ВОЗМОЖНАЯ К ВЗЫСКАНИЮ ЗАДОЛЖЕННОСТЬ].[НЕДОИМКА]
    )
  ]]>
	</query>
<query id="FNS_0006_0004_chart2">
<![CDATA[
 --FNS_0006_0004_chart2--
  with                   
    member  [Measures].[С начала года ]                  
    as '                  
        (
            [Measures].[С начала года] /1000000                  
        )'                   
    member Measures.[доля недоимки по федеральным налогам]          
    as 'IIF             
        (
            IsEmpty(Measures.[Итого за год] )or (Measures.[Итого за год] ) = 0,
            null,
            (
                [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Федеральные налоги и сборы] ,
                [Measures].[С начала года ]                 
            )/ Measures.[Итого за год]          
        )     '     
    member Measures.[доля недоимки по региональным налогам]          
    as 'IIF       
        (
            IsEmpty (Measures.[Итого за год] ) or (Measures.[Итого за год] )=0,
            null,
            (
                [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Региональные налоги и сборы],
                [Measures].[С начала года ]                 
            )/ (Measures.[Итого за год] )      
        )'                   
    member Measures.[доля недоимки по местным налогам]         
    as ' IIF     
        (
            IsEmpty(Measures.[Итого за год] ) or (Measures.[Итого за год] ) =0 ,
            null,
            (
                [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Местные налоги и сборы],
                [Measures].[С начала года ]                 
            )/ ( Measures.[Итого за год] )    
        )'                   
    member Measures.[доля недоимки по налогам со специальным налоговым режимом]        
    as ' IIF    
        (
            IsEmpty (Measures.[Итого за год] ) or (Measures.[Итого за год] )=0,
            null,
            (
                [Доходы__Группы].[Доходы__Группы].[Все показатели].[Всего].[Налоги со специальным налоговым режимом],
                [Measures].[С начала года ]                 
            )/ (Measures.[Итого за год] ) 
        )'                   
    member Measures.[Итого за год]                  
    as 'LookUpCube                 
        (
            "[ФО_МесОтч_Доходы]",
            "               
            (
                [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Все].[Конс.бюджет субъекта],
                [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Все].[Консолидированная отчетность и отчетность внебюджетных территориальных фондов],
                [Measures].[Факт],
				[КД__Сопоставимый].[КД__Сопоставимый].[Все коды доходов].[НАЛОГОВЫЕ И НЕНАЛОГОВЫЕ ДОХОДЫ],
                "+MemberToStr              
                (
                    [Период__Период].[Период__Период].CurrentMember               
                )+"              
            )"                
        )/1000000'          
select
    NON EMPTY                  
    {
        {
           <%years%>                 
        }                  
    }on rows,
    {
        Measures.[доля недоимки по федеральным налогам],
        Measures.[доля недоимки по региональным налогам],
        Measures.[доля недоимки по местным налогам],
        Measures.[доля недоимки по налогам со специальным налоговым режимом]        
    }on columns                  
From [ФНС_4 НМ_Сводный]                  
Where                  
    (
        [Задолженность__ФНС Сопоставимый].[Задолженность__ФНС Сопоставимый].[Все показатели].[Раздел I. Задолженность по налогам и сборам в бюджетную систему Российской Федерации].[ЗАДОЛЖЕННОСТЬ ПЕРЕД БЮДЖЕТОМ ПО НАЛОГАМ И СБОРАМ ВСЕГО В ТОМ ЧИСЛЕ:].[ВОЗМОЖНАЯ К ВЗЫСКАНИЮ ЗАДОЛЖЕННОСТЬ].[НЕДОИМКА]                  
    )                  

  ]]>
</query>
	
</root>