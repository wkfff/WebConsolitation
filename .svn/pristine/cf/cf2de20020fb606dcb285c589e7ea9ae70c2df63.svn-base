2017-10-27 16:24:01,796 [11] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в NHibernate.Engine.StatefulPersistenceContext.AddCollection(IPersistentCollection coll, CollectionEntry entry, Object key)
   в NHibernate.Engine.StatefulPersistenceContext.AddUninitializedCollection(ICollectionPersister persister, IPersistentCollection collection, Object id)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:24:02,021 [25] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в NHibernate.Type.GenericBagType`1.Instantiate(ISessionImplementor session, ICollectionPersister persister, Object key)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:24:20,032 [10] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в NHibernate.Type.GenericBagType`1.Instantiate(ISessionImplementor session, ICollectionPersister persister, Object key)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:24:07,954 [5] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - <log4net.Error>Exception rendering object type [System.OutOfMemoryException]<stackTrace>System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в System.String.GetStringForStringBuilder(String value, Int32 startIndex, Int32 length, Int32 capacity)
   в System.Text.StringBuilder.GetNewString(String currentString, Int32 requiredLength)
   в System.Text.StringBuilder.Append(String value)
   в System.Diagnostics.StackTrace.ToString(TraceFormat traceFormat)
   в System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   в System.Exception.get_StackTrace()
   в System.Exception.ToString()
   в log4net.ObjectRenderer.DefaultRenderer.RenderObject(RendererMap rendererMap, Object obj, TextWriter writer)
   в log4net.ObjectRenderer.RendererMap.FindAndRender(Object obj, TextWriter writer)</stackTrace></log4net.Error>
2017-10-27 16:24:13,928 [24] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в NHibernate.Util.SequencedHashMap.set_Item(Object o, Object value)
   в NHibernate.Util.IdentityMap.set_Item(Object key, Object value)
   в NHibernate.Engine.StatefulPersistenceContext.AddCollection(IPersistentCollection coll, CollectionEntry entry, Object key)
   в NHibernate.Engine.StatefulPersistenceContext.AddUninitializedCollection(ICollectionPersister persister, IPersistentCollection collection, Object id)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:24:26,391 [6] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в System.String.CreateStringFromEncoding(Byte* bytes, Int32 byteLength, Encoding encoding)
   в System.Text.EncodingNLS.GetString(Byte[] bytes, Int32 index, Int32 count)
   в System.Data.SqlClient.TdsParserStateObject.ReadStringWithEncoding(Int32 length, Encoding encoding, Boolean isPlp)
   в System.Data.SqlClient.TdsParser.ReadSqlStringValue(SqlBuffer value, Byte type, Int32 length, Encoding encoding, Boolean isPlp, TdsParserStateObject stateObj)
   в System.Data.SqlClient.TdsParser.ReadSqlValue(SqlBuffer value, SqlMetaDataPriv md, Int32 length, TdsParserStateObject stateObj)
   в System.Data.SqlClient.SqlDataReader.ReadColumnData()
   в System.Data.SqlClient.SqlDataReader.ReadColumn(Int32 i, Boolean setTimeout)
   в System.Data.SqlClient.SqlDataReader.GetValueInternal(Int32 i)
   в System.Data.SqlClient.SqlDataReader.GetValue(Int32 i)
   в System.Data.SqlClient.SqlDataReader.get_Item(Int32 i)
   в NHibernate.Driver.NHybridDataReader.System.Data.IDataRecord.get_Item(Int32 i)
   в NHibernate.Type.AbstractStringType.Get(IDataReader rs, Int32 index)
   в NHibernate.Type.NullableType.NullSafeGet(IDataReader rs, String name)
   в NHibernate.Type.NullableType.NullSafeGet(IDataReader rs, String[] names, ISessionImplementor session, Object owner)
   в NHibernate.Type.AbstractType.Hydrate(IDataReader rs, String[] names, ISessionImplementor session, Object owner)
   в NHibernate.Persister.Entity.AbstractEntityPersister.Hydrate(IDataReader rs, Object id, Object obj, ILoadable rootLoadable, String[][] suffixedPropertyColumns, Boolean allProperties, ISessionImplementor session)
   в NHibernate.Loader.Loader.LoadFromResultSet(IDataReader rs, Int32 i, Object obj, String instanceClass, EntityKey key, String rowIdAlias, LockMode lockMode, ILoadable rootPersister, ISessionImplementor session)
   в NHibernate.Loader.Loader.InstanceNotYetLoaded(IDataReader dr, Int32 i, ILoadable persister, EntityKey key, LockMode lockMode, String rowIdAlias, EntityKey optionalObjectKey, Object optionalObject, IList hydratedObjects, ISessionImplementor session)
   в NHibernate.Loader.Loader.GetRow(IDataReader rs, ILoadable[] persisters, EntityKey[] keys, Object optionalObject, EntityKey optionalObjectKey, LockMode[] lockModes, IList hydratedObjects, ISessionImplementor session)
   в NHibernate.Loader.Loader.GetRowFromResultSet(IDataReader resultSet, ISessionImplementor session, QueryParameters queryParameters, LockMode[] lockModeArray, EntityKey optionalObjectKey, IList hydratedObjects, EntityKey[] keys, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:24:26,531 [11] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:24:26,531 [25] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:24:26,532 [10] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:24:32,700 [24] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:24:32,713 [6] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:29:51,171 [6] WARN  NHibernate.Engine.Loading.LoadContexts [(null)] - fail-safe cleanup (collections) : NHibernate.Engine.Loading.CollectionLoadContext<rs=NHibernate.Driver.NHybridDataReader>
2017-10-27 16:29:51,171 [6] WARN  NHibernate.Engine.Loading.CollectionLoadContext [(null)] - On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
2017-10-27 16:29:51,239 [5] WARN  NHibernate.Engine.Loading.LoadContexts [(null)] - fail-safe cleanup (collections) : NHibernate.Engine.Loading.CollectionLoadContext<rs=NHibernate.Driver.NHybridDataReader>
2017-10-27 16:29:51,239 [5] WARN  NHibernate.Engine.Loading.CollectionLoadContext [(null)] - On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
2017-10-27 16:30:19,500 [25] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в System.Collections.Generic.Dictionary`2.Resize()
   в System.Collections.Generic.Dictionary`2.Insert(TKey key, TValue value, Boolean add)
   в System.Collections.Generic.Dictionary`2.set_Item(TKey key, TValue value)
   в NHibernate.Engine.StatefulPersistenceContext.AddCollection(IPersistentCollection coll, CollectionEntry entry, Object key)
   в NHibernate.Engine.StatefulPersistenceContext.AddUninitializedCollection(ICollectionPersister persister, IPersistentCollection collection, Object id)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:30:19,500 [25] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:30:22,568 [25] WARN  NHibernate.Engine.Loading.LoadContexts [(null)] - fail-safe cleanup (collections) : NHibernate.Engine.Loading.CollectionLoadContext<rs=NHibernate.Driver.NHybridDataReader>
2017-10-27 16:30:22,568 [25] WARN  NHibernate.Engine.Loading.CollectionLoadContext [(null)] - On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
2017-10-27 16:31:25,778 [29] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в System.Collections.Hashtable.rehash(Int32 newsize)
   в System.Collections.Hashtable.expand()
   в System.Collections.Hashtable.Insert(Object key, Object nvalue, Boolean add)
   в System.Collections.Hashtable.set_Item(Object key, Object value)
   в NHibernate.Util.SequencedHashMap.set_Item(Object o, Object value)
   в NHibernate.Util.IdentityMap.set_Item(Object key, Object value)
   в NHibernate.Engine.StatefulPersistenceContext.AddCollection(IPersistentCollection coll, CollectionEntry entry, Object key)
   в NHibernate.Engine.StatefulPersistenceContext.AddUninitializedCollection(ICollectionPersister persister, IPersistentCollection collection, Object id)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:31:25,780 [29] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 16:31:32,681 [29] WARN  NHibernate.Engine.Loading.LoadContexts [(null)] - fail-safe cleanup (collections) : NHibernate.Engine.Loading.CollectionLoadContext<rs=NHibernate.Driver.NHybridDataReader>
2017-10-27 16:31:32,682 [29] WARN  NHibernate.Engine.Loading.CollectionLoadContext [(null)] - On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
2017-10-27 16:49:11,607 [7] WARN  NHibernate.Util.ADOExceptionReporter [(null)] - System.OutOfMemoryException: Выдано исключение типа "System.OutOfMemoryException".
   в System.Collections.Hashtable.rehash(Int32 newsize)
   в System.Collections.Hashtable.expand()
   в System.Collections.Hashtable.Insert(Object key, Object nvalue, Boolean add)
   в System.Collections.Hashtable.set_Item(Object key, Object value)
   в NHibernate.Util.SequencedHashMap.set_Item(Object o, Object value)
   в NHibernate.Util.IdentityMap.set_Item(Object key, Object value)
   в NHibernate.Engine.StatefulPersistenceContext.AddCollection(IPersistentCollection coll, CollectionEntry entry, Object key)
   в NHibernate.Engine.StatefulPersistenceContext.AddUninitializedCollection(ICollectionPersister persister, IPersistentCollection collection, Object id)
   в NHibernate.Type.CollectionType.GetCollection(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveKey(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Type.CollectionType.ResolveIdentifier(Object key, ISessionImplementor session, Object owner)
   в NHibernate.Engine.TwoPhaseLoad.InitializeEntity(Object entity, Boolean readOnly, ISessionImplementor session, PreLoadEvent preLoadEvent, PostLoadEvent postLoadEvent)
   в NHibernate.Loader.Loader.InitializeEntitiesAndCollections(IList hydratedObjects, Object resultSetId, ISessionImplementor session, Boolean readOnly)
   в NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   в NHibernate.Loader.Loader.LoadCollection(ISessionImplementor session, Object id, IType type)
2017-10-27 16:49:11,683 [7] ERROR NHibernate.Util.ADOExceptionReporter [(null)] - Выдано исключение типа "System.OutOfMemoryException".
2017-10-27 17:00:04,490 [7] WARN  NHibernate.Engine.Loading.LoadContexts [(null)] - fail-safe cleanup (collections) : NHibernate.Engine.Loading.CollectionLoadContext<rs=NHibernate.Driver.NHybridDataReader>
2017-10-27 17:00:04,490 [7] WARN  NHibernate.Engine.Loading.CollectionLoadContext [(null)] - On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
