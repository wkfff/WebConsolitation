<?xml version="1.0" encoding="Windows-1251"?>
<root>

  <query id="MD_0001_0001_list_of_dates">
    <![CDATA[ -- name: MD_0001_0001_list_of_dates
with
    member [Measures].[Год]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.Parent.Parent.Name'
    member [Measures].[MDX]
    as '[Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.UniqueName'
select
    {
        [Measures].[Год],
        [Measures].[MDX]
    } on columns,
    {
        filter
        (
            [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Месяц].Members,
            [Measures].[Цена] > 0
        )
    } on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Амбулаторный]
where
    (
        [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена]
    )
    ]]>
  </query>

  <query id ="MD_0001_0001_list_of_regions">
    <![CDATA[ -- name:MD_0001_0001_list_of_regions
with
    member [Measures].[MDX название]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.UniqueName'
    member [Measures].[Название]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Properties("Краткое наименование")'
    member [Measures].[ФО]
    as '[Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Parent.Properties("Краткое наименование")'
    set [Субъекты]
    as 'except
        (
            filter
            (
                descendants
                (
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация],
                    [Территории__Сопоставимый].[Территории__Сопоставимый].[Субъект РФ],
                    SELF
                ),
                not [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember is [Территории__Сопоставимый].[Территории__Сопоставимый].CurrentMember.Parent.DataMember
            ),
            {
                [Территории__Сопоставимый].[Территории__Сопоставимый].[Все территории].[Российская  Федерация]
            }
        )'
select
    {
        [Measures].[Название],
        [Measures].[ФО],
        [Measures].[MDX название]
    } on columns,
    [Субъекты] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Амбулаторный]
    ]]>
  </query>

  <query id="MD_0001_0001_drug_list">
    <![CDATA[ -- query name: MD_0001_0001_drug_list
with
    set [Лекарства]
    as ' filter
        (
            [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Все средства].Children,
            [Measures].[Цена] > 0
        )'
    member [Measures].[MDX имя лекарства]
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.UniqueName'
select
    [Measures].[MDX имя лекарства] on columns,
    non empty [Лекарства] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Амбулаторный]
where
    (
        <%selected_date%>,
        <%selected_region%>
    )    
    ]]>
  </query>
  
  <query id = "MD_0001_0001_grid">
    <![CDATA[ -- MD_0001_0001_grid
with
    set [Лекарства]
    as 'order(filter
        (
            [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Все средства].Children,
            [Measures].[Цена] > 0 and [Measures].[Участие в анализе] = "1"
        ), [Measures].[Лекарство])'

    member [Measures].[Участие в анализе]
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("Участие в анализе")'

-- Описание препаратов
    member [Measures].[Производитель] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("Производитель Страна")' 
    member [Measures].[Производитель_АО] 
    as '[Measures].[Производитель]' 
    member [Measures].[Производитель_ТП] 
    as '[Measures].[Производитель]' 
    member [Организации__Тип цены].[Организации__Тип цены].[Производитель] 
    as 'null' 
    member [Measures].[Лекарство] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Name' 
    member [Measures].[Лекарство_АО] 
    as '[Measures].[Лекарство]' 
    member [Measures].[Лекарство_ТП] 
    as '[Measures].[Лекарство]' 
    member [Организации__Тип цены].[Организации__Тип цены].[Лекарство] 
    as 'null' 
    member [Measures].[MDX имя лекарства] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.UniqueName' 
    member [Measures].[MDX имя лекарства_АО] 
    as '[Measures].[MDX имя лекарства]' 
    member [Measures].[MDX имя лекарства_ТП] 
    as '[Measures].[MDX имя лекарства]' 
    member [Организации__Тип цены].[Организации__Тип цены].[MDX имя лекарства] 
    as 'null'
    member [Measures].[ID для поиска]
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("PKID")'
    member [Measures].[ID для поиска_АО]
    as '[Measures].[ID для поиска]'
    member [Measures].[ID для поиска_ТП]
    as '[Measures].[ID для поиска]'
    member [Организации__Тип цены].[Организации__Тип цены].[ID для поиска]
    as 'null'

-- Цена производителя
    member [Организации__Тип цены].[Организации__Тип цены].[Цена производителя, рубль]
    as 'null'
    member [Measures].[Цена производителя, рубль]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Отпускная цена],
            [Measures].[Цена]
        )'
    member [Measures].[Цена производителя, рубль_Пред]
    as '
        (
            [Measures].[Цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Отпускная цена],
            <%compare_date%>
        )'
    member [Measures].[Цена производителя, рубль_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Цена производителя, рубль]) or ([Measures].[Цена производителя, рубль] = 0) or IsEmpty([Measures].[Цена производителя, рубль_Пред]) or ([Measures].[Цена производителя, рубль_Пред] = 0),
            null,
            [Measures].[Цена производителя, рубль] - [Measures].[Цена производителя, рубль_Пред]
        )'
    member [Measures].[Цена производителя, рубль_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Цена производителя, рубль]) or ([Measures].[Цена производителя, рубль] = 0) or IsEmpty([Measures].[Цена производителя, рубль_Пред]) or ([Measures].[Цена производителя, рубль_Пред] = 0),
            null,
            [Measures].[Цена производителя, рубль] / [Measures].[Цена производителя, рубль_Пред]  - 1
        )'

-- Оптовая цена
    member [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, рубль]
    as 'null'
    member [Measures].[Оптовая цена, рубль]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            [Measures].[Цена]
        )'
    member [Measures].[Оптовая цена, рубль_Пред]
    as '
        (
            [Measures].[Цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            <%compare_date%>
        )'
    member [Measures].[Оптовая цена, рубль_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая цена, рубль]) or ([Measures].[Оптовая цена, рубль] = 0) or IsEmpty([Measures].[Оптовая цена, рубль_Пред]) or ([Measures].[Оптовая цена, рубль_Пред] = 0),
            null,
            [Measures].[Оптовая цена, рубль] - [Measures].[Оптовая цена, рубль_Пред]
        )'
    member [Measures].[Оптовая цена, рубль_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая цена, рубль]) or ([Measures].[Оптовая цена, рубль] = 0) or IsEmpty([Measures].[Оптовая цена, рубль_Пред]) or ([Measures].[Оптовая цена, рубль_Пред] = 0),
            null,
            [Measures].[Оптовая цена, рубль] / [Measures].[Оптовая цена, рубль_Пред]  - 1
        )'

-- Розничная цена
    member [Организации__Тип цены].[Организации__Тип цены].[Розничная цена, рубль]
    as 'null'
    member [Measures].[Розничная цена, рубль]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Розничная цена],
            [Measures].[Цена]
        )'
    member [Measures].[Розничная цена, рубль_Пред]
    as '
        (
            [Measures].[Цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Розничная цена],
            <%compare_date%>
        )'
    member [Measures].[Розничная цена, рубль_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Розничная цена, рубль]) or ([Measures].[Розничная цена, рубль] = 0) or IsEmpty([Measures].[Розничная цена, рубль_Пред]) or ([Measures].[Розничная цена, рубль_Пред] = 0),
            null,
            [Measures].[Розничная цена, рубль] - [Measures].[Розничная цена, рубль_Пред]
        )'
    member [Measures].[Розничная цена, рубль_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Розничная цена, рубль]) or ([Measures].[Розничная цена, рубль] = 0) or IsEmpty([Measures].[Розничная цена, рубль_Пред]) or ([Measures].[Розничная цена, рубль_Пред] = 0),
            null,
            [Measures].[Розничная цена, рубль] / [Measures].[Розничная цена, рубль_Пред]  - 1
        )'

-- Оптовая надбавка
    member [Организации__Тип цены].[Организации__Тип цены].[Оптовая надбавка]
    as 'null'
    member [Measures].[Оптовая надбавка]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            [Measures].[Надбавка]
        )'
    member [Measures].[Оптовая надбавка_Пред]
    as '
        (
            [Measures].[Надбавка],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            <%compare_date%>
        )'
    member [Measures].[Оптовая надбавка_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая надбавка]) or ([Measures].[Оптовая надбавка] = 0) or IsEmpty([Measures].[Оптовая надбавка_Пред]) or ([Measures].[Оптовая надбавка_Пред] = 0),
            null,
            [Measures].[Оптовая надбавка] - [Measures].[Оптовая надбавка_Пред]
        )'
    member [Measures].[Оптовая надбавка_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая надбавка]) or ([Measures].[Оптовая надбавка] = 0) or IsEmpty([Measures].[Оптовая надбавка_Пред]) or ([Measures].[Оптовая надбавка_Пред] = 0),
            null,
            [Measures].[Оптовая надбавка] / [Measures].[Оптовая надбавка_Пред]  - 1
        )'

-- Розничная надбавка
    member [Организации__Тип цены].[Организации__Тип цены].[Розничная надбавка]
    as 'null'
    member [Measures].[Розничная надбавка]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Розничная цена],
            [Measures].[Надбавка]
        )'
    member [Measures].[Розничная надбавка_Пред]
    as '
        (
            [Measures].[Надбавка],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Розничная цена],
            <%compare_date%>
        )'
    member [Measures].[Розничная надбавка_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Розничная надбавка]) or ([Measures].[Розничная надбавка] = 0) or IsEmpty([Measures].[Розничная надбавка_Пред]) or ([Measures].[Розничная надбавка_Пред] = 0),
            null,
            [Measures].[Розничная надбавка] - [Measures].[Розничная надбавка_Пред]
        )'
    member [Measures].[Розничная надбавка_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Розничная надбавка]) or ([Measures].[Розничная надбавка] = 0) or IsEmpty([Measures].[Розничная надбавка_Пред]) or ([Measures].[Розничная надбавка_Пред] = 0),
            null,
            [Measures].[Розничная надбавка] / [Measures].[Розничная надбавка_Пред]  - 1
        )'

-- Оптовая цена, Госпитальный сегмент
    member [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, ГС]
    as 'null'
    member [Measures].[Оптовая цена, ГС] 
    as 'null' 
    member [Measures].[Оптовая цена, ГС_АО] 
    as 'null' 
    member [Measures].[Оптовая цена, ГС_ТП] 
    as 'null' 

-- Набор колонок для вывода
    set [Столбцы]
    as '
        {
            [Организации__Тип цены].[Организации__Тип цены].[Лекарство],
            [Организации__Тип цены].[Организации__Тип цены].[Производитель],
            [Организации__Тип цены].[Организации__Тип цены].[Цена производителя, рубль],
            [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, рубль],
            [Организации__Тип цены].[Организации__Тип цены].[Розничная цена, рубль],
            [Организации__Тип цены].[Организации__Тип цены].[Оптовая надбавка],
            [Организации__Тип цены].[Организации__Тип цены].[Розничная надбавка],
            [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, ГС],
            [Организации__Тип цены].[Организации__Тип цены].[MDX имя лекарства],
            [Организации__Тип цены].[Организации__Тип цены].[ID для поиска]
        }'
-- Обработка того что выводим
    member [Measures].[Значение]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "]"
        )'
    member [Measures].[Абсолютное отклонение]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "_АО]"
        )'
    member [Measures].[Темп прироста]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "_ТП]"
        )'
    set [Строки] 
    as '[Лекарства] 
        * 
        {
            [Measures].[Значение],
            [Measures].[Абсолютное отклонение],
            [Measures].[Темп прироста] 
        }' 
select
    [Столбцы] on columns,
    non empty [Строки] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Амбулаторный]
where
    (
        <%selected_date%>,
        <%selected_region%>
    )
    ]]>
  </query>

  <query id = "MD_0001_0001_grid_h">
    <![CDATA[ -- MD_0001_0001_grid_h
with
    set [Лекарства]
    as ' filter
        (
            [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Все средства].Children,
            [Measures].[Цена] > 0 and [Measures].[Участие в анализе] = "1"
        )'

    member [Measures].[Участие в анализе]
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("Участие в анализе")'

-- Описание препаратов
    member [Measures].[Производитель] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("Производитель Страна")' 
    member [Measures].[Производитель_АО] 
    as '[Measures].[Производитель]' 
    member [Measures].[Производитель_ТП] 
    as '[Measures].[Производитель]' 
    member [Организации__Тип цены].[Организации__Тип цены].[Производитель] 
    as 'null' 
    member [Measures].[Лекарство] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Name' 
    member [Measures].[Лекарство_АО] 
    as '[Measures].[Лекарство]' 
    member [Measures].[Лекарство_ТП] 
    as '[Measures].[Лекарство]' 
    member [Организации__Тип цены].[Организации__Тип цены].[Лекарство] 
    as 'null' 
    member [Measures].[MDX имя лекарства] 
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.UniqueName' 
    member [Measures].[MDX имя лекарства_АО] 
    as '[Measures].[MDX имя лекарства]' 
    member [Measures].[MDX имя лекарства_ТП] 
    as '[Measures].[MDX имя лекарства]' 
    member [Организации__Тип цены].[Организации__Тип цены].[MDX имя лекарства] 
    as 'null'
    member [Measures].[ID для поиска]
    as '[Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("PKID")'
    member [Measures].[ID для поиска_АО]
    as '[Measures].[ID для поиска]'
    member [Measures].[ID для поиска_ТП]
    as '[Measures].[ID для поиска]'
    member [Организации__Тип цены].[Организации__Тип цены].[ID для поиска]
    as 'null'

-- Оптовая цена
    member [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, ГС]
    as 'null'
    member [Measures].[Оптовая цена, ГС]
    as '
        (
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            [Measures].[Цена]
        )'
    member [Measures].[Оптовая цена, ГС_Пред]
    as '
        (
            [Measures].[Цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            <%compare_date%>
        )'
    member [Measures].[Оптовая цена, ГС_АО]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая цена, ГС]) or ([Measures].[Оптовая цена, ГС] = 0) or IsEmpty([Measures].[Оптовая цена, ГС_Пред]) or ([Measures].[Оптовая цена, ГС_Пред] = 0),
            null,
            [Measures].[Оптовая цена, ГС] - [Measures].[Оптовая цена, ГС_Пред]
        )'
    member [Measures].[Оптовая цена, ГС_ТП]
    as 'IIF
        (
            IsEmpty([Measures].[Оптовая цена, ГС]) or ([Measures].[Оптовая цена, ГС] = 0) or IsEmpty([Measures].[Оптовая цена, ГС_Пред]) or ([Measures].[Оптовая цена, ГС_Пред] = 0),
            null,
            [Measures].[Оптовая цена, ГС] / [Measures].[Оптовая цена, ГС_Пред]  - 1
        )'

-- Набор колонок для вывода
    set [Столбцы]
    as '
        {
            [Организации__Тип цены].[Организации__Тип цены].[Лекарство],
            [Организации__Тип цены].[Организации__Тип цены].[Производитель],
            [Организации__Тип цены].[Организации__Тип цены].[Оптовая цена, ГС],
            [Организации__Тип цены].[Организации__Тип цены].[MDX имя лекарства],
            [Организации__Тип цены].[Организации__Тип цены].[ID для поиска]
        }'
-- Обработка того что выводим
    member [Measures].[Значение]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "]"
        )'
    member [Measures].[Абсолютное отклонение]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "_АО]"
        )'
    member [Measures].[Темп прироста]
    as 'StrToMember
        (
            "[Measures].[" + [Организации__Тип цены].[Организации__Тип цены].CurrentMember.Name + "_ТП]"
        )'
    set [Строки] 
    as '[Лекарства] 
        * 
        {
            [Measures].[Значение],
            [Measures].[Абсолютное отклонение],
            [Measures].[Темп прироста] 
        }' 
select
    [Столбцы] on columns,
    non empty [Строки] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Госпитальный]
where
    (
        <%selected_date%>,
        <%selected_region%>
    )
    ]]>
  </query>

  <query id = "MD_0001_0001_chart1_ambulance">
    <![CDATA[ -- MD_0001_0001_chart1_ambulance
with
    member [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Выбранное лекарство]
    as 'filter([Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Все средства].Children,
    [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("PKID") = "<%selected_key%>").Item(0)'
    set [Виды цен]
    as '
        {
            [Организации__Тип цены].[Организации__Тип цены].[Дата],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Отпускная цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Розничная цена]
        }'
    set [Даты]
    as 'Tail
        (
            filter
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[1998].[Полугодие 1].[Квартал 1].[Январь] : <%selected_date%>,
                [Measures].[Цена] > 0
            ) ,
            13
        )'
    member [Организации__Тип цены].[Организации__Тип цены].[Дата]
    as 'LCase([Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name + " " +
    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.Parent.Parent.Name + " года")'
select
    [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Выбранное лекарство] * [Виды цен] on columns,
    [Даты] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Амбулаторный]
where
    (
        [Measures].[Цена],
        <%selected_region%>
    )
    ]]>
  </query>

  <query id = "MD_0001_0001_chart1_hospital">
    <![CDATA[ -- MD_0001_0001_chart1_hospital
with
    member [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Выбранное лекарство]
    as 'filter([Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Все средства].Children,
    [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].CurrentMember.Properties("PKID") = "<%selected_key%>").Item(0)'
    set [Виды цен]
    as '
        {
            [Организации__Тип цены].[Организации__Тип цены].[Дата],
            [Организации__Тип цены].[Организации__Тип цены].[Все типы цен].[Оптовая цена]
        }'
    set [Даты]
    as 'Tail
        (
            filter
            (
                [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].[Данные всех периодов].[1998].[Полугодие 1].[Квартал 1].[Январь] : <%selected_date%>,
                [Measures].[Цена] > 0
            ) ,
            13
        )'
    member [Организации__Тип цены].[Организации__Тип цены].[Дата]
    as 'LCase([Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Name + " " +
    [Период__Год Квартал Месяц].[Период__Год Квартал Месяц].CurrentMember.Parent.Parent.Parent.Name + " года")'
select
    [Продукция__Лекарственные средства Сопоставимый].[Продукция__Лекарственные средства Сопоставимый].[Выбранное лекарство] * [Виды цен] on columns,
    [Даты] on rows
from [МИНЗДРАВСОЦРАЗВИТИЯ_Цены ЛС_Госпитальный]
where
    (
        [Measures].[Цена],
        <%selected_region%>
    )  
    ]]>
  </query>
  
</root>