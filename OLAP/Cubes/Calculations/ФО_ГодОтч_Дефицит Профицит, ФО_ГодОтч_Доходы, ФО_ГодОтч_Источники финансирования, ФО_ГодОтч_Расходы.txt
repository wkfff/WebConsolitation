CALCULATE;

SCOPE([ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[10]);
    this = IIF(CalculationPassValue([ТипДокумента__СКИФ].[ТипДокумента__СКИФ].&[10], 0) = 0,
[ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[6] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[8], CalculationPassValue([ТипДокумента__СКИФ].[ТипДокумента__СКИФ].&[10], 0));
END SCOPE;

SCOPE([ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[20]);
    this = [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[5] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[7] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[10];
END SCOPE;

SCOPE([ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[21]);
    this = [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[5] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[7] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[6] + [ТипДокумента__СКИФ].[ТипДокумента__СКИФ].[Фиксированный].&[8];
END SCOPE;

SCOPE([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[9]);
    this = [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[4] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[5] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[6] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[7];
END SCOPE;

SCOPE([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[1]);
    this = IIF(CalculationPassValue([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[1], 0) = 0,
    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[2] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[8],
    CalculationPassValue([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[1], 0));
END SCOPE;

SCOPE([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[19]);
    this = IIF(not IsLeaf([Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember), 
[Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].[Уровень бюджета].&[9],
IIF(CalculationPassValue([Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[5], 0) = 0,
    [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[4] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[6],
[Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[4] + [Уровни бюджета__СКИФ].[Уровни бюджета__СКИФ].&[5]));
END SCOPE;



CREATE MEMBER CURRENTCUBE.Measures.[Отклонение от назначений] AS [Measures].[Назначено] - [Measures].[Исполнено], FORMAT_STRING = "Currency";

CREATE MEMBER CURRENTCUBE.Measures.[Процент выполнения назначений] AS IIF(IsEmpty(Measures.[Назначено]) or Measures.[Назначено] = 0,
null, Measures.[Исполнено]/Measures.[Назначено]), FORMAT_STRING = "Percent";

CREATE MEMBER CURRENTCUBE.Measures.[Значение прошлого года] AS ([Период__Период].[Период__Период].CurrentMember.PrevMember, [Measures].[Исполнено]), FORMAT_STRING = "Currency";

CREATE MEMBER CURRENTCUBE.Measures.[Отклонение от прошлого года] AS [Measures].[Исполнено] - [Measures].[Значение прошлого года], FORMAT_STRING = "Currency";

CREATE MEMBER CURRENTCUBE.Measures.[Темп роста к прошлому году] AS IIF(IsEmpty([Measures].[Значение прошлого года]) or [Measures].[Значение прошлого года] = 0,
null, [Measures].[Исполнено]/[Measures].[Значение прошлого года]), FORMAT_STRING = "Percent";