CALCULATE;

//Районы__Сопоставимый
SCOPE([Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы]);
    this = IIF(not IsLeaf([Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember), 
IIF([Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember is [Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы], Sum([Районы__Сопоставимый].[Районы__Сопоставимый].[Все районы].Children), 
IIF(not isEmpty([Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.DataMember),      [Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember.DataMember, 0)),
[Районы__Сопоставимый].[Районы__Сопоставимый].CurrentMember);
END SCOPE;
